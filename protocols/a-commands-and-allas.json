{"id":50568,"title":"a-commands and Allas","title_html":"<p>a-commands and Allas<\/p>","image":{"source":"https:\/\/s3.amazonaws.com\/protocols-files\/files\/dsb72kge.jpg","placeholder":"https:\/\/s3.amazonaws.com\/protocols-files\/files\/dsb72kge.jpg"},"doi":null,"doi_status":0,"uri":"a-commands-and-allas-bvmgn43w","type_id":1,"template_id":5,"published_on":1623162562,"parent_protocols":[],"parent_collections":[],"cited_protocols":[],"version_id":0,"version_data":{"id":"0","code":"bvmgn43w","parent_id":0,"parent_uri":null,"is_same_owner":false,"has_pending_merge_request":false,"has_approved_merge_request":false},"created_on":1623161361,"modified_on":null,"categories":null,"public":1,"is_unlisted":0,"creator":{"name":"Alise J. Ponsero","affiliation":"University of Arizona","affiliations":[{"affiliation":"University of Arizona","url":"","is_default":1}],"username":"alise-ponsero","note":null,"link":null,"image":{"source":"https:\/\/s3.amazonaws.com\/pr-journal\/4uh2kge.jpg","placeholder":"https:\/\/s3.amazonaws.com\/pr-journal\/4uh2kge.jpg"},"badges":[{"id":4,"image":{"source":"\/img\/badges\/gold.svg","placeholder":"\/img\/badges\/gold.svg"},"name":"Gold power author!"},{"id":6,"image":{"source":"\/img\/badges\/accelerator.svg","placeholder":"\/img\/badges\/accelerator.svg"},"name":"Science accelerator"}],"verified":0,"is_verified_user":false,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false},"journal":null,"journal_name":null,"journal_link":null,"article_citation":null,"has_versions":0,"link":null,"total_collections":0,"number_of_steps":6,"authors":[{"name":"Alise Ponsero","affiliation":"University of Arizona","affiliations":[],"username":"alise-ponsero","note":"","link":null,"image":{"source":"https:\/\/s3.amazonaws.com\/pr-journal\/4uh2kge.jpg","placeholder":"https:\/\/s3.amazonaws.com\/pr-journal\/4uh2kge.jpg"},"badges":[],"verified":1,"is_verified_user":true,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false}],"versions":[],"groups":[{"id":26652,"uri":"salonen-lab","title":"Salonen lab","image":{"source":"https:\/\/s3.amazonaws.com\/protocols-files\/files\/dsbz2kge.png","placeholder":"https:\/\/s3.amazonaws.com\/protocols-files\/files\/dsbz2kge.png"},"tech_support":{"email":"alise.ponsero@helsinki.fi","phone":null,"hide_contact":0,"use_email":0,"url":null},"is_member":1,"request":{"id":26652,"uri":"salonen-lab","title":"Salonen lab","image":{"source":"https:\/\/s3.amazonaws.com\/protocols-files\/files\/dsbz2kge.png","placeholder":"https:\/\/s3.amazonaws.com\/protocols-files\/files\/dsbz2kge.png"},"tech_support":{"email":"alise.ponsero@helsinki.fi","phone":null,"hide_contact":0,"use_email":0,"url":null},"is_member":1,"description":null,"research_interests":null,"website":null,"location":null,"affiliation":null,"status":{"is_visible":true,"access_level":0},"stats":{"files":[],"total_members":0,"total_followers":0,"total_child_groups":0,"total_parent_groups":0,"has_collaborations":0},"user_status":{"is_member":true,"is_confirmed":true,"is_invited":false,"is_owner":true,"is_admin":false,"is_following":false},"join_link":null,"token":null,"owner":{"name":" ","affiliation":null,"affiliations":[],"username":null,"note":null,"link":null,"image":{"source":null,"placeholder":null},"badges":[],"verified":0,"is_verified_user":false,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false},"is_protocol_requested":0,"is_group_requested":0,"is_my":false,"is_request":false,"is_confirmed":1,"is_declined":0,"requester":{"name":" ","affiliation":null,"affiliation_url":null,"username":null,"link":null},"protocol":{"id":0,"title":"a-commands and Allas","title_html":"a-commands and Allas","image":{"source":null,"placeholder":null},"doi":null,"doi_status":0,"uri":"a-commands-and-allas-bvmgn43w","type_id":1,"template_id":0,"published_on":null,"stats":{"number_of_views":0,"number_of_steps":0,"number_of_bookmarks":0,"number_of_comments":0,"number_of_exports":0,"number_of_runs":0,"number_of_votes":0,"is_voted":0},"parent_protocols":[],"parent_collections":[],"cited_protocols":[]},"created_on":1623162562,"resolve_on":0,"resolved_user":{"name":" ","affiliation":null,"affiliations":[],"username":null,"note":null,"link":null,"image":{"source":null,"placeholder":null},"badges":[],"verified":0,"is_verified_user":false,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false},"shared":false}}],"is_owner":1,"has_subprotocols":0,"is_subprotocol":0,"is_bookmarked":0,"can_claim_authorship":0,"can_accept_authorship":0,"can_be_copied":1,"can_remove_fork":1,"fork_id":null,"url":"https:\/\/www.protocols.io\/view\/a-commands-and-allas-bvmgn43w","forks_count":{"private":0,"public":0},"access":{"can_view":1,"can_remove":1,"can_add":0,"can_edit":0,"can_publish":0,"can_get_doi":1,"can_share":1,"can_move":1,"can_move_outside":1,"can_transfer":1,"can_download":1,"is_locked":0},"guid":"1A6ED240C86311EBA9058304BE4F91E9","state_version_id":499,"steps":[{"id":1193354,"guid":"96C14C60C86311EBA9058304BE4F91E9","previous_id":null,"previous_guid":null,"modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"D21858352234440FB4FFF22B1F5A5F09","order_id":1,"type_id":6,"title":"Section","source":{"title":"Connecting to Allas"}},{"id":1054724,"guid":"2D3151E33F344AED9EC315FCC26350C2","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">In order to interact with Allas, especially to push and pull large files, it is best to request an interactive node.<\/div><div class = \"text-block\">After login into Puthi, type the following to request an interactive node.<\/div><div class = \"text-block\"><pre><code><div class = \"text-blocks\"><div class = \"text-block\">sinteractive<\/div><\/div><\/code><\/pre><\/div><div class = \"text-block\">Follow the instructions (choice of a project for the billing) and get an interactive node!<\/div><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#A492FF","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1193355,"guid":"C97C34D0C86311EBA9058304BE4F91E9","previous_id":1193354,"previous_guid":"96C14C60C86311EBA9058304BE4F91E9","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"8F755D5B43FF4F31842199CBB1F026A9","order_id":1,"type_id":6,"title":"Section","source":{"title":"Connecting to Allas"}},{"id":1054724,"guid":"3D357689DC644E168A3EE955989CB832","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">Then we need to load and configure Allas.<\/div><div class = \"text-block\"><pre><code><div class = \"text-blocks\"><div class = \"text-block\">module load Allas<\/div><\/div><\/code><\/pre><\/div><div class = \"text-block\">Then<\/div><div class = \"text-block\"><pre><code><div class = \"text-blocks\"><div class = \"text-block\">Allas-conf<\/div><\/div><\/code><\/pre><\/div><div class = \"text-block\">Follow the instructions (password and project name for billing units)<\/div><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#A492FF","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1193356,"guid":"FF816640C86311EBA9058304BE4F91E9","previous_id":1193355,"previous_guid":"C97C34D0C86311EBA9058304BE4F91E9","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"BF833CEA6467457591292ED234A5F898","order_id":1,"type_id":6,"title":"Section","source":{"title":"list data stored in Allas"}},{"id":1054724,"guid":"F5AFE90D7E3845EBA466BCA227134612","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">To list all buckets stored in Allas, type<\/div><div class = \"text-block\"><pre><code><div class = \"text-blocks\"><div class = \"text-block\">a-list<\/div><\/div><\/code><\/pre><\/div><div class = \"text-block\">If you want to display the content of a particular bucket, use the same function followed by the name of the bucket<\/div><div class = \"text-block\"><pre><code><div class = \"text-blocks\"><div class = \"text-block\">a-list my_bucket<\/div><\/div><\/code><\/pre><\/div><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#94EBFF","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1193357,"guid":"2CC2A290C86411EBA9058304BE4F91E9","previous_id":1193356,"previous_guid":"FF816640C86311EBA9058304BE4F91E9","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"7AECC316223F4A2F92CB3E3DD17CF6B0","order_id":1,"type_id":6,"title":"Section","source":{"title":"Push data to Allas"}},{"id":1054724,"guid":"BFA3FC53838A45E2B85FE1B128D84553","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">In order to push data to Allas, we can use the command a-put.<\/div><div class = \"text-block\">Navigate to the folder or file you want to push to Allas, and type:<\/div><div class = \"text-block\"><pre><code><div class = \"text-blocks\"><div class = \"text-block\">a-put my_file -b my_bucket<\/div><\/div><\/code><\/pre><\/div><div class = \"text-block\">If the name of the bucket after the -b parameter is new, a new bucket with that name will be automatically created. <\/div><div class = \"text-block\">You can push a complete folder using the same command:<\/div><div class = \"text-block\"><pre><code><div class = \"text-blocks\"><div class = \"text-block\">a-put my_folder -b my_bucket<\/div><\/div><\/code><\/pre><\/div><div class = \"text-block\">NOTE: If you are pushing a complete folder, it will be zipped before being sent to Allas. You won't be able to list the content of that folder anymore using the a-list function!<\/div><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#84CE84","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1193359,"guid":"D2EC7A10C86411EBA9058304BE4F91E9","previous_id":1193357,"previous_guid":"2CC2A290C86411EBA9058304BE4F91E9","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"5EF3A2722E724AF2912BC36BA727E98A","order_id":1,"type_id":6,"title":"Section","source":{"title":"get data back from Allas"}},{"id":1054724,"guid":"A058B7F6DB5C47348909EE1D93E46658","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">You can retrieve a file or folder stored in Allas using the a-get command<\/div><div class = \"text-block\"><pre><code><div class = \"text-blocks\"><div class = \"text-block\">a-get my_bucket\/my_file<\/div><\/div><\/code><\/pre><\/div><div class = \"text-block\">If you pushed a complete folder, you can retrieve the complete folder by the same method<\/div><div class = \"text-block\"><pre><code><div class = \"text-blocks\"><div class = \"text-block\">a-get my_bucket\/my_folder<\/div><\/div><\/code><\/pre><\/div><div class = \"text-block\"><pre><code>a-get<\/code><\/pre><\/div><div class = \"text-block\"><pre><code>a-get<\/code><\/pre><\/div><div class = \"text-block\"><pre><code>a-get<\/code><\/pre><\/div><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#FFED92","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1193361,"guid":"4C8133C0C86511EBA9058304BE4F91E9","previous_id":1193359,"previous_guid":"D2EC7A10C86411EBA9058304BE4F91E9","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"4E2FF9F0C37043099FB6216DC5FFCB2B","order_id":1,"type_id":6,"title":"Section","source":{"title":"get data back from Allas"}},{"id":1054724,"guid":"FDF26C3D8AD642B3BF927E0143ED5860","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">If you need to retrieve the whole bucket you have stored in Allas, you need a bit more work. You need first to list the content of the bucket using the a-list command and then read the list in a loop and download one by one the content.<\/div><div class = \"text-block\"><pre><code><div class = \"text-blocks\"><div class = \"text-block\">#make a list of objects<\/div><div class = \"text-block\">a-list my_bucket > list.txt<\/div><div class = \"text-block\">#use the list in for loop<\/div><div class = \"text-block\">for ob in $(cat list.txt)<\/div><div class = \"text-block\">do<\/div><div class = \"text-block\">  a-get $ob<\/div><div class = \"text-block\">done  <\/div><div class = \"text-block\">#remove the object list<\/div><div class = \"text-block\">rm list.txt<\/div><\/div><\/code><\/pre><\/div><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#FFED92","section_duration":0,"critical":null,"critical_id":null,"duration":0}],"document":"","materials":[],"description":"<div class = \"text-blocks\"><div class = \"text-block\">Main interactions between Puhti and the Allas storage service at CSC using the a-command tools.<\/div><div class = \"text-block\"><span>For more detailed documentations on Allas and a-commands: <\/span><a href=\"https:\/\/docs.csc.fi\/data\/Allas\/using_allas\/a_commands\" style = \"text-decoration:underline;color:blue;cursor:pointer;\"><span style = \":;\">https:\/\/docs.csc.fi\/data\/Allas\/using_allas\/a_commands\/<\/span><\/a><\/div><\/div>","changed_on":1623162562}