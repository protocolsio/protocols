{"id":47177,"title":"Cecret Workflow Protocol for SARS-CoV-2 Assembly and Lineage Classification ","title_html":"<p>Cecret Workflow Protocol for SARS-CoV-2 Assembly and Lineage Classification <\/p>","image":{"source":"https:\/\/www.protocols.io\/img\/default_protocol.png","placeholder":"https:\/\/www.protocols.io\/img\/default_protocol.png"},"doi":null,"doi_status":0,"uri":"cecret-workflow-protocol-for-sars-cov-2-assembly-a-bsbhnaj6","type_id":1,"template_id":5,"published_on":1613082058,"parent_protocols":[],"parent_collections":[],"cited_protocols":[],"version_id":0,"version_data":{"id":"0","code":"bsbhnaj6","parent_id":0,"parent_uri":null,"is_same_owner":false,"has_pending_merge_request":false,"has_approved_merge_request":false},"created_on":1612987594,"modified_on":null,"categories":null,"public":1,"is_unlisted":0,"creator":{"name":"ycm6 ","affiliation":null,"affiliations":[],"username":"m4vle112v1w4yle1","note":null,"link":"https:\/\/github.com\/StaPH-B\/staphb_toolkit","image":{"source":"\/img\/avatars\/001.png","placeholder":"\/img\/avatars\/001.png"},"badges":[{"id":2,"image":{"source":"\/img\/badges\/bronze.svg","placeholder":"\/img\/badges\/bronze.svg"},"name":"Author"}],"verified":0,"is_verified_user":false,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false},"journal":null,"journal_name":null,"journal_link":null,"article_citation":null,"has_versions":0,"link":"https:\/\/github.com\/StaPH-B\/staphb_toolkit","total_collections":0,"number_of_steps":4,"authors":[{"name":"Erin Young","affiliation":"Utah Public Health Laboratory","affiliations":[],"username":"erin-young1","note":"","link":null,"image":{"source":"\/img\/avatars\/002.png","placeholder":"\/img\/avatars\/002.png"},"badges":[],"verified":1,"is_verified_user":true,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false},{"name":"TOAST    CDC Workgroup","affiliation":"Centers for Disease Control and Prevention","affiliations":[],"username":"w2z28413t2y2","note":"toast@cdc.gov","link":null,"image":{"source":"\/img\/avatars\/001.png","placeholder":"\/img\/avatars\/001.png"},"badges":[],"verified":0,"is_verified_user":false,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false}],"versions":[],"groups":[{"id":1682,"uri":"coronavirus-method-development-community","title":"Coronavirus Method Development Community","image":{"source":"https:\/\/s3.amazonaws.com\/protocols-files\/public\/7ef07ff3faeb41d8ea644f433c443c1d6f7d7c3cd480d4aebeeccb93a3f61ccf\/bzujfw26.png","placeholder":"https:\/\/s3.amazonaws.com\/protocols-files\/public\/7ef07ff3faeb41d8ea644f433c443c1d6f7d7c3cd480d4aebeeccb93a3f61ccf\/bzujfw26.png"},"tech_support":{"email":null,"phone":null,"hide_contact":0,"use_email":0,"url":null},"is_member":0,"request":{"id":1682,"uri":"coronavirus-method-development-community","title":"Coronavirus Method Development Community","image":{"source":"https:\/\/s3.amazonaws.com\/protocols-files\/public\/7ef07ff3faeb41d8ea644f433c443c1d6f7d7c3cd480d4aebeeccb93a3f61ccf\/bzujfw26.png","placeholder":"https:\/\/s3.amazonaws.com\/protocols-files\/public\/7ef07ff3faeb41d8ea644f433c443c1d6f7d7c3cd480d4aebeeccb93a3f61ccf\/bzujfw26.png"},"tech_support":{"email":null,"phone":null,"hide_contact":0,"use_email":0,"url":null},"is_member":0,"description":null,"research_interests":null,"website":null,"location":null,"affiliation":null,"status":{"is_visible":true,"access_level":0},"stats":{"files":[],"total_members":0,"total_followers":0,"total_child_groups":0,"total_parent_groups":0,"has_collaborations":0},"user_status":{"is_member":false,"is_confirmed":true,"is_invited":false,"is_owner":false,"is_admin":false,"is_following":false},"join_link":null,"token":null,"owner":{"name":" ","affiliation":null,"affiliations":[],"username":null,"note":null,"link":null,"image":{"source":null,"placeholder":null},"badges":[],"verified":0,"is_verified_user":false,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false},"is_protocol_requested":0,"is_group_requested":0,"is_my":false,"is_request":false,"is_confirmed":1,"is_declined":0,"requester":{"name":" ","affiliation":null,"affiliation_url":null,"username":null,"link":null},"protocol":{"id":0,"title":"Cecret Workflow Protocol for SARS-CoV-2 Assembly and Lineage Classification ","title_html":"Cecret Workflow Protocol for SARS-CoV-2 Assembly and Lineage Classification ","image":{"source":null,"placeholder":null},"doi":null,"doi_status":0,"uri":"cecret-workflow-protocol-for-sars-cov-2-assembly-a-bsbhnaj6","type_id":1,"template_id":0,"published_on":null,"stats":{"number_of_views":0,"number_of_steps":0,"number_of_bookmarks":0,"number_of_comments":0,"number_of_exports":0,"number_of_runs":0,"number_of_votes":0,"is_voted":0},"parent_protocols":[],"parent_collections":[],"cited_protocols":[]},"created_on":1613116447,"resolve_on":0,"resolved_user":{"name":" ","affiliation":null,"affiliations":[],"username":null,"note":null,"link":null,"image":{"source":null,"placeholder":null},"badges":[],"verified":0,"is_verified_user":false,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false},"shared":false}}],"is_owner":1,"has_subprotocols":0,"is_subprotocol":0,"is_bookmarked":0,"can_claim_authorship":0,"can_accept_authorship":0,"can_be_copied":1,"can_remove_fork":1,"fork_id":null,"url":"https:\/\/www.protocols.io\/view\/cecret-workflow-protocol-for-sars-cov-2-assembly-a-bsbhnaj6","forks_count":{"private":0,"public":0},"access":{"can_view":1,"can_remove":1,"can_add":0,"can_edit":0,"can_publish":0,"can_get_doi":1,"can_share":1,"can_move":1,"can_move_outside":1,"can_transfer":1,"can_download":1,"is_locked":0},"guid":"58D424C06BDB11EBA813CDF33E2BE829","state_version_id":531,"steps":[{"id":1123793,"guid":"793442906BDB11EBA813CDF33E2BE829","previous_id":null,"previous_guid":null,"modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"BC07CB2AAC86473DAFD567089C8EBD28","order_id":1,"type_id":6,"title":"Section","source":{"title":"Load Dependencies"}},{"id":1054724,"guid":"2E99F32E2DC3470C9BAD6E3BB38F7F47","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">Load Software Dependencies<\/div><\/div>"}},{"id":1054725,"guid":"D238613559DB41AF9158AF2828B83438","order_id":2,"type_id":26,"title":"notes","source":{"id":0,"parent_id":0,"uri":"","title":"","body":"<div class = \"text-blocks\"><div class = \"text-block\">The staphb_toolkit requires either singularity or docker, Python 3.6 or greater, and Java version 8 or later. If you do not yet have these installed, do so at this time, and ensure they are in your PATH. Within the CDC high-performance computing cluster, these dependencies can be loaded into the environment using the following GNU module commands. <\/div><\/div>","created_on":0,"changed_on":0,"creator":{"name":" ","affiliation":null,"affiliations":[],"username":"","note":null,"link":null,"image":{"source":"","placeholder":""},"badges":[],"verified":0,"is_verified_user":false,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false},"comments":[]}},{"id":1054726,"guid":"8DFB11E06BE011EBA813CDF33E2BE829","order_id":3,"type_id":15,"title":"command","source":{"id":8531,"name":"module load Python\/3.9.1\nmodule load java\/jdk1.8.0_221\nmodule load nextflow\/20.04.1\nmodule load singularity\/3.5.3","command_name":"Loading dependencies for staphb_toolkit","command":null,"os_name":null,"os_version":null}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#A492FF","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1124015,"guid":"1BABAD806BE911EB9069897A7111DF78","previous_id":1123793,"previous_guid":"793442906BDB11EBA813CDF33E2BE829","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"CBC893744B8F47EBB3E8C0D264CA443A","order_id":1,"type_id":6,"title":"Section","source":{"title":"Install staphb_tookit"}},{"id":1054724,"guid":"D7BA6BE4DC5B41F5B7B492DC8D9A77FC","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">Install the staphb_toolkit which includes the Cecret assembly workflow<\/div><\/div>"}},{"id":1054725,"guid":"9E25C7006BE911EB9069897A7111DF78","order_id":2,"type_id":15,"title":"command","source":{"id":8532,"name":"git clone\u00a0https:\/\/github.com\/StaPH-B\/staphb_toolkit.git\ncd staphb_toolkit\/packaging\/\npython3 setup.py install --user\ncd ..\/\nexport PATH=$PATH:$(pwd)","command_name":"staphb_tookit Install","command":null,"os_name":null,"os_version":null}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#94EBFF","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1124020,"guid":"B2973CA06BE911EB9069897A7111DF78","previous_id":1124015,"previous_guid":"1BABAD806BE911EB9069897A7111DF78","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"B430389D50AC49019CC30B61BEB3EE37","order_id":1,"type_id":6,"title":"Section","source":{"title":"Running Cecret Workflow"}},{"id":1054724,"guid":"878CAA2B8AE1400B9610111A874C5EBD","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">Run the Cecret workflow to perform sequence assembly and lineage classification<\/div><\/div>"}},{"id":1054725,"guid":"AB2CF44905FA47E0AAB19700A85EFD00","order_id":2,"type_id":26,"title":"notes","source":{"id":0,"parent_id":0,"uri":"","title":"","body":"<div class = \"text-blocks\"><div class = \"text-block\"><span>The input directory for Cecret contains a set of single or paired-end (default) fastq.gz or fastq reads from amplicon prepared libraries. By default, Cecret is configured to use the Arctic SARS-CoV-2 V3 primer set for primer trimming. However, this is customizable if another primer set is used. In this run we set the <\/span><span style = \"font-style:italic;\">--profile<\/span><span> argument to use Singularity containers but Cecret works with Docker containers as well (<\/span><span style = \"font-style:italic;\">--profile<\/span><span> docker).<\/span><\/div><\/div>","created_on":0,"changed_on":0,"creator":{"name":" ","affiliation":null,"affiliations":[],"username":"","note":null,"link":null,"image":{"source":"","placeholder":""},"badges":[],"verified":0,"is_verified_user":false,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false},"comments":[]}},{"id":1054726,"guid":"C1C20DF06BF211EB9069897A7111DF78","order_id":3,"type_id":15,"title":"command","source":{"id":8534,"name":"#Input Sequencing Reads File Path: \n\/Full_Path_to_Fastq_File_Directory\/INPUT\/SRR11953697\n\n#Output Directory:\n\/Full_Path_to_Cecret_Output_Directory\/SRR11953697_cecret_output","command_name":"Cecret Input and Output File Paths","command":null,"os_name":null,"os_version":null}},{"id":1054727,"guid":"3089F9406BEA11EB9069897A7111DF78","order_id":4,"type_id":15,"title":"command","source":{"id":8533,"name":"staphb-wf cecret \/Full_Path_to_Fastq_File_Directory\/INPUT\/SRR11953697 --output \/Full_Path_to_Cecret_Output_Directory\/SRR11953697_cecret_output --profile singularity","command_name":"Cecret Workflow Command","command":null,"os_name":null,"os_version":null}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#84CE84","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1124150,"guid":"FA1834406BF211EB9069897A7111DF78","previous_id":1124020,"previous_guid":"B2973CA06BE911EB9069897A7111DF78","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"70DBC5DC56CA40C69C1BF599F98C3177","order_id":1,"type_id":6,"title":"Section","source":{"title":"Access Output Files"}},{"id":1054724,"guid":"527BCB01DF6F41A19618A3AE3D9EE9C7","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">Paths for the assembled consensus sequence and the summary report file which contain Pangolin and Nextclade lineage classifications<\/div><\/div>"}},{"id":1054725,"guid":"06961CC06BF611EB9069897A7111DF78","order_id":2,"type_id":15,"title":"command","source":{"id":8535,"name":"#Consensus Sequence Path:\n\/Full_Path_to_Cecret_Output_Directory\/SRR11953697_cecret_output\/consensus\/SRR11953697.consensus.fa\n\n#Summary Report Path:\n\/Full_Path_to_Cecret_Output_Directory\/SRR11953697_cecret_output\/summary.txt","command_name":"Cecret Consensus Sequence and Summary Report Paths","command":"","os_name":null,"os_version":null}}],"cases":[{"guid":"BA6D5ED06C7711EBA28B55A0954F1CB1","step_guid":"FA1834406BF211EB9069897A7111DF78","title":"Cecret Output Error for Pangolin Lineages","short_title":"Pangolin Error ","description":"{\"blocks\":[{\"key\":\"8dlob\",\"text\":\"If Cecret throws a Pangolin error like the following:\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"f2a81\",\"text\":\"Command error:    usage: pangolin <query> [options]    \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"9jks9\",\"text\":\"pangolin: error: unrecognized arguments: -lv   \\n\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"2lq8e\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"9gs9d\",\"text\":\"Upload the Cecret generated consensus file to the Pangolin COVID-19 Lineage Assigner instead:\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"i86\",\"text\":\"https:\/\/pangolin.cog-uk.io\/\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"offset\":0,\"length\":27,\"key\":0}],\"data\":{}},{\"key\":\"dhve5\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"3radr\",\"text\":\"Upload the consensus sequence for each sample to the Pangolin server and hit the 'Start analysis' button:\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"3qrjl\",\"text\":\"   \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"offset\":0,\"length\":1,\"key\":1}],\"data\":{}},{\"key\":\"b4ub6\",\"text\":\"The Pangolin COVID-19 Lineage Assigner will provide lineage classification and assignment probability in the right two columns:\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"334cu\",\"text\":\"   \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"offset\":0,\"length\":1,\"key\":2}],\"data\":{}},{\"key\":\"k9hi\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{\"0\":{\"type\":\"link\",\"data\":{\"guid\":\"890EFB826C7A11EB84BB0A58A9FEAC2A\",\"url\":\"https:\/\/pangolin.cog-uk.io\"}},\"1\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"id\":89543,\"source\":\"https:\/\/s3.amazonaws.com\/protocols-files\/files\/czqhbipmp.png\",\"placeholder\":\"https:\/\/s3.amazonaws.com\/protocols-files\/files\/czqibipmp.png\",\"original_name\":\"image.png\",\"mime\":\"image\/png\",\"is_video\":false,\"width\":550,\"height\":95,\"legend\":{\"blocks\":[{\"key\":\"al5u0\",\"text\":\"Pangolin COVID-19 Lineage Assigner Example\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{}},\"type\":1,\"guid\":\"028C79F06C7B11EBA28B55A0954F1CB1\"}},\"2\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"id\":89545,\"source\":\"https:\/\/s3.amazonaws.com\/protocols-files\/files\/czqjbipmp.png\",\"placeholder\":\"https:\/\/s3.amazonaws.com\/protocols-files\/files\/czqkbipmp.png\",\"original_name\":\"image.png\",\"mime\":\"image\/png\",\"is_video\":false,\"width\":550,\"height\":95,\"legend\":{\"blocks\":[{\"key\":\"11ftt\",\"text\":\"Pangolin COVID-19 Lineage Assigner Output\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{}},\"type\":1,\"guid\":\"81DF62D06C7B11EBA28B55A0954F1CB1\"}}}}","first_step_id":null,"first_step_guid":"00000000000000000000000000000000"}],"data":null,"html":null,"section":null,"section_color":"#FFED92","section_duration":0,"critical":null,"critical_id":null,"duration":0}],"document":"","materials":[],"description":"<div class = \"text-blocks\"><div class = \"text-block\">This protocol provides instructions on how to install the staphb_toolkit and run the Cecret workflow. Cecret produces SARS-CoV-2 consensus sequences from single or paired-end fastq.gz or fastq reads and generates lineage classifications using Pangolin and Nextclade. This document applies to all WGS on the Illumina platform and downstream bioinformatics for CDC partner laboratories.<\/div><\/div>","changed_on":1613082058}