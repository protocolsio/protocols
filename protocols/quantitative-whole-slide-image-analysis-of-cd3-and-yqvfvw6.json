{"access":{"can_view":true,"can_edit":false,"can_remove":false,"can_add":false,"can_publish":false,"can_get_doi":false,"can_share":false,"can_move":false,"can_move_outside":false,"can_transfer":false,"can_download":true,"limited_run":false,"limited_private_links":false,"limited_blind_links":false,"is_locked":false},"acknowledgements":"","authors":[{"name":"Seungyeon Yoo","affiliation":"Department of Pathology, Seoul National University Hospital, Seoul National University College of Medicine, Republic of Korea","affiliation_url":null,"username":"seungyeon-yoo","link":null,"user_image_file":{"guid":"00000000000000000000000000000001","file_name":"avatar.png","url":"https://www.protocols.io/img/avatars/001.png","mime":"image/png","size":0,"width":100,"height":100,"avg_color":"","scan_status":0,"created_at":0},"note":null,"is_verified_user":true}],"before_start":"{\"blocks\":[{\"key\":\"b6vbb\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{}}","book_chapter":null,"can_accept_authorship":false,"can_be_copied":true,"can_claim_authorship":false,"can_manage_keywords":true,"can_remove_fork":false,"can_sign":false,"child_steps":{},"cited_protocols":[],"collection_items":[],"created_on":1551411748,"creator":{"name":"Seungyeon Yoo","affiliation":"","affiliation_url":null,"username":"seungyeon-yoo","link":null,"user_image_file":{"guid":"00000000000000000000000000000001","file_name":"avatar.png","url":"https://www.protocols.io/img/avatars/001.png","mime":"image/png","size":0,"width":100,"height":100,"avg_color":"","scan_status":0,"created_at":0},"badges":[],"affiliations":[{"affiliation":null,"url":null,"job_title":null,"is_default":true}]},"cross_cloud_origin":null,"description":"{\"blocks\":[{\"key\":\"2266b\",\"text\":\"Given the virtual slide images of CD3 and CD8 immunohistochemical stains, this protocol provides the following quantitative measures of tumor immune microenvironment:\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"b1f6j\",\"text\":\"Density of intraepithelial/stromal tumor-infiltrating lymphocytes (TIL)\",\"type\":\"unordered-list-item\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"d9nv4\",\"text\":\"Proportion of stroma within an annotated tumor area\",\"type\":\"unordered-list-item\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"e9aeg\",\"text\":\"Ratio of intraepithelial and stromal TIL \",\"type\":\"unordered-list-item\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"2l31s\",\"text\":\"Ratio of CD8 and CD3 TIL \",\"type\":\"unordered-list-item\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"5s9qs\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"ft95n\",\"text\":\"Once you annotate the tumor area manually, it segments the area into 1000 x 1000-pixel tiles. This enables you to assess not only the overall density of TIL and stroma, but also their mean, minimum, median, maximum and variance over the tiles. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":134,\"length\":7}],\"entityRanges\":[],\"data\":[]},{\"key\":\"cnega\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"cpyor\",\"text\":\" \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":null,\"entityRanges\":null,\"data\":{}},{\"key\":\"lx0p2\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"8nl3v\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"image\",\"mutability\":\"\",\"data\":{\"guid\":\"E9C2EF0F342911EEAFD10A58A9FEAC02\",\"height\":419,\"is_image\":true,\"is_video\":false,\"legend\":\"{\\\"blocks\\\":null,\\\"entityMap\\\":null}\",\"mime\":\"image/png\",\"original_name\":\"overview.PNG\",\"placeholder\":\"\",\"source\":\"https://content.protocols.io/bbfya.png\",\"width\":671}}}}","disclaimer":"","document":"","documents":null,"doi":"dx.doi.org/10.17504/protocols.io.yqvfvw6","doi_status":2,"ethics_statement":"","fork_id":null,"fork_info":null,"fork_info_status":"not_fork","forks":[],"funders":[],"groups":[],"guid":"877A7624B9DA11E99CA40242AC110005","guidelines":"{\"blocks\":[{\"key\":\"av79s\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{}}","has_references":false,"has_step_reagents":false,"has_versions":true,"id":20981,"image":{"source":"https://content.protocols.io/bbfwa.png","webp_source":"","placeholder":"https://content.protocols.io/bbfxa.png","webp_placeholder":""},"image_attribution":"","in_trash":false,"is_bookmarked":false,"is_contact_suspended":false,"is_content_confidential":false,"is_content_warning":false,"is_doi_reserved":false,"is_in_pending_publishing":false,"is_in_transfer":false,"is_owner":true,"is_research":false,"is_retracted":false,"is_shared_directly":false,"is_subprotocol":null,"is_unlisted":false,"item_id":412227,"journal":null,"journals":[{"journal_id":"10.4132/jptm.2024.09.26","name":"Journal of Pathology and Translational Medicine","group_id":1,"link":"https://doi.org/10.4132/jptm.2024.09.26","citation":"Lee J, Park HE, Jin H, Jin L, Yoo SY, Cho N, Bae JM, Kim JH, Kang GH (2024) The combination of CDX2 expression status and tumor-infiltrating lymphocyte density as a prognostic factor in adjuvant FOLFOX-treated patients with stage III colorectal cancers. Journal of Pathology and Translational Medicine 59(1). doi: \u003ca target=\"_blank\" href=\"https://dx.doi.org/10.4132/jptm.2024.09.26\"\u003e10.4132/jptm.2024.09.26\u003c/a\u003e","is_main":false}],"keywords":null,"last_modified":1737200684,"link":"","location":null,"manuscript_citation":"","materials":[],"materials_text":"{\"blocks\":[{\"key\":\"4cljf\",\"text\":\"1. Computer (of course)\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":0,\"length\":23}],\"entityRanges\":[],\"data\":[]},{\"key\":\"f17cu\",\"text\":\" This protocol has been tested on the machines with the following specification: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"cr8st\",\"text\":\"Windows 10, AMD Ryzen 7 1700 3.00 GHz (RAM 32GB)\",\"type\":\"unordered-list-item\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"tifo\",\"text\":\"Windows 7, Intel i7-4790 3.60 GHz (RAM 32GB)\",\"type\":\"unordered-list-item\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"mgag\",\"text\":\"Ubuntu 14.04 LTS, Intel Xeon 3.40 GHz (RAM 32GB) \",\"type\":\"unordered-list-item\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"es7q7\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"ch0p6\",\"text\":\"In one word: no supercomputer needed. I have to nothing to say about Mac machines since I have never used them. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"17h9l\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"ehonp\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"dt5sl\",\"text\":\"2. Software \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":0,\"length\":12}],\"entityRanges\":[],\"data\":[]},{\"key\":\"d104\",\"text\":\"Python 2.7 (NOT 3.X)\",\"type\":\"unordered-list-item\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":0,\"length\":20}],\"entityRanges\":[],\"data\":[]},{\"key\":\"4c5vp\",\"text\":\"As a window user, I used Anaconda (https://www.anaconda.com/download/) because I needed numpy.. you might try other options here (https://scipy.org/install.html)\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"UNDERLINE\",\"offset\":35,\"length\":34},{\"style\":\"UNDERLINE\",\"offset\":130,\"length\":30}],\"entityRanges\":[{\"key\":0,\"offset\":35,\"length\":34},{\"key\":1,\"offset\":130,\"length\":30}],\"data\":[]},{\"key\":\"tpj5\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"dtpqd\",\"text\":\"R \",\"type\":\"unordered-list-item\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":0,\"length\":2}],\"entityRanges\":[],\"data\":[]},{\"key\":\"359di\",\"text\":\"'caret', 'readr' and 'randomForest' packages have to be installed in advance and the directory where Rscript.exe resides has to be included in the PATH system variable. For those who are not sure what you have to do, please google with keywords such as 'how to install a package in R' or 'how to add a new folder to system path'. The directory where Rscript.exe resides in my computer was C:\\\\Program Files\\\\R\\\\R-3.5.2\\\\bin. Yours can be different, so please check it. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":0,\"length\":9},{\"style\":\"bold\",\"offset\":10,\"length\":26},{\"style\":\"bold\",\"offset\":81,\"length\":32}],\"entityRanges\":[],\"data\":[]},{\"key\":\"65np5\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"2ho8d\",\"text\":\"QuPath (Link)\",\"type\":\"unordered-list-item\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":0,\"length\":13}],\"entityRanges\":[{\"key\":2,\"offset\":8,\"length\":4}],\"data\":[]},{\"key\":\"2rpdd\",\"text\":\"It seems that the availability of a machine totally depends on the operability of QuPath; I discovered that QuPath is not as stable on Linux as it is on Windows. In fact, I failed to run this algorithm on a centOS linux 7 supercomputer. It would be helpful to check the googlegroup of QuPath users (Link) when you have troubles with QuPath. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":3,\"offset\":299,\"length\":4}],\"data\":[]},{\"key\":\"53o75\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"dcfa3\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"fig6e\",\"text\":\"3. Your own virtual slides \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":0,\"length\":27}],\"entityRanges\":[],\"data\":[]},{\"key\":\"bvq8o\",\"text\":\" For each patient case, a representative tumor block was selected, immunohistochemistry of CD3 and CD8 was performed and the slides were scanned by Aperio AT2 slide scanner at 20x magnification. Why not 40x? just storage issues. I've also tried some images scanned at 40x manification but had no problem.\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":0,\"length\":1},{\"style\":\"bold\",\"offset\":148,\"length\":10},{\"style\":\"bold\",\"offset\":176,\"length\":4}],\"entityRanges\":[],\"data\":[]},{\"key\":\"3h1tu\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"fcvn5\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"87sf2\",\"text\":\"4. Codes + α\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":0,\"length\":12}],\"entityRanges\":[],\"data\":[]},{\"key\":\"74oe9\",\"text\":\" Check here\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":4,\"offset\":7,\"length\":4}],\"data\":[]},{\"key\":\"7l8ue\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"69ouc\",\"text\":\"You need to create a working directory, create four subdirectories and distribute files as follows: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"2askg\",\"text\":\" \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":null,\"entityRanges\":null,\"data\":{}},{\"key\":\"wxkmp\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":5,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"5cq9h\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"link\",\"mutability\":\"\",\"data\":{\"guid\":\"DC2CE2E853A841AB827AF4EC24412BB2\",\"url\":\"https://www.anaconda.com/download/\"}},\"1\":{\"type\":\"link\",\"mutability\":\"\",\"data\":{\"guid\":\"AAA17228EFB94D56AAE879B0A951B8A6\",\"url\":\"https://scipy.org/install.html\"}},\"2\":{\"type\":\"link\",\"mutability\":\"\",\"data\":{\"guid\":\"547964F0064611E9BF1DC1F283FFB074\",\"url\":\"https://qupath.github.io/\"}},\"3\":{\"type\":\"link\",\"mutability\":\"\",\"data\":{\"guid\":\"CAD19BD0064711E9BF1DC1F283FFB074\",\"url\":\"https://groups.google.com/forum/#!forum/qupath-users\"}},\"4\":{\"type\":\"link\",\"mutability\":\"\",\"data\":{\"guid\":\"68D721A029CB11E9B89F117BC45E9A42\",\"url\":\"https://github.com/nowhere27/TIMEanalysis\"}},\"5\":{\"type\":\"image\",\"mutability\":\"\",\"data\":{\"guid\":\"E9C2F805342911EEAFD10A58A9FEAC02\",\"height\":163,\"is_image\":true,\"is_video\":false,\"legend\":\"{\\\"blocks\\\":null,\\\"entityMap\\\":null}\",\"mime\":\"image/png\",\"original_name\":\"Material_1.PNG\",\"placeholder\":\"\",\"source\":\"https://content.protocols.io/bbiga.png\",\"width\":688}}}}","ownership_history":null,"parent_collections":[],"parent_protocols":[],"peer_reviewed":false,"protocol_references":"","public":true,"public_fork_note":"","published_on":1737200684,"references":[],"related_equipments":[],"related_materials":[],"reserved_doi":"","retraction_reason":null,"samples":{},"shared_access_id":0,"show_comparison":false,"sign_info":null,"space_access":null,"space_id":0,"state_version_id":8,"stats":{"is_voted":false,"number_of_views":1915,"number_of_steps":12,"number_of_bookmarks":2,"number_of_comments":0,"number_of_bookmarked_comments":0,"number_of_steps_comments":0,"number_of_protocol_comments":0,"number_of_exports":24,"number_of_runs":0,"number_of_votes":0,"number_of_reagents":0,"number_of_equipments":0,"number_of_collections":0,"number_of_forks":{"private":0,"public":0},"number_of_accessible_forks":0},"status":{"id":1,"info":""},"steps":[{"id":715584,"guid":"6033E032698C48488B8B2669FEC18843","previous_id":0,"previous_guid":null,"section":"Create a new project","section_color":"#A492FF","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"fkxhn\",\"text\":\" \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":null,\"entityRanges\":null,\"data\":{}},{\"key\":\"r2xtk\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"s4ia\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"uriol\",\"text\":\" \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":null,\"entityRanges\":null,\"data\":{}},{\"key\":\"ak1d0\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":1,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"64qqc\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"cva7s\",\"text\":\"After creating the project, open 'code' folder and execute 'run.bat' by double-clicking. It will automatically create the script files according to your directory setting. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"fvyji\",\"text\":\"\\n\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":null,\"entityRanges\":null,\"data\":{}},{\"key\":\"52x8a\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":2,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"9s9ld\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"7m9bm\",\"text\":\"This script do the following substitution and move all the above files to Project/Scripts (this /Scripts subfolder is generated by creating a new project): for non-windows users who might not be able to run .bat file, you can just do that by yourself. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"2609o\",\"text\":\"\\n\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"9qs46\",\"text\":\"_REPLACE_DIR_ → \\u003cYour work folder\\u003e/Data/ (i'll call it 'data folder' from now on) \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"a21v6\",\"text\":\"_REPLACE_PROJECT_DIR_ → \\u003cYour work folder\\u003e/Project/ (i'll call it 'project folded' from now on)\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"cusqj\",\"text\":\"\\n\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"foh4b\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"cvei1\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"8B66C25A344411EEAFD10A58A9FEAC02\",\"height\":389,\"is_image\":true,\"is_video\":false,\"legend\":\"{\\\"blocks\\\":null,\\\"entityMap\\\":null}\",\"mime\":\"image/png\",\"original_name\":\"Step_1.PNG\",\"placeholder\":\"\",\"source\":\"https://content.protocols.io/bbh6a.png\",\"width\":690}},\"1\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"8B66C376344411EEAFD10A58A9FEAC02\",\"height\":362,\"is_image\":true,\"is_video\":false,\"legend\":\"{\\\"blocks\\\":null,\\\"entityMap\\\":null}\",\"mime\":\"image/png\",\"original_name\":\"Step_2.PNG\",\"placeholder\":\"\",\"source\":\"https://content.protocols.io/bbh7a.png\",\"width\":690}},\"2\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"8B66C47C344411EEAFD10A58A9FEAC02\",\"height\":288,\"is_image\":true,\"is_video\":false,\"legend\":\"{\\\"blocks\\\":null,\\\"entityMap\\\":null}\",\"mime\":\"image/png\",\"original_name\":\"1.png\",\"placeholder\":\"\",\"source\":\"https://protocols-files.s3.amazonaws.com/private/ff30fa01b3e7a6b70dfe56a04ab7669ca5d791ef3d2e573892aa0e8012ba41d5/bns74b86.png?X-Amz-Algorithm=AWS4-HMAC-SHA256\\u0026X-Amz-Credential=AKIAJYFAX46LHRVQMGOA%2F20250118%2Fus-east-1%2Fs3%2Faws4_request\\u0026X-Amz-Date=20250118T200101Z\\u0026X-Amz-Expires=604800\\u0026X-Amz-SignedHeaders=host\\u0026X-Amz-Signature=6731b1758146470fc58beb950d28c7c397adb0e54dc4e196c6871aff96648b5b\",\"width\":519}}}}","data":null,"protocol_id":20981,"case_id":0,"critical_ids":"","duration":0,"original_id":693283,"number":"1","cases":[],"critical":null},{"id":715585,"guid":"721874D4D8254DF8B28C61B5B029D17C","previous_id":715584,"previous_guid":"6033E032698C48488B8B2669FEC18843","section":"Populate the project with your virtual slides","section_color":"#94EBFF","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"fg92\",\"text\":\"File \\u003e Project \\u003e add images \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"fuoro\",\"text\":\" \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":null,\"entityRanges\":null,\"data\":{}},{\"key\":\"9qfnp\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"zhtu8\",\"text\":\" \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":null,\"entityRanges\":null,\"data\":{}},{\"key\":\"ixccf\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":1,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"9bk4\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"8B686285344411EEAFD10A58A9FEAC02\",\"height\":856,\"is_image\":true,\"is_video\":false,\"legend\":\"{\\\"blocks\\\":null,\\\"entityMap\\\":null}\",\"mime\":\"image/png\",\"original_name\":\"Step_3.PNG\",\"placeholder\":\"\",\"source\":\"https://content.protocols.io/bbh8a.png\",\"width\":690}},\"1\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"8B68635C344411EEAFD10A58A9FEAC02\",\"height\":388,\"is_image\":true,\"is_video\":false,\"legend\":\"{\\\"blocks\\\":null,\\\"entityMap\\\":null}\",\"mime\":\"image/png\",\"original_name\":\"Step_4.png\",\"placeholder\":\"\",\"source\":\"https://content.protocols.io/bbh9a.png\",\"width\":690}}}}","data":null,"protocol_id":20981,"case_id":0,"critical_ids":"","duration":0,"original_id":693880,"number":"2","cases":[],"critical":null},{"id":715586,"guid":"69D12F3BA2774D32AD9C302A666821C5","previous_id":715585,"previous_guid":"721874D4D8254DF8B28C61B5B029D17C","section":"\u003cp\u003eAnnotation of the tumor area\u003c/p\u003e","section_color":"#84CE84","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"zv3sh\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"8ngcd\",\"text\":\"After selecting the polygon tool, clik one point and drag along the contour of the tumor area while not releasing the button. When the contour is finished, double-click the finishing point. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"b9a6\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"6emv0\",\"text\":\"I don't think there is a general rule of tumor area selection, but I tried to keep the following rules: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"77pqa\",\"text\":\"I tried to have one uninterrupted field of tumor area per each image, but there were some cases with scanty tumor which inevitably forced me to select several separated pieces. \",\"type\":\"unordered-list-item\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"dt40d\",\"text\":\" \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":null,\"entityRanges\":null,\"data\":{}},{\"key\":\"yg6i3\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":1,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"9ta2d\",\"text\":\"I tried to exclude the adenomatous area, but there were some ambiguous cases. \",\"type\":\"unordered-list-item\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"pqzjz\",\"text\":\" \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":null,\"entityRanges\":null,\"data\":{}},{\"key\":\"yiy8c\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":2,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"272bf\",\"text\":\"In the case of mucinous carcinoma, the area with acellular mucin pool was also included. \",\"type\":\"unordered-list-item\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"4u8jf\",\"text\":\"The area of normal mucosa, necrotic debris and artifacts such as tissue folding, speckles were avoided. \",\"type\":\"unordered-list-item\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"fu39d\",\"text\":\"Normal lymphoid structures such as peritumoral lymph node and mucosa-associated lymphoid tissue near the mucosa were avoided. \",\"type\":\"unordered-list-item\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"qfms2\",\"text\":\" \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":null,\"entityRanges\":null,\"data\":{}},{\"key\":\"krcud\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":3,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"6173s\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"5rjlc\",\"text\":\"You don't need to be too precise at this point, as tumor area can be more precisely defined in the following step. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"a14ej\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"17qab\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"ec73i\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"8B69D13D344411EEAFD10A58A9FEAC02\",\"height\":477,\"is_image\":true,\"is_video\":false,\"legend\":\"{\\\"blocks\\\":null,\\\"entityMap\\\":null}\",\"mime\":\"image/png\",\"original_name\":\"Step_5.PNG\",\"placeholder\":\"\",\"source\":\"https://content.protocols.io/bbiaa.png\",\"width\":690}},\"1\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"8B69D243344411EEAFD10A58A9FEAC02\",\"height\":518,\"is_image\":true,\"is_video\":false,\"legend\":\"{\\\"blocks\\\":null,\\\"entityMap\\\":null}\",\"mime\":\"image/png\",\"original_name\":\"Step_6.png\",\"placeholder\":\"\",\"source\":\"https://content.protocols.io/bbiba.png\",\"width\":424}},\"2\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"8B69D319344411EEAFD10A58A9FEAC02\",\"height\":427,\"is_image\":true,\"is_video\":false,\"legend\":\"{\\\"blocks\\\":null,\\\"entityMap\\\":null}\",\"mime\":\"image/png\",\"original_name\":\"Step_7.png\",\"placeholder\":\"\",\"source\":\"https://content.protocols.io/bbica.png\",\"width\":690}},\"3\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"8B69D408344411EEAFD10A58A9FEAC02\",\"height\":476,\"is_image\":true,\"is_video\":false,\"legend\":\"{\\\"blocks\\\":null,\\\"entityMap\\\":null}\",\"mime\":\"image/png\",\"original_name\":\"Step_8.PNG\",\"placeholder\":\"\",\"source\":\"https://content.protocols.io/bbida.png\",\"width\":690}}}}","data":null,"protocol_id":20981,"case_id":0,"critical_ids":"","duration":0,"original_id":693881,"number":"3","cases":[],"critical":null},{"id":715587,"guid":"B3EE6876EA094FB594976A4487A41C1D","previous_id":715586,"previous_guid":"69D12F3BA2774D32AD9C302A666821C5","section":"Segmentation ","section_color":"#FFED92","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"6eerc\",\"text\":\"Analyze \\u003e region identification \\u003e create tiles \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"m0egy\",\"text\":\" \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":null,\"entityRanges\":null,\"data\":{}},{\"key\":\"othjc\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"d4tgu\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"c5iqb\",\"text\":\"Once the tiles are created, it is free to delete or move them to elaborate the tumor area. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"spaun\",\"text\":\" \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":null,\"entityRanges\":null,\"data\":{}},{\"key\":\"yfsnj\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":1,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"fsl31\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"8B6B6FFB344411EEAFD10A58A9FEAC02\",\"height\":587,\"is_image\":true,\"is_video\":false,\"legend\":\"{\\\"blocks\\\":null,\\\"entityMap\\\":null}\",\"mime\":\"image/png\",\"original_name\":\"Step_9.PNG\",\"placeholder\":\"\",\"source\":\"https://content.protocols.io/bbiea.png\",\"width\":690}},\"1\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"8B6B710D344411EEAFD10A58A9FEAC02\",\"height\":585,\"is_image\":true,\"is_video\":false,\"legend\":\"{\\\"blocks\\\":null,\\\"entityMap\\\":null}\",\"mime\":\"image/png\",\"original_name\":\"Step_10.PNG\",\"placeholder\":\"\",\"source\":\"https://content.protocols.io/bbifa.png\",\"width\":690}}}}","data":null,"protocol_id":20981,"case_id":0,"critical_ids":"","duration":0,"original_id":693888,"number":"4","cases":[],"critical":null},{"id":715588,"guid":"8E45F0F49AB84E12A6A8ECBDC99AB5B2","previous_id":715587,"previous_guid":"B3EE6876EA094FB594976A4487A41C1D","section":"Designate the invasive margin (IM) ","section_color":"#EA9F6C","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"ejqhc\",\"text\":\"While pushing the control key (Ctrl), click the tiles that constitute the IM. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"excqd\",\"text\":\" \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":null,\"entityRanges\":null,\"data\":{}},{\"key\":\"lwwh0\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"dic0l\",\"text\":\"Again, I don't think there is no general definition of the IM, but I tried to keep the following rules: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"f5dim\",\"text\":\"When the mucosa-to-serosa axis is evident, the IM is defined as the \\\"frontmost\\\" files. In other words, the tiles approaching the mucosa are not considered as IM.  \",\"type\":\"unordered-list-item\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"exxdu\",\"text\":\" \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":null,\"entityRanges\":null,\"data\":{}},{\"key\":\"qeaob\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":1,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"fbsj2\",\"text\":\"When the axis is not evident, any border with the non-neoplastic tissue was considered as IM. \",\"type\":\"unordered-list-item\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"bjdus\",\"text\":\" \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":null,\"entityRanges\":null,\"data\":{}},{\"key\":\"brmqw\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":2,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"bktb5\",\"text\":\"The area bordering with abscess, necrosis or lymph node is NOT invasive margin. \",\"type\":\"unordered-list-item\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"8r3bn\",\"text\":\"The IM has to contain tumor cells. As drawing tumor area in step 3 produces somewhat crude outline, some tiles at the border of tumor and normal tissue might not contain tumor cells. In that case, such tiles need to be deleted. \",\"type\":\"unordered-list-item\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"fmoci\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"do73b\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"8B6D06A2344411EEAFD10A58A9FEAC02\",\"height\":496,\"is_image\":true,\"is_video\":false,\"legend\":\"{\\\"blocks\\\":null,\\\"entityMap\\\":null}\",\"mime\":\"image/png\",\"original_name\":\"Step_11.png\",\"placeholder\":\"\",\"source\":\"https://content.protocols.io/bbiha.png\",\"width\":588}},\"1\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"8B6D079F344411EEAFD10A58A9FEAC02\",\"height\":345,\"is_image\":true,\"is_video\":false,\"legend\":\"{\\\"blocks\\\":null,\\\"entityMap\\\":null}\",\"mime\":\"image/png\",\"original_name\":\"Step_12.png\",\"placeholder\":\"\",\"source\":\"https://content.protocols.io/bbiia.png\",\"width\":690}},\"2\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"8B6D086F344411EEAFD10A58A9FEAC02\",\"height\":666,\"is_image\":true,\"is_video\":false,\"legend\":\"{\\\"blocks\\\":null,\\\"entityMap\\\":null}\",\"mime\":\"image/png\",\"original_name\":\"Step_13.png\",\"placeholder\":\"\",\"source\":\"https://content.protocols.io/bbija.png\",\"width\":690}}}}","data":null,"protocol_id":20981,"case_id":0,"critical_ids":"","duration":0,"original_id":693889,"number":"5","cases":[],"critical":null},{"id":715589,"guid":"63AA66D24CA44810B8476456A4FB737A","previous_id":715588,"previous_guid":"8E45F0F49AB84E12A6A8ECBDC99AB5B2","section":"Run 1.groovy","section_color":"#E57785","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"44v7b\",\"text\":\"This script saves the screenshot of tiles with IM highlighted (just like the one you've just seen in the previous step) and saves tile objects for later use. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"6n57c\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"aw39o\",\"text\":\" \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":null,\"entityRanges\":null,\"data\":{}},{\"key\":\"bwp76\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"uqgd\",\"text\":\"\\nSelect Automate \\u003e Show script editor, then you'll see a new window.\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"43dev\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"kyjwk\",\"text\":\" \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":null,\"entityRanges\":null,\"data\":{}},{\"key\":\"ocdbe\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":1,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"9cfeb\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"c1210\",\"text\":\"Select File \\u003e Open, go to your project folder's script folder then you'll find script files. Select 1.groovy and open it. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"5nh1i\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"msrff\",\"text\":\"  \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":null,\"entityRanges\":null,\"data\":{}},{\"key\":\"28ldm\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":2,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"572d7\",\"text\":\"To run the script, select Run \\u003e Run or just push Ctrl+R. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"cf6r4\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"7aq47\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"afr4q\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"8B6E6B1C344411EEAFD10A58A9FEAC02\",\"height\":444,\"is_image\":true,\"is_video\":false,\"legend\":\"{\\\"blocks\\\":null,\\\"entityMap\\\":null}\",\"mime\":\"image/png\",\"original_name\":\"Step_15.PNG\",\"placeholder\":\"\",\"source\":\"https://content.protocols.io/bcsva.png\",\"width\":690}},\"1\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"8B6E6BE0344411EEAFD10A58A9FEAC02\",\"height\":489,\"is_image\":true,\"is_video\":false,\"legend\":\"{\\\"blocks\\\":null,\\\"entityMap\\\":null}\",\"mime\":\"image/png\",\"original_name\":\"Step_16.PNG\",\"placeholder\":\"\",\"source\":\"https://content.protocols.io/bcswa.png\",\"width\":690}},\"2\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"8B6E6A46344411EEAFD10A58A9FEAC02\",\"height\":520,\"is_image\":true,\"is_video\":false,\"legend\":\"{\\\"blocks\\\":null,\\\"entityMap\\\":null}\",\"mime\":\"image/png\",\"original_name\":\"Step_17.PNG\",\"placeholder\":\"\",\"source\":\"https://content.protocols.io/bcsya.png\",\"width\":690}}}}","data":null,"protocol_id":20981,"case_id":0,"critical_ids":"","duration":0,"original_id":705369,"number":"6","cases":[],"critical":null},{"id":715590,"guid":"2557BDB3DA814B048275E616EE9C6385","previous_id":715589,"previous_guid":"63AA66D24CA44810B8476456A4FB737A","section":"Repeat step 3 through 6 for all the slide files ","section_color":"#EA94FF","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"3jv7d\",\"text\":\"The annotation of tumor area is the only step human intervention is needed. All the other steps can be done automatically. I thought it was better for me to stay in front of the computer only when I was needed and let the computer do all the other jobs by itself while i was away, since the other jobs would be time-consuming. That was the reason I separated 1.groovy from others. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"8ia7h\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"6jpry\",\"text\":\"So suppose you started with N slide files. If you have successfully finished the step 7, your data folder would have the two subfolders as follows, each of them containing N files. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":null,\"entityRanges\":null,\"data\":{}},{\"key\":\"jgnxj\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"esmo2\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"c3s1b\",\"text\":\"and your project folder's subfolder named [data] would also have N qpdata files. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"qdvls\",\"text\":\" \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":null,\"entityRanges\":null,\"data\":{}},{\"key\":\"qpj6u\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":1,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"2vbl9\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"8B70177C344411EEAFD10A58A9FEAC02\",\"height\":207,\"is_image\":true,\"is_video\":false,\"legend\":\"{\\\"blocks\\\":null,\\\"entityMap\\\":null}\",\"mime\":\"image/png\",\"original_name\":\"Step_18.PNG\",\"placeholder\":\"\",\"source\":\"https://content.protocols.io/bcsza.png\",\"width\":690}},\"1\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"8B7018E3344411EEAFD10A58A9FEAC02\",\"height\":799,\"is_image\":true,\"is_video\":false,\"legend\":\"{\\\"blocks\\\":null,\\\"entityMap\\\":null}\",\"mime\":\"image/png\",\"original_name\":\"Step_20.PNG\",\"placeholder\":\"\",\"source\":\"https://content.protocols.io/bcs2a.png\",\"width\":460.125}}}}","data":null,"protocol_id":20981,"case_id":0,"critical_ids":"","duration":0,"original_id":705370,"number":"7","cases":[],"critical":null},{"id":715591,"guid":"378EC49AAD97417B94760403A05F09B1","previous_id":715590,"previous_guid":"2557BDB3DA814B048275E616EE9C6385","section":"Run 2.groovy","section_color":"#A492FF","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"ev3ht\",\"text\":\"Check any image using project image list and make sure you see a image with tiles overlaid, like the one below. Since this is what qpdata file stored at /project/data does, any image should be seen with tiles overlaid if you have proper N qpdata files generated. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"iv1wv\",\"text\":\" \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":null,\"entityRanges\":null,\"data\":{}},{\"key\":\"2lkqy\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"5buva\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"94ku2\",\"text\":\"Then go to the script editor and open 2.groovy. Since N files are ready, you'd want the computer to process all the files by itself. To do so, \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"cl35h\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"ygfsx\",\"text\":\" \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":null,\"entityRanges\":null,\"data\":{}},{\"key\":\"svcoh\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":1,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"5le2q\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"1l7lv\",\"text\":\"Select Run \\u003e Run project (without save), then a new window will appear. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":24,\"length\":15}],\"entityRanges\":[],\"data\":[]},{\"key\":\"ednar\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"jmftx\",\"text\":\"  \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":null,\"entityRanges\":null,\"data\":{}},{\"key\":\"brkq4\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":2,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"f0g8a\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"82phc\",\"text\":\"Push \\u003e\\u003e to select all the images in the project to be processed and click [OK]. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"7s4ml\",\"text\":\"It will take some time to finish... for example, processing 1158 files took more than one day. The program might seem to be halted, but you will see it's not by checking the data folder. There will be four subfolders (Cell_before_data, Cell_before_qpdata, SP_before_data, SP_before_qpdata) created and new output files being generated. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"ndml\",\"text\":\" \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"ak1df\",\"text\":\"When each of the four subfolders is populated with N files, step 8 is over. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"333ak\",\"text\":\"\\n\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"av3ka\",\"text\":\"Take time to check contents of SP_before_data and SP_before_qpdata to see whether there are some output files with oddly small size. It happened because superpixel segmentation sometimes fails for unknown reason. Since there's no superpixel, the output file containing information of superpixels should be small. In my case, the problem disappeared by repeating step 3 through 6 and running 2.groovy only for those files. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"ej2sc\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"8B71BDB5344411EEAFD10A58A9FEAC02\",\"height\":369,\"is_image\":true,\"is_video\":false,\"legend\":\"{\\\"blocks\\\":null,\\\"entityMap\\\":null}\",\"mime\":\"image/png\",\"original_name\":\"Step_19.PNG\",\"placeholder\":\"\",\"source\":\"https://content.protocols.io/bcs3a.png\",\"width\":690}},\"1\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"8B71BEBF344411EEAFD10A58A9FEAC02\",\"height\":451,\"is_image\":true,\"is_video\":false,\"legend\":\"{\\\"blocks\\\":null,\\\"entityMap\\\":null}\",\"mime\":\"image/png\",\"original_name\":\"Step_21.PNG\",\"placeholder\":\"\",\"source\":\"https://content.protocols.io/bcs9a.png\",\"width\":690}},\"2\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"8B71BFA3344411EEAFD10A58A9FEAC02\",\"height\":246,\"is_image\":true,\"is_video\":false,\"legend\":\"{\\\"blocks\\\":null,\\\"entityMap\\\":null}\",\"mime\":\"image/png\",\"original_name\":\"Step_22.PNG\",\"placeholder\":\"\",\"source\":\"https://content.protocols.io/bctba.png\",\"width\":437}}}}","data":null,"protocol_id":20981,"case_id":0,"critical_ids":"","duration":0,"original_id":705371,"number":"8","cases":[],"critical":null},{"id":715592,"guid":"C655270CFF2A49B1B4EE2FB385FD159B","previous_id":715591,"previous_guid":"378EC49AAD97417B94760403A05F09B1","section":"Run 3.py","section_color":"#94EBFF","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"80f2i\",\"text\":\"In fact, 2.groovy identified putative cells and segmented images into superpixels. Then the next script, 3.py, filters true lymphocytes and classifies superpixels into tumor or stroma. It should be run outside QuPath because I used machine learning classifier implemented by R and used python to process QuPath output files ready to be classified. QuPath does have machine learning classifier, which can be replaced with this step :)\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"71jfk\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"4q3pu\",\"text\":\"Folded tissue fragments or ink particles can be falsely recognized as lymphocytes, so try to avoid the artifacts as possible. I tried to make classifiers to filter them out, but realized that so many false negatives happen by doing so. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"btast\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"4387d\",\"text\":\"As mentioned in my article, lots of my CD8 images suffered varying degree of nonspecific membranous staining. As a result, I had to apply a lymphocyte classifier for CD8 images to filter out artifacts generated by the nonspecific staining. For CD3 images, no filtering was needed. So my script was designed to classify every cell as \\\"positive\\\" for CD3 stains and to retrieve a classifier for CD8 stains as follows: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"umld1\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"1h1oh\",\"text\":\"  \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":null,\"entityRanges\":null,\"data\":{}},{\"key\":\"52m7b\",\"text\":\" \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"dft4k\",\"text\":\"You might have different kinds of problems on your images. In that case, you might want to create your own classifiers and modify the above part of classifyCell.R to selectively apply the classifier. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"8prgg\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"8ta06\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"35ai1\",\"text\":\"After do your modification, run 3.py. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"116pc\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"3onkt\",\"text\":\"For the script to run with no problem, two things to be done.\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":0,\"length\":61}],\"entityRanges\":[],\"data\":[]},{\"key\":\"4o89d\",\"text\":\"1) the directory of R belongs to the the system environmental variable\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":0,\"length\":70}],\"entityRanges\":[],\"data\":[]},{\"key\":\"715i\",\"text\":\"2) package readr, caret and randomForest have to be installed in your R. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":0,\"length\":73}],\"entityRanges\":[],\"data\":[]},{\"key\":\"cv0eg\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"6g9kk\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"1mhkb\",\"text\":\"For Windows uers who have installed Anaconda, you can run the script by executing Anaconda Powershell Prompt and type as follows: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":72,\"length\":37}],\"entityRanges\":[],\"data\":[]},{\"key\":\"9i8ok\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"cfig2\",\"text\":\"\\u003e python \\u003cpath to the script file\\u003e/3.py \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":2,\"length\":37}],\"entityRanges\":[],\"data\":[]},{\"key\":\"6r998\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"vcknv\",\"text\":\"  \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":null,\"entityRanges\":null,\"data\":{}},{\"key\":\"ycqvm\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":1,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"9a422\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"3righ\",\"text\":\"for me, it took several hours (12-24h) to process 1158 files. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"d1hdm\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"dbiko\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"8B73661D344411EEAFD10A58A9FEAC02\",\"height\":179,\"is_image\":true,\"is_video\":false,\"legend\":\"{\\\"blocks\\\":null,\\\"entityMap\\\":null}\",\"mime\":\"image/png\",\"original_name\":\"2.PNG\",\"placeholder\":\"\",\"source\":\"https://protocols-files.s3.amazonaws.com/private/ff30fa01b3e7a6b70dfe56a04ab7669ca5d791ef3d2e573892aa0e8012ba41d5/bn2x4b86.png?X-Amz-Algorithm=AWS4-HMAC-SHA256\\u0026X-Amz-Credential=AKIAJYFAX46LHRVQMGOA%2F20250118%2Fus-east-1%2Fs3%2Faws4_request\\u0026X-Amz-Date=20250118T200101Z\\u0026X-Amz-Expires=604800\\u0026X-Amz-SignedHeaders=host\\u0026X-Amz-Signature=5f8fd0e76c4fcb79d32d114bdf20258db806b158e1ad9d94742c9bad2464c516\",\"width\":690}},\"1\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"8B73675B344411EEAFD10A58A9FEAC02\",\"height\":67,\"is_image\":true,\"is_video\":false,\"legend\":\"{\\\"blocks\\\":null,\\\"entityMap\\\":null}\",\"mime\":\"image/png\",\"original_name\":\"3.PNG\",\"placeholder\":\"\",\"source\":\"https://protocols-files.s3.amazonaws.com/private/ff30fa01b3e7a6b70dfe56a04ab7669ca5d791ef3d2e573892aa0e8012ba41d5/bn2y4b86.png?X-Amz-Algorithm=AWS4-HMAC-SHA256\\u0026X-Amz-Credential=AKIAJYFAX46LHRVQMGOA%2F20250118%2Fus-east-1%2Fs3%2Faws4_request\\u0026X-Amz-Date=20250118T200101Z\\u0026X-Amz-Expires=604800\\u0026X-Amz-SignedHeaders=host\\u0026X-Amz-Signature=a1411553e7df792c8915846f460ebd38d1b60659294f30dc5b687749316d1f2d\",\"width\":529}}}}","data":null,"protocol_id":20981,"case_id":0,"critical_ids":"","duration":0,"original_id":705398,"number":"9","cases":[],"critical":null},{"id":715593,"guid":"E6B45929A96F40C6835C248DA3A01620","previous_id":715592,"previous_guid":"C655270CFF2A49B1B4EE2FB385FD159B","section":"Run 4.groovy ","section_color":"#84CE84","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"v0tv\",\"text\":\"Go back to QuPath and check any image using project image list. If what you see is an image with tiles and putative cells like the one below, that means everything so far has been fine.\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"vi3z9\",\"text\":\" \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":null,\"entityRanges\":null,\"data\":{}},{\"key\":\"oby6j\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"2vtd4\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"6668r\",\"text\":\"Then open 4.groovy and Run \\u003e Run for project (without save). \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":46,\"length\":12}],\"entityRanges\":[],\"data\":[]},{\"key\":\"2g8jt\",\"text\":\"This script applies the result of cell filtering to QuPath.\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"4919s\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"8B751D00344411EEAFD10A58A9FEAC02\",\"height\":424,\"is_image\":true,\"is_video\":false,\"legend\":\"{\\\"blocks\\\":null,\\\"entityMap\\\":null}\",\"mime\":\"image/png\",\"original_name\":\"Step_25.PNG\",\"placeholder\":\"\",\"source\":\"https://content.protocols.io/bctha.png\",\"width\":690}}}}","data":null,"protocol_id":20981,"case_id":0,"critical_ids":"","duration":0,"original_id":705446,"number":"10","cases":[],"critical":null},{"id":715594,"guid":"E8D1147DCFA046559C931338799A6A86","previous_id":715593,"previous_guid":"E6B45929A96F40C6835C248DA3A01620","section":"Run 5.groovy","section_color":"#FFED92","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"e4j0p\",\"text\":\"Check any image using project image list and make sure you see a image like the one below. These are superpixels!\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"chmbu\",\"text\":\" \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":null,\"entityRanges\":null,\"data\":{}},{\"key\":\"mesgp\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"eb8vf\",\"text\":\"Then open 5.groovy and Run \\u003e Run for project (without save).  \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":46,\"length\":12}],\"entityRanges\":[],\"data\":[]},{\"key\":\"29pts\",\"text\":\"This script applies the result of superpixel classification and retrive the filtered cells to obtain intraepithelial (true lymphocytes in tumor superpixels) and stromal (true lymphocytes in stroma superpixels) TIL. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"p3if\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"87krr\",\"text\":\"To see the result after the execution is finished,  select File \\u003e Open \\u003e go to the data folder \\u003e select 'ES_Tilewise_qpdata' subfolder  \\u003e select any qpdata file \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"dofqd\",\"text\":\" \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":null,\"entityRanges\":null,\"data\":{}},{\"key\":\"pugc0\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":1,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"1j7lg\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"b1qlg\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"8B7662C8344411EEAFD10A58A9FEAC02\",\"height\":388,\"is_image\":true,\"is_video\":false,\"legend\":\"{\\\"blocks\\\":null,\\\"entityMap\\\":null}\",\"mime\":\"image/png\",\"original_name\":\"Step_26.PNG\",\"placeholder\":\"\",\"source\":\"https://content.protocols.io/bctia.png\",\"width\":690}},\"1\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"8B7663C9344411EEAFD10A58A9FEAC02\",\"height\":442,\"is_image\":true,\"is_video\":false,\"legend\":\"{\\\"blocks\\\":null,\\\"entityMap\\\":null}\",\"mime\":\"image/png\",\"original_name\":\"Step_27.PNG\",\"placeholder\":\"\",\"source\":\"https://content.protocols.io/bcxea.png\",\"width\":690}}}}","data":null,"protocol_id":20981,"case_id":0,"critical_ids":"","duration":0,"original_id":705482,"number":"11","cases":[],"critical":null},{"id":715595,"guid":"3CEA20C4CBE74B98903E68AEDDCEF09A","previous_id":715594,"previous_guid":"E8D1147DCFA046559C931338799A6A86","section":"Run 6.py","section_color":"#EA9F6C","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"5i9co\",\"text\":\"This is the final step. It produces a file named count.csv, which contains values of 207 measures for each case. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"qtgmd\",\"text\":\" \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":null,\"entityRanges\":null,\"data\":{}},{\"key\":\"iptxo\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"722td\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"7lvr1\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"e0t3g\",\"text\":\"For Windows uers who have installed Anaconda, you can run the script by executing Anaconda Powershell Prompt and type as follows: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":72,\"length\":37}],\"entityRanges\":[],\"data\":[]},{\"key\":\"6fthu\",\"text\":\"\\u003e python \\u003cpath to the script file\\u003e/6.py \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":2,\"length\":37}],\"entityRanges\":[],\"data\":[]},{\"key\":\"bqrhl\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"7s64d\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"95n4m\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"8B77DDDA344411EEAFD10A58A9FEAC02\",\"height\":256,\"is_image\":true,\"is_video\":false,\"legend\":\"{\\\"blocks\\\":null,\\\"entityMap\\\":null}\",\"mime\":\"image/png\",\"original_name\":\"Step_28.PNG\",\"placeholder\":\"\",\"source\":\"https://content.protocols.io/bcxfa.png\",\"width\":690}}}}","data":null,"protocol_id":20981,"case_id":0,"critical_ids":"","duration":0,"original_id":706903,"number":"12","cases":[],"critical":null}],"template_id":1,"title":"Quantitative whole-slide image analysis of CD3 and CD8 immunohistochemical stains","title_html":"Quantitative whole-slide image analysis of CD3 and CD8 immunohistochemical stains","type_id":1,"units":[{"id":1,"type_id":3,"name":"µL","can_manage":0,"read_only":0},{"id":2,"type_id":3,"name":"mL","can_manage":0,"read_only":0},{"id":3,"type_id":3,"name":"L","can_manage":0,"read_only":0},{"id":4,"type_id":3,"name":"µg","can_manage":0,"read_only":0},{"id":5,"type_id":3,"name":"mg","can_manage":0,"read_only":0},{"id":6,"type_id":3,"name":"g","can_manage":0,"read_only":0},{"id":7,"type_id":3,"name":"kg","can_manage":0,"read_only":0},{"id":8,"type_id":3,"name":"ng","can_manage":0,"read_only":0},{"id":9,"type_id":3,"name":"Hz","can_manage":0,"read_only":0},{"id":10,"type_id":24,"name":"°C","can_manage":0,"read_only":0},{"id":11,"type_id":24,"name":"°К","can_manage":0,"read_only":0},{"id":12,"type_id":24,"name":"°F","can_manage":0,"read_only":0},{"id":13,"type_id":25,"name":"Mass Percent","can_manage":0,"read_only":0},{"id":14,"type_id":25,"name":"% volume","can_manage":0,"read_only":0},{"id":15,"type_id":25,"name":"Mass / % volume","can_manage":0,"read_only":0},{"id":16,"type_id":25,"name":"Parts per Million (PPM)","can_manage":0,"read_only":0},{"id":17,"type_id":25,"name":"Parts per Billion (PPB)","can_manage":0,"read_only":0},{"id":18,"type_id":25,"name":"Parts per Trillion (PPT)","can_manage":0,"read_only":0},{"id":19,"type_id":25,"name":"Mole Fraction","can_manage":0,"read_only":0},{"id":20,"type_id":25,"name":"Mole Percent","can_manage":0,"read_only":0},{"id":21,"type_id":25,"name":"Molarity (M)","can_manage":0,"read_only":1},{"id":22,"type_id":25,"name":"Molarity (M)","can_manage":0,"read_only":0},{"id":23,"type_id":25,"name":"Genome copies per ml","can_manage":0,"read_only":0},{"id":24,"type_id":3,"name":"μV","can_manage":0,"read_only":0},{"id":25,"type_id":3,"name":"ms","can_manage":0,"read_only":0},{"id":26,"type_id":3,"name":"pg","can_manage":0,"read_only":0},{"id":27,"type_id":25,"name":"Molarity dilutions","can_manage":0,"read_only":0},{"id":28,"type_id":25,"name":"millimolar (mM)","can_manage":0,"read_only":0},{"id":29,"type_id":25,"name":"micromolar (µM)","can_manage":0,"read_only":0},{"id":30,"type_id":25,"name":"nanomolar (nM)","can_manage":0,"read_only":0},{"id":31,"type_id":25,"name":"picomolar (pM)","can_manage":0,"read_only":0},{"id":32,"type_id":24,"name":"Room temperature","can_manage":0,"read_only":0},{"id":33,"type_id":30,"name":"rpm","can_manage":0,"read_only":0},{"id":34,"type_id":30,"name":"x g","can_manage":0,"read_only":0},{"id":165,"type_id":24,"name":"On ice","can_manage":0,"read_only":0},{"id":200,"type_id":32,"name":"cm","can_manage":0,"read_only":0},{"id":201,"type_id":32,"name":"mm","can_manage":0,"read_only":0},{"id":202,"type_id":32,"name":"µm","can_manage":0,"read_only":0},{"id":203,"type_id":32,"name":"nm","can_manage":0,"read_only":0},{"id":204,"type_id":25,"name":"mg/mL","can_manage":0,"read_only":0},{"id":205,"type_id":25,"name":"µg/µL","can_manage":0,"read_only":0},{"id":206,"type_id":25,"name":"% (v/v)","can_manage":0,"read_only":0},{"id":207,"type_id":3,"name":"V","can_manage":0,"read_only":0},{"id":1324,"type_id":30,"name":"rcf","can_manage":0,"read_only":0},{"id":1359,"type_id":35,"name":"Bar","can_manage":0,"read_only":0},{"id":1360,"type_id":35,"name":"Pa","can_manage":0,"read_only":0}],"uri":"quantitative-whole-slide-image-analysis-of-cd3-and-yqvfvw6","url":"https://www.protocols.io/view/quantitative-whole-slide-image-analysis-of-cd3-and-yqvfvw6","version_class":18822,"version_data":{"id":1,"code":"yqvfvw6","version_class":18822,"parent_id":18822,"parent_uri":"quantitative-whole-slide-image-analysis-of-cd3-and-wmefc3e","is_same_owner":true,"is_parent_public":false,"has_pending_merge_request":false,"has_approved_merge_request":false,"merge_request":null},"version_id":1,"version_uri":"quantitative-whole-slide-image-analysis-of-cd3-and-x54v98r5pl3e/v2","versions":[{"id":18822,"title":"Quantitative whole-slide image analysis of CD3 and CD8 immunohistochemical stains","title_html":"Quantitative whole-slide image analysis of CD3 and CD8 immunohistochemical stains","image":{"source":"https://content.protocols.io/bbfwa.png","webp_source":null,"placeholder":"https://content.protocols.io/bbfwa.png","webp_placeholder":null},"doi":"dx.doi.org/10.17504/protocols.io.wmefc3e","uri":"quantitative-whole-slide-image-analysis-of-cd3-and-wmefc3e","published_on":1549805089,"modified_on":1549805089,"version_class":18822,"version_id":0,"version_code":"wmefc3e","version_uri":"quantitative-whole-slide-image-analysis-of-cd3-and-x54v98r5pl3e/v1","created_on":1545522522,"categories":null,"type_id":1,"creator":{"name":"Seungyeon Yoo","affiliation":null,"affiliation_url":null,"username":"seungyeon-yoo","link":null,"user_image_file":{"guid":"00000000000000000000000000000001","file_name":"avatar.png","url":"https://www.protocols.io/img/avatars/001.png","mime":"image/png","size":0,"width":100,"height":100,"avg_color":"","scan_status":0,"created_at":0}},"stats":{"number_of_comments":0,"last_comment_time":0}}],"warning":"{\"blocks\":[{\"key\":\"ajn4e\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{}}"}