{"id":43778,"title":"Semi-automated quantitation of macroautophagy with the auto-QC counter","title_html":"<p>Semi-automated quantitation of macroautophagy with the auto-QC counter<\/p>","image":{"source":"https:\/\/www.protocols.io\/img\/default_protocol.png","placeholder":"https:\/\/www.protocols.io\/img\/default_protocol.png"},"doi":"dx.doi.org\/10.17504\/protocols.io.bnzamf2e","doi_status":1,"uri":"semi-automated-quantitation-of-macroautophagy-with-bnzamf2e","type_id":1,"template_id":4,"published_on":1604047016,"parent_protocols":[],"parent_collections":[],"cited_protocols":[],"version_id":0,"version_data":{"id":"0","code":"bnzamf2e","parent_id":0,"parent_uri":null,"is_same_owner":false,"has_pending_merge_request":false,"has_approved_merge_request":false},"created_on":1603731020,"modified_on":null,"categories":null,"public":1,"is_unlisted":0,"creator":{"name":"Francois Singh","affiliation":"MRC Protein Phosphorylation and Ubiquitylation Unit, University of Dundee, Dundee DD1 5EH, UK","affiliations":[{"affiliation":"MRC Protein Phosphorylation and Ubiquitylation Unit, University of Dundee, Dundee DD1 5EH, UK","url":"","is_default":1}],"username":"francois-singh","note":null,"link":null,"image":{"source":"\/img\/avatars\/017.png","placeholder":"\/img\/avatars\/017.png"},"badges":[{"id":2,"image":{"source":"\/img\/badges\/bronze.svg","placeholder":"\/img\/badges\/bronze.svg"},"name":"Author"},{"id":6,"image":{"source":"\/img\/badges\/accelerator.svg","placeholder":"\/img\/badges\/accelerator.svg"},"name":"Science accelerator"}],"verified":0,"is_verified_user":false,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false},"journal":null,"journal_name":null,"journal_link":null,"article_citation":null,"has_versions":0,"link":null,"total_collections":0,"number_of_steps":12,"authors":[{"name":"Francois Singh","affiliation":"MRC Protein Phosphorylation and Ubiquitylation Unit, University of Dundee, Dundee DD1 5EH, UK","affiliations":[],"username":"francois-singh","note":null,"link":null,"image":{"source":"\/img\/avatars\/017.png","placeholder":"\/img\/avatars\/017.png"},"badges":[],"verified":1,"is_verified_user":true,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false},{"name":"Graeme Ball","affiliation":"Dundee Imaging Facility, School of Life Sciences, University of Dundee, Dundee DD1 5EH, UK","affiliations":[],"username":"w2y2b433u2v2","note":null,"link":null,"image":{"source":"\/img\/avatars\/001.png","placeholder":"\/img\/avatars\/001.png"},"badges":[],"verified":1,"is_verified_user":true,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false},{"name":"Ian Ganley","affiliation":"University of Dundee","affiliations":[],"username":"ian-ganley","note":null,"link":null,"image":{"source":"\/img\/avatars\/011.png","placeholder":"\/img\/avatars\/011.png"},"badges":[],"verified":1,"is_verified_user":true,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false}],"versions":[],"groups":[{"id":12478,"uri":"ig-lab","title":"IG Lab","image":{"source":"https:\/\/www.protocols.io\/img\/group_placeholder.png","placeholder":"https:\/\/www.protocols.io\/img\/group_placeholder.png"},"tech_support":{"email":null,"phone":null,"hide_contact":0,"use_email":0,"url":null},"is_member":1,"request":{"id":12478,"uri":"ig-lab","title":"IG Lab","image":{"source":"https:\/\/www.protocols.io\/img\/group_placeholder.png","placeholder":"https:\/\/www.protocols.io\/img\/group_placeholder.png"},"tech_support":{"email":null,"phone":null,"hide_contact":0,"use_email":0,"url":null},"is_member":1,"description":null,"research_interests":null,"website":null,"location":null,"affiliation":null,"status":{"is_visible":true,"access_level":0},"stats":{"files":[],"total_members":0,"total_followers":0,"total_child_groups":0,"total_parent_groups":0,"has_collaborations":0},"user_status":{"is_member":true,"is_confirmed":true,"is_invited":false,"is_owner":false,"is_admin":false,"is_following":false},"join_link":null,"token":null,"owner":{"name":" ","affiliation":null,"affiliations":[],"username":null,"note":null,"link":null,"image":{"source":null,"placeholder":null},"badges":[],"verified":0,"is_verified_user":false,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false},"is_protocol_requested":0,"is_group_requested":0,"is_my":false,"is_request":false,"is_confirmed":1,"is_declined":0,"requester":{"name":" ","affiliation":null,"affiliation_url":null,"username":null,"link":null},"protocol":{"id":0,"title":"Semi-automated quantitation of macroautophagy with the auto-QC counter","title_html":"Semi-automated quantitation of macroautophagy with the auto-QC counter","image":{"source":null,"placeholder":null},"doi":null,"doi_status":0,"uri":"semi-automated-quantitation-of-macroautophagy-with-bnzamf2e","type_id":1,"template_id":0,"published_on":null,"stats":{"number_of_views":0,"number_of_steps":0,"number_of_bookmarks":0,"number_of_comments":0,"number_of_exports":0,"number_of_runs":0,"number_of_votes":0,"is_voted":0},"parent_protocols":[],"parent_collections":[],"cited_protocols":[]},"created_on":1604047017,"resolve_on":0,"resolved_user":{"name":" ","affiliation":null,"affiliations":[],"username":null,"note":null,"link":null,"image":{"source":null,"placeholder":null},"badges":[],"verified":0,"is_verified_user":false,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false},"shared":false}}],"is_owner":1,"has_subprotocols":0,"is_subprotocol":0,"is_bookmarked":1,"can_claim_authorship":0,"can_accept_authorship":0,"can_be_copied":1,"can_remove_fork":1,"fork_id":null,"url":"https:\/\/www.protocols.io\/view\/semi-automated-quantitation-of-macroautophagy-with-bnzamf2e","forks_count":{"private":0,"public":0},"access":{"can_view":1,"can_remove":0,"can_add":0,"can_edit":0,"can_publish":0,"can_get_doi":0,"can_share":1,"can_move":1,"can_move_outside":1,"can_transfer":1,"can_download":1,"is_locked":0},"guid":"4CF6049017AB11EBAF2E21D762000BE3","state_version_id":1421,"steps":[{"id":1061681,"guid":"84F785C017AC11EBAF2E21D762000BE3","previous_id":1063214,"previous_guid":"7DE8E1C017AC11EBAF2E21D762000BE3","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"1A97C31247884128BD6F56CAFE596278","order_id":1,"type_id":6,"title":"Section","source":{"title":"Find the appropriate settings"}},{"id":1054724,"guid":"29A25A514BE44B9197930E9B1EB5088D","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">This section explains how to adjust the settings on a single picture to detect autophagosomes and autolysosomes <\/div><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#94EBFF","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1061682,"guid":"A9DDEF0017AC11EBAF2E21D762000BE3","previous_id":1061681,"previous_guid":"84F785C017AC11EBAF2E21D762000BE3","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"E1AE6E29F1DE4181AE0B3933613C7E0C","order_id":1,"type_id":6,"title":"Section","source":{"title":"Find the appropriate settings"}},{"id":1054724,"guid":"79AC981AF95D4013B1C246ECE7152BA4","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\"><span>Open a picture with high autophagy (<\/span><span style = \"font-style:italic;\">e.g.<\/span><span> cells stimulated with EBSS):<\/span><\/div><div class = \"text-block\"><span>Circle cells <\/span><span style = \"font-style:italic;\">as<\/span><span> described in <\/span><\/div><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#94EBFF","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1061709,"guid":"F9ED781017AE11EB8CA15F531765F993","previous_id":1061682,"previous_guid":"A9DDEF0017AC11EBAF2E21D762000BE3","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"40C8F1F2B9D34620A28E118D61071384","order_id":1,"type_id":6,"title":"Section","source":{"title":"Find the appropriate settings"}},{"id":1054724,"guid":"A37034F6961C439CA62D4A22B3D2CDFE","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">Start the auto-QC counter plugin (F7)<\/div><div class = \"text-block\">A new dialog widow will appear.<\/div><div class = \"text-block\">Leave the \"Batch mode?\" box unticked for now.<\/div><div class = \"text-block\">Make sure your green and red channels correspond to the values shown<\/div><div class = \"text-block\">The spot size in calibratedd units of 0.100 microns is in general appropriate.<\/div><div class = \"text-block\">Start with the default settings and adjust if necessary.<\/div><div class = \"text-block\">See guidelines for more information on how to adjust it.<\/div><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#94EBFF","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1063214,"guid":"7DE8E1C017AC11EBAF2E21D762000BE3","previous_id":1063215,"previous_guid":"75B8530017AC11EBAF2E21D762000BE3","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"56886369BECB4932A05ABB95448E11A9","order_id":1,"type_id":6,"title":"Section","source":{"title":"Download and install the auto-QC counter"}},{"id":1054724,"guid":"C3E8CCBEC59746AB99CCB9B3CFA3AA80","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">We advise creating a shortcut for the plugin:<\/div><div class = \"text-block\"> Plugins\u2192Shortcut\u2192Add Shortcut\u2026<\/div><div class = \"text-block\"> (Example: F7)<\/div><div class = \"text-block\"> Restart FIJI<\/div><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#A492FF","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1063215,"guid":"75B8530017AC11EBAF2E21D762000BE3","previous_id":1063216,"previous_guid":"603EBC3017AC11EBAF2E21D762000BE3","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"F5A3960E4DF24BEA86C4EEFB737EB93D","order_id":1,"type_id":6,"title":"Section","source":{"title":"Download and install the auto-QC counter"}},{"id":1054724,"guid":"AC25038358B24AB38D81A88E96CF2C10","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">Start FIJI and install the plugin:\n \u2192Plugins\u2192Macros\u2192Install\u2026\n Restart FIJI<\/div><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#A492FF","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1063216,"guid":"603EBC3017AC11EBAF2E21D762000BE3","previous_id":1063217,"previous_guid":"4D3EFF0017AC11EBAF2E21D762000BE3","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"77E6E48122E74013AAC40E18BC1D8AE7","order_id":1,"type_id":6,"title":"Section","source":{"title":"Download and install the auto-QC counter"}},{"id":1054724,"guid":"C51DA39FDACF4E069921644011C70DA7","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">Paste this file in the following folder:<\/div><div class = \"text-block\"> Windows: (the folder where you saved FIJI)\\fiji-win64\\Fiji.app\\plugins\\Scripts\\Plugins<\/div><div class = \"text-block\">Mac: Right click on the FIJI program and select \u201cshow package contents\u201d.<\/div><div class = \"text-block\">Select plugins\u2192Scripts\u202f>\u202fPlugins and paste the file in this subfolder.<\/div><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#A492FF","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1063217,"guid":"4D3EFF0017AC11EBAF2E21D762000BE3","previous_id":1063218,"previous_guid":"5506883017AB11EBAF2E21D762000BE3","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"F384B6F749B342929E4C6EC0AABD4CC4","order_id":1,"type_id":6,"title":"Section","source":{"title":"Download and install the auto-QC counter"}},{"id":1054724,"guid":"C6CAF4F3D93F4997B9EE37BC7A57E38E","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\"><span>The file \u201c<\/span><span style = \"font-style:italic;\">autoQC_counter.ijm\u201d<\/span><span> (\"version 1.0\", DOI: 10.5281\/zenodo.4158361) is available at the following address: <\/span><\/div><div class = \"text-block\"><a href=\"https:\/\/github.com\/graemeball\/autoQC_counter\" style = \"text-decoration:underline;color:blue;cursor:pointer;\"><span style = \":;\">https:\/\/github.com\/graemeball\/autoQC_counter<\/span><\/a><\/div><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#A492FF","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1063218,"guid":"5506883017AB11EBAF2E21D762000BE3","previous_id":null,"previous_guid":null,"modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"8032E9EEFE684C518596F9BB6AE3F6AE","order_id":1,"type_id":6,"title":"Section","source":{"title":"Download and install the auto-QC counter"}},{"id":1054724,"guid":"3D660F99D3944284B51A2C9C1A302ACA","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">This section explains where to find and how to install the auto-QC counter<\/div><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#A492FF","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1063232,"guid":"395B9550186C11EB90DD0D61FDFE2761","previous_id":1061709,"previous_guid":"F9ED781017AE11EB8CA15F531765F993","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"36F257C2B44341A79A37E97393540A81","order_id":1,"type_id":6,"title":"Section","source":{"title":"Use the batch mode"}},{"id":1054724,"guid":"10491283483E498DA213FFA7C1A9B032","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">This section explains how to use the batch mode of the auto-QC counter<\/div><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#84CE84","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1063234,"guid":"54AEAB80186C11EB90DD0D61FDFE2761","previous_id":1063232,"previous_guid":"395B9550186C11EB90DD0D61FDFE2761","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"3EC73145FA3C4198AFE007B56AE2C32D","order_id":1,"type_id":6,"title":"Section","source":{"title":"Use the batch mode"}},{"id":1054724,"guid":"38F22FC1C6F54D48B9211D4DD782BFCD","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">Open the first picture and outline the first cell.<\/div><div class = \"text-block\">Press \"CTRL\" + \"B\" add the outline to the image overlay.<\/div><div class = \"text-block\">Circle all the other cells in the picture in the same manner.<\/div><div class = \"text-block\">Save the picture as a Tiff in a new folder (create a new folder for each experimental condition).<\/div><div class = \"text-block\">For the first image: File --> Save as... --> Tiff...<\/div><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#84CE84","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1063985,"guid":"1DCB8E70187211EB90DD0D61FDFE2761","previous_id":1063234,"previous_guid":"54AEAB80186C11EB90DD0D61FDFE2761","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"F330FCB925C84BA6B3EADC72A231D3E4","order_id":1,"type_id":6,"title":"Section","source":{"title":"Use the batch mode"}},{"id":1054724,"guid":"F1BCBA1C186C497DA08F2691E95C191C","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">Repeat for all the images.<\/div><div class = \"text-block\">Images can now be saved by pressing \"CTRL\" + \"S\"<\/div><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#84CE84","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1063986,"guid":"50718F50187211EB90DD0D61FDFE2761","previous_id":1063985,"previous_guid":"1DCB8E70187211EB90DD0D61FDFE2761","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"3342FF7A515D4952AA6C3DCF4E5552F2","order_id":1,"type_id":6,"title":"Section","source":{"title":"Use the batch mode"}},{"id":1054724,"guid":"6FD406EDFE0846819F5E674C108A6D62","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">Start the auto-QC counter plugin (F7).<\/div><div class = \"text-block\"> Tick the \"Batch mode?\" box.<\/div><div class = \"text-block\">Adjust the parameters as previously defined in the single-image mode.<\/div><div class = \"text-block\">Press OK.<\/div><div class = \"text-block\">The plugin automaticaly saves:<\/div><div class = \"text-block\">- a table of your results (.csv file)<\/div><div class = \"text-block\">- a \"spots\" file diaplaying the autophagosomes (Yellow) and autolysosomes (Red) detected when opened with FIJI.<\/div><div class = \"text-block\"> This image also shows the spots below threshold in black.<\/div><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#84CE84","section_duration":0,"critical":null,"critical_id":null,"duration":0}],"document":null,"materials":[],"description":"<div class = \"text-blocks\"><div class = \"text-block\"><div class = \"justify\" style = \"text-align:justify\"><span>General macroautophagy is a naturally occurring phenomenon. Based on our <\/span><span style = \"font-style:italic;\">auto-QC<\/span><span> reporter, which consists of a tandem mCherry-GFP tag associated with the N terminus of MAP1LC3B\/LC3B, we developed the <\/span><span style = \"font-style:italic;\">auto<\/span><span>-QC counter macro for FIJI. This macro enables the semi-automated detection and quantitation of autophagosomes and autolysosomes with the auto-QC reporter. Here we describe how this macro works, and provide a step-by-step guide on how to use it.<\/span><\/div><style>\n\t\t\t\t\t\t\t  .justify:after {\n\t\t\t\t\t\t\t    content: \"\";\n\t\t\t\t\t\t\t    display:inline-block;\n\t\t\t\t\t\t\t    width: 100%;\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t<\/style><\/div><div class = \"text-block\"><div class = \"justify\" style = \"text-align:justify\"><\/div><style>\n\t\t\t\t\t\t\t  .justify:after {\n\t\t\t\t\t\t\t    content: \"\";\n\t\t\t\t\t\t\t    display:inline-block;\n\t\t\t\t\t\t\t    width: 100%;\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t<\/style><\/div><div class = \"text-block\"><div class = \"justify\" style = \"text-align:justify\">The \u201cauto-QC counter\u201d for Fiji\/ImageJ (Schindelin et al., 2012; Schneider, Rasband, & Eliceiri, 2012) macro allows semi-automated batch analysis of autophagy in a set of images. Autophagy is identified using differences in fluorescence intensity between the red mCherry and green GFP proteins of an auto-QC reporter delivered to autophagosomes. Similar to the mito-QC reporter (Allen, Toth, James, & Ganley, 2013; McWilliams et al., 2016; Montava-Garriga, Singh, Ball, & Ganley, 2020), the auto-QC reporter displays similar red and green channel intensities outside the lysosome using typical imaging parameters giving a red\/green intensity ratio close to 1. In autophagosomes, quenching of the GFP leads to a relatively higher red\/green intensity ratio. In contrast to our previously published \u201cmito-QC counter\u201d macro, which first identifies punctae in a red\/green ratio channel and then filters according to red intensity, the autophagy counter macro we describe here first identifies punctae in the red channel and then interrogates the red\/green ratio. The advantage of this approach is that \u201cyellow\u201d (red+green) punctae are identified for quantification as well as the red-only punctae (the caveat is that the red channel must be relatively \u201cclean\u201d and free from background fluorescence, which is less of a limitation when using the mito-QC counter approach of identifying punctae in the red\/green ratio image first).<\/div><style>\n\t\t\t\t\t\t\t  .justify:after {\n\t\t\t\t\t\t\t    content: \"\";\n\t\t\t\t\t\t\t    display:inline-block;\n\t\t\t\t\t\t\t    width: 100%;\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t<\/style><\/div><div class = \"text-block\"><div class = \"justify\" style = \"text-align:justify\">In terms of usage, the autophagy counter macro takes as input a folder of images in which an outline for each cell of interest has been created and added to the image overlay in Fiji\/ImageJ before saving as tiff. Upon running the macro the user is first asked to select a folder containing images to analyse. A Dialog then prompts the user to check\/adjust the following parameters: 1) and 2) green and red channel index, 3) spot size (in microns), 4) a peak finding threshold to identify punctae, 5) a minimum red intensity for punctae of interest, and 6) a red\/green intensity ratio threshold to classify punctae as \u201cred\u201d rather than \u201cyellow\u201d. These parameters are discussed in more detail in the next paragraph. Batch analysis of the images in the input folder then begins, and a new output folder is created with a date and timestamp in the name. A new Results table is created for each run, with one row of results per cell region-of-interest, and this is saved to the output folder with a \u201cspots\u201d image corresponding to each input image that shows the location and classification of the punctae identified. <\/div><style>\n\t\t\t\t\t\t\t  .justify:after {\n\t\t\t\t\t\t\t    content: \"\";\n\t\t\t\t\t\t\t    display:inline-block;\n\t\t\t\t\t\t\t    width: 100%;\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t<\/style><\/div><div class = \"text-block\"><div class = \"justify\" style = \"text-align:justify\"><span>To help use the macro effectively we describe here in words the procedure it follows, as well as taking a more detailed look at the input parameters and results. After choosing the input images and updating parameters the macro first applies a median filter to all channels to reduce the impact of noise on the results. The scale of the <\/span><span style = \"font-style:italic;\">median filter<\/span><span> is determined by the third macro parameter \u201cspotSize\u201d (in calibrated units, typically microns) \u2013 this should be around the same size as the smallest autophagosomes, since making it larger will degrade the resolution to a point where individual autophagosomes are not detected. Next, the macro uses ImageJ\u2019s built-in \u201c<\/span><span style = \"font-style:italic;\">Find Maxima<\/span><span>\u201d function to identify peaks in a filtered version of the red channel image: the macro implements a \u201cDifference of Gaussian\u201d (DoG) filter to enhance spots at the scale of interest and suppress local background. In layman\u2019s terms this is achieved by subtracting a very blurred version of the original image from a less blurred version of it. The scale of the less blurred version is set according to the spotSize parameter, and the more blurred version is several times this scale (the non-user-adjustable parameter DoGmultiplier = 5 by default). The <\/span><span style = \"font-style:italic;\">Find Maxima<\/span><span> function used for peak detection then takes an input parameter called <\/span><span style = \"font-style:italic;\">Prominence<\/span><span>, which determines how much above local background an intensity peak must be to be detected. The <\/span><span style = \"font-style:italic;\">Prominence<\/span><span> value used for peak detection is determined by the fourth macro parameter \u201cpeakNstd\u201d: we apply an autothresholding strategy where we calculate standard deviation (std) of the DoG-filtered red channel intensities and use a threshold <\/span><span style = \"font-style:italic;\">Prominence<\/span><span> = std x peakNstd. The peakNstd value should be more than zero and less than 5, and we suggest a default value of 2. Having detected candidate intensity peaks in the DoG-filtered red channel, the macro then looks at the original (median-filtered) red channel intensity of each peak. Again, an auto-thresholding strategy is used: peak red intensity values must be greater than or equal to the average (mean) red channel intensity plus a number of standard deviations to be counted as a red spot. The number of standard deviations used to calculate this threshold is set according to the fifth macro parameter, \u201credMinimumSD\u201d (default = 1). Spots that fail to meet this criterion are classified as \u201cblack\u201d to signify insufficient red intensity. Finally, spots are classified as \u201cred\u201d only or \u201cyellow\u201d (i.e. red+green) by looking at the ratio of red channel intensity to green channel intensity: the minimum red\/green intensity ratio to be counted as \u201cred\u201d only is determined by the sixth macro parameter \u201crThresh\u201d. The appropriate value for rThresh will obviously depend on the imaging parameters used for the red and green channels (i.e. exposure time, laser power, dwell time etc.) but should not vary between images if these parameters are kept fixed. The Results table produced by the macro displays: nBlack, the number of spots below the red minimum intensity; nRed, the number of red spots with a high red\/green ratio; nYellow, the number of red spots that also coincide with significant green intensity; and then the four main input parameters spotSize, peakNstd, rThresh and redMinimumSD are recorded for future reference (redMinimum is the actual threshold red intensity value calculated using the redMinimumSD parameter).<\/span><\/div><style>\n\t\t\t\t\t\t\t  .justify:after {\n\t\t\t\t\t\t\t    content: \"\";\n\t\t\t\t\t\t\t    display:inline-block;\n\t\t\t\t\t\t\t    width: 100%;\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t<\/style><\/div><div class = \"text-block\"><div class = \"justify\" style = \"text-align:justify\"><\/div><style>\n\t\t\t\t\t\t\t  .justify:after {\n\t\t\t\t\t\t\t    content: \"\";\n\t\t\t\t\t\t\t    display:inline-block;\n\t\t\t\t\t\t\t    width: 100%;\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t<\/style><\/div><\/div>","changed_on":1604047016}