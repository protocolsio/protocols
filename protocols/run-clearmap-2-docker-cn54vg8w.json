{"access":{"can_view":true,"can_edit":false,"can_remove":true,"can_add":false,"can_publish":false,"can_get_doi":true,"can_share":true,"can_move":true,"can_move_outside":true,"can_transfer":true,"can_download":true,"limited_run":false,"is_locked":false},"authors":[{"name":"Moritz Negwer","affiliation":"Radboudumc Nijmegen","affiliation_url":null,"username":"m4yle1w1w105vle1","link":null,"image":{"source":"https://lh3.googleusercontent.com/a/AATXAJyZGXwviv2oKW7mkTn6EzbKqzw5BX8ZA7sromcA=s96-c","placeholder":"https://lh3.googleusercontent.com/a/AATXAJyZGXwviv2oKW7mkTn6EzbKqzw5BX8ZA7sromcA=s96-c","webp_source":""},"note":"","is_verified_user":true}],"before_start":"","book_chapter":null,"can_accept_authorship":false,"can_be_copied":true,"can_claim_authorship":false,"can_manage_keywords":true,"can_remove_fork":false,"can_sign":false,"child_steps":{},"cited_protocols":[],"collection_items":[],"created_on":1675908407,"creator":{"name":"Moritz Negwer","affiliation":"","affiliation_url":null,"username":"m4yle1w1w105vle1","link":null,"image":{"source":"https://lh3.googleusercontent.com/a/AATXAJyZGXwviv2oKW7mkTn6EzbKqzw5BX8ZA7sromcA=s96-c","placeholder":"https://lh3.googleusercontent.com/a/AATXAJyZGXwviv2oKW7mkTn6EzbKqzw5BX8ZA7sromcA=s96-c","webp_source":""},"badges":[{"id":2,"name":"Author","image":{"source":"/img/badges/bronze.svg","placeholder":"/img/badges/bronze.svg"}}],"affiliations":[]},"description":"{\"blocks\":[{\"key\":\"2fgji\",\"text\":\"This protocol is a supplement to our upcoming publication \\\"FriendlyClearMap: An optimized toolkit for mouse brain mapping and analysis\\\". \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"72gom\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"8d0iq\",\"text\":\"In this protocol, we describe in detail how to run Clearmap2's CellMap portion in a Docker container. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{}}","disclaimer":"{\"blocks\":[{\"key\":\"96j8v\",\"text\":\"Dropbox links are temporary and will be replaced eventually. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{}}","document":"","documents":[],"doi":null,"doi_status":0,"ethics_statement":null,"fork_id":null,"fork_info":null,"forks":[],"funders":[{"funder_name":"Netherlands Organization for Scientific Research","grant_id":"012.200.001"}],"groups":[],"guid":"B7776485D4DC4426A316BCE54D4FFBD7","guidelines":"","has_references":false,"has_step_reagents":false,"has_versions":true,"id":76700,"image":{"source":"https://www.protocols.io/img/default_protocol.png","webp_source":null,"placeholder":"https://www.protocols.io/img/default_protocol.png","webp_placeholder":null},"image_attribution":"","in_trash":false,"is_bookmarked":false,"is_contact_suspended":false,"is_content_confidential":false,"is_content_warning":false,"is_doi_reserved":false,"is_in_pending_publishing":false,"is_in_transfer":false,"is_owner":true,"is_research":true,"is_retracted":false,"is_shared_directly":false,"is_subprotocol":null,"is_unlisted":false,"item_id":1076444,"journal":null,"journals":[],"keywords":null,"last_modified":1676454984,"link":"","location":null,"manuscript_citation":"","materials":[],"materials_text":"","ownership_history":null,"parent_collections":[],"parent_protocols":[],"peer_reviewed":false,"public":true,"public_fork_note":"","published_on":1676454984,"references":[],"related_equipments":[],"related_materials":[],"reserved_doi":"","retraction_reason":null,"shared_access_id":106,"show_comparison":false,"sign_info":null,"state_version_id":72,"stats":{"is_voted":false,"number_of_views":19,"number_of_steps":25,"number_of_bookmarks":0,"number_of_comments":0,"number_of_bookmarked_comments":0,"number_of_steps_comments":0,"number_of_protocol_comments":0,"number_of_exports":0,"number_of_runs":0,"number_of_votes":0,"number_of_reagents":0,"number_of_equipments":0,"number_of_collections":0,"number_of_forks":{"private":0,"public":0},"number_of_accessible_forks":0},"status":{"id":1,"info":"We use this protocol and it's working"},"steps":[{"id":1592477,"guid":"AA64BC5633D7450EB676E8916248F9CB","previous_id":null,"previous_guid":null,"section":"\u003cp\u003eDocker Setup\u003c/p\u003e","section_color":"#A492FF","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"2spr7\",\"text\":\"On Windows: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":0,\"length\":12}],\"entityRanges\":[],\"data\":{}},{\"key\":\"ba6fo\",\"text\":\"If you haven't already, download and set up Docker Desktop for Windows. This requires administrator privileges and will also install the Windows Subsystem for Linux (WSL2). \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"4sqga\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"8amke\",\"text\":\"Download: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"5kutt\",\"text\":\"https://www.docker.com/products/docker-desktop \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":46}],\"data\":{}},{\"key\":\"citr0\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"aql3m\",\"text\":\"Alternatively, use our install script via powershell: Github\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":1,\"offset\":54,\"length\":6}],\"data\":{}},{\"key\":\"39dde\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"6k3i1\",\"text\":\"Then, download the docker container from our repository: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"f80kn\",\"text\":\"Dropbox\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":2,\"offset\":0,\"length\":7}],\"data\":{}},{\"key\":\"boe4g\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"f43v1\",\"text\":\"Load the docker image with \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"ct2pu\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":3,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"29dhq\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"62hkg\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"4v0jl\",\"text\":\"Download and install Ilastik for Windows: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"7ue4k\",\"text\":\"https://www.ilastik.org/download.html\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":4,\"offset\":0,\"length\":37}],\"data\":{}},{\"key\":\"6rs50\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"50a1k\",\"text\":\"Download and install FIJI for Windows: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"chn3d\",\"text\":\"https://imagej.net/software/fiji/downloads\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":5,\"offset\":0,\"length\":42}],\"data\":{}},{\"key\":\"7ea5v\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"cd93\",\"text\":\"Update FIJI to the latest version\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"1fh0c\",\"text\":\"    FIJI Plugin update: FIJI -\\u003e Help -\\u003e Update, then restart, click Apply Changes\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"32ohg\",\"text\":\"    FIJI program update: FIJI -\\u003e Help -\\u003e Update ImageJ \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"4cir2\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"6lfiu\",\"text\":\"Verify that BigWarp is installed as FIJI plugin. It should be installed by default on newer FIJI versions. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"cr7pt\",\"text\":\"https://imagej.net/plugins/bigwarp \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":6,\"offset\":0,\"length\":34}],\"data\":{}},{\"key\":\"2bjd1\",\"text\":\"(FIJI -\\u003e Plugins -\\u003e BigDataViewer -\\u003e BigWarp) \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"6iav3\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"dp3cp\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"d7gok\",\"text\":\"On Linux: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":0,\"length\":10}],\"entityRanges\":[],\"data\":{}},{\"key\":\"2mtru\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"eaocc\",\"text\":\"Install docker as described here: https://docs.docker.com/engine/install/ubuntu/ \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":7,\"offset\":34,\"length\":46}],\"data\":{}},{\"key\":\"fg18q\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"4usmo\",\"text\":\"Alternatively, use our install script: Github\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":8,\"offset\":39,\"length\":6}],\"data\":{}},{\"key\":\"2eiul\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"csc3b\",\"text\":\"Then, download the docker container from our repository: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"24p31\",\"text\":\"Dropbox\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":9,\"offset\":0,\"length\":7}],\"data\":{}},{\"key\":\"caqf0\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"3rqlp\",\"text\":\"Load the docker image with \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"9bddb\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":10,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"37dq\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"d4e95\",\"text\":\"Download and install Ilastik for Linux \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"7gqj5\",\"text\":\"https://www.ilastik.org/download.html\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":11,\"offset\":0,\"length\":37}],\"data\":{}},{\"key\":\"6vde5\",\"text\":\"(we recommend a direct install of the newest Beta, as the versions in e.g. Ubuntu repositories often lag a few versions behind) \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"jbvh\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"9vsk0\",\"text\":\"Download and install FIJI for Linux: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"4k7l7\",\"text\":\"https://imagej.net/software/fiji/downloads\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":12,\"offset\":0,\"length\":42}],\"data\":{}},{\"key\":\"cmg3i\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"57knv\",\"text\":\"Update FIJI to the latest version\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"csjnq\",\"text\":\"    FIJI Plugin update: FIJI -\\u003e Help -\\u003e Update, then restart, click Apply Changes\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"8b25o\",\"text\":\"    FIJI program update: FIJI -\\u003e Help -\\u003e Update ImageJ \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"cj3pf\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"53vte\",\"text\":\"Verify that BigWarp is installed as FIJI plugin. It should be installed by default on newer FIJI versions. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"2vmnb\",\"text\":\"https://imagej.net/plugins/bigwarp \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":13,\"offset\":0,\"length\":34}],\"data\":{}},{\"key\":\"f5ded\",\"text\":\"(FIJI -\\u003e Plugins -\\u003e BigDataViewer -\\u003e BigWarp) \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"4jdgv\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"budk4\",\"text\":\"On MacOS:\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":0,\"length\":9}],\"entityRanges\":[],\"data\":{}},{\"key\":\"64ndv\",\"text\":\"Download Docker Desktop for Mac and follow the instructions: Download link\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":14,\"offset\":61,\"length\":13}],\"data\":{}},{\"key\":\"14o2l\",\"text\":\"(N.B. we only tested Intel Macs, use Apple Silicon Macs at your own risk)\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"7s7tc\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"6mipc\",\"text\":\"Alternatively, use our install script: Github\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":15,\"offset\":39,\"length\":6}],\"data\":{}},{\"key\":\"5qmiq\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"a48ll\",\"text\":\"Then, download the docker container from our repository: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"62n45\",\"text\":\"Dropbox\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":16,\"offset\":0,\"length\":7}],\"data\":{}},{\"key\":\"9k5tq\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"f0l0q\",\"text\":\"Load the docker image with \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"1aoco\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":17,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"8458m\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"9laqc\",\"text\":\"Download and install Ilastik for MacOS\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"8qn6j\",\"text\":\"https://www.ilastik.org/download.html\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":18,\"offset\":0,\"length\":37}],\"data\":{}},{\"key\":\"bs7j5\",\"text\":\"(we recommend a direct install of the newest Beta that is compatible with your MacOS version). \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"7rjms\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"4rfcf\",\"text\":\"Download and install FIJI for Linux: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"2vhjk\",\"text\":\"https://imagej.net/software/fiji/downloads\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":19,\"offset\":0,\"length\":42}],\"data\":{}},{\"key\":\"ceof9\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"7o7cd\",\"text\":\"Update FIJI to the latest version\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"76r3v\",\"text\":\"    FIJI Plugin update: FIJI -\\u003e Help -\\u003e Update, then restart, click Apply Changes\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"e0jav\",\"text\":\"    FIJI program update: FIJI -\\u003e Help -\\u003e Update ImageJ \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"ljen\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"ahbpo\",\"text\":\"Verify that BigWarp is installed as FIJI plugin. It should be installed by default on newer FIJI versions. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"1q689\",\"text\":\"https://imagej.net/plugins/bigwarp \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":20,\"offset\":0,\"length\":34}],\"data\":{}},{\"key\":\"1didh\",\"text\":\"(FIJI -\\u003e Plugins -\\u003e BigDataViewer -\\u003e BigWarp) \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"670lg\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"5fj9j\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{\"0\":{\"type\":\"link\",\"mutability\":\"\",\"data\":{\"guid\":\"7B07DCB6A81E11EDA4FD0A58A9FEAC02\",\"url\":\"https://www.docker.com/products/docker-desktop\"}},\"1\":{\"type\":\"link\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"BE5F8820ACC511EDB03A61F4D9583914\",\"url\":\"https://github.com/MoritzNegwer/FriendlyClearMap-scripts/tree/main/install%20scripts/install_windows\"}},\"10\":{\"type\":\"code_insert\",\"mutability\":\"IMMUTABLE\",\"data\":{\"blocks\":[{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"d3ibk\",\"text\":\"docker image load -i ./friendlyclearmap_4_2.tar\",\"type\":\"unstyled\"}],\"entityMap\":{}}},\"11\":{\"type\":\"link\",\"mutability\":\"\",\"data\":{\"guid\":\"7B07DD8AA81E11EDA4FD0A58A9FEAC02\",\"url\":\"https://www.ilastik.org/download.html\"}},\"12\":{\"type\":\"link\",\"mutability\":\"\",\"data\":{\"guid\":\"7B07DC74A81E11EDA4FD0A58A9FEAC02\",\"url\":\"https://imagej.net/software/fiji/downloads\"}},\"13\":{\"type\":\"link\",\"mutability\":\"\",\"data\":{\"guid\":\"7B07DDC8A81E11EDA4FD0A58A9FEAC02\",\"url\":\"https://imagej.net/plugins/bigwarp\"}},\"14\":{\"type\":\"link\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"7B07DE0CA81E11EDA4FD0A58A9FEAC02\",\"url\":\"https://docs.docker.com/desktop/install/mac-install/\"}},\"15\":{\"type\":\"link\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"EF674250ACC511EDB03A61F4D9583914\",\"url\":\"https://github.com/MoritzNegwer/FriendlyClearMap-scripts/tree/main/install%20scripts/install_mac\"}},\"16\":{\"type\":\"link\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"012B0040ACCA11EDB03A61F4D9583914\",\"url\":\"https://www.dropbox.com/s/isfpnxw6tgjxy6a/friendlyclearmap_4_2.tar?dl=0\"}},\"17\":{\"type\":\"code_insert\",\"mutability\":\"IMMUTABLE\",\"data\":{\"blocks\":[{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"d3ibk\",\"text\":\"docker image load -i ./friendlyclearmap_4_2.tar\",\"type\":\"unstyled\"}],\"entityMap\":{}}},\"18\":{\"type\":\"link\",\"mutability\":\"\",\"data\":{\"guid\":\"7B07DE4BA81E11EDA4FD0A58A9FEAC02\",\"url\":\"https://www.ilastik.org/download.html\"}},\"19\":{\"type\":\"link\",\"mutability\":\"\",\"data\":{\"guid\":\"7B07DAB0A81E11EDA4FD0A58A9FEAC02\",\"url\":\"https://imagej.net/software/fiji/downloads\"}},\"2\":{\"type\":\"link\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"E86C9EB0ACC911EDB03A61F4D9583914\",\"url\":\"https://www.dropbox.com/s/isfpnxw6tgjxy6a/friendlyclearmap_4_2.tar?dl=0\"}},\"20\":{\"type\":\"link\",\"mutability\":\"\",\"data\":{\"guid\":\"7B07DB45A81E11EDA4FD0A58A9FEAC02\",\"url\":\"https://imagej.net/plugins/bigwarp\"}},\"3\":{\"type\":\"code_insert\",\"mutability\":\"IMMUTABLE\",\"data\":{\"blocks\":[{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"d3ibk\",\"text\":\"docker image load -i ./friendlyclearmap_4_2.tar\",\"type\":\"unstyled\"}],\"entityMap\":{}}},\"4\":{\"type\":\"link\",\"mutability\":\"\",\"data\":{\"guid\":\"7B07DCF4A81E11EDA4FD0A58A9FEAC02\",\"url\":\"https://www.ilastik.org/download.html\"}},\"5\":{\"type\":\"link\",\"mutability\":\"\",\"data\":{\"guid\":\"7B07DBB9A81E11EDA4FD0A58A9FEAC02\",\"url\":\"https://imagej.net/software/fiji/downloads\"}},\"6\":{\"type\":\"link\",\"mutability\":\"\",\"data\":{\"guid\":\"7B07DD49A81E11EDA4FD0A58A9FEAC02\",\"url\":\"https://imagej.net/plugins/bigwarp\"}},\"7\":{\"type\":\"link\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"7B07DC27A81E11EDA4FD0A58A9FEAC02\",\"url\":\"https://docs.docker.com/engine/install/ubuntu\"}},\"8\":{\"type\":\"link\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"D4DE8100ACC511EDB03A61F4D9583914\",\"url\":\"https://github.com/MoritzNegwer/FriendlyClearMap-scripts/tree/main/install%20scripts/install_Linux\"}},\"9\":{\"type\":\"link\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"FB8B7CA0ACC911EDB03A61F4D9583914\",\"url\":\"https://www.dropbox.com/s/isfpnxw6tgjxy6a/friendlyclearmap_4_2.tar?dl=0\"}}}}","data":null,"protocol_id":76700,"case_id":0,"critical_ids":"","duration":0,"original_id":1374930,"number":"1","cases":[],"critical":null},{"id":1592478,"guid":"B1FAA7F2450B45319D303C89010F6311","previous_id":1592477,"previous_guid":"AA64BC5633D7450EB676E8916248F9CB","section":"\u003cp\u003eGetting your data ready \u003c/p\u003e","section_color":"#94EBFF","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"9ov4k\",\"text\":\"This pipeline assumes that the samples are saved as a series of single-channel tiffs, one per z-plane. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"ekmpo\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"4gvue\",\"text\":\"This means that if you have tiled images, you will need to stitch them so that there is only one per z-plane. This can be done with e.g. the FIJI stitching plugin (Fiji -\\u003e Plugins -\\u003e Stitching -\\u003e Deprecated -\\u003e Stitch Sequence of Grids of Images. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"avckp\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"f4n04\",\"text\":\"Double-check that the folder with the tiff series does only contain this series and nothing else (i.e. tiling information or other images). If you have multiple channels, \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"ag29l\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"4nv98\",\"text\":\"At a minimum, this pipeline expects a single channel with the signal of interest (e.g. tdTomato or cFos). The autofluorescence channel is used in the original ClearMap 1/2 pipelines for atlas alignment only - if your signal channel has some autofluorescence, it can be used for atlas alignment as well. If you recorded an autofluorescence channel, you can use this for atlas alignment as well. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"ejvj1\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"7b0gv\",\"text\":\"For fast processing, we recommend at a minimum 32GB RAM and an SSD for fast access. We tested this pipeline on a Laptop (64GB RAM, Ryzen 5 4600H 6 core / 12 threads, SSD) and a desktop PC (32GB RAM, Ryzen 5 3200G 4c/8t, external SSD via USB3), both running Windows 10. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{}}","data":null,"protocol_id":76700,"case_id":0,"critical_ids":"","duration":0,"original_id":1374931,"number":"2","cases":[],"critical":null},{"id":1592479,"guid":"0572D3E1AAFD4A0FBF491C64F39406B1","previous_id":1592478,"previous_guid":"B1FAA7F2450B45319D303C89010F6311","section":"\u003cp\u003eSetting up Segmentation with Ilastik (optional) \u003c/p\u003e","section_color":"#84CE84","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"bl7p5\",\"text\":\"Generate a substack for Ilastik with FIJI: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":0,\"length\":43}],\"entityRanges\":[],\"data\":[]},{\"key\":\"8fnd8\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"43an\",\"text\":\"In FIJI, load a representative section of your image stack. We recommend \\u003e200 z-planes at 3 µm z-height, from the middle of the stack. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"fcbme\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"etgue\",\"text\":\"FIJI -\\u003e Import -\\u003e Image Sequence\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"amv96\",\"text\":\"    Select your folder \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"b1dgo\",\"text\":\"    Set Start image: e.g. 800 if you have 1600 z-planes\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"bedbt\",\"text\":\"    Set count: 200 \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"8pv60\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"5f6ih\",\"text\":\"Once loaded, save as  a hdf5 image for Ilastik: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"3ohnc\",\"text\":\"    FIJI -\\u003e Plugins -\\u003e BigDataViewer -\\u003e Export Current Image as XML/HDF5\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"5cvn3\",\"text\":\"    Leave settings as below: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"1kjlr\",\"text\":\"  \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"1eu3v\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"2u5ss\",\"text\":\"FIJI will then generate the image pyramid for the hdf5 stack and save it in the appointed location. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"751503008CC511ECB34AA97DEFE89C99\",\"height\":281.6333287556969,\"id\":340930,\"is_video\":false,\"legend\":\"\",\"mime\":\"image/png\",\"original_name\":\"image.png\",\"placeholder\":\"https://content.protocols.io/files/h4qcbqtzx.jpg\",\"source\":\"https://content.protocols.io/files/kn8cbqtzx.jpg\",\"type\":1,\"webp_source\":\"https://content.protocols.io/files/kn8bbqtzx.webp\",\"width\":241.3999960763113}}}}","data":null,"protocol_id":76700,"case_id":0,"critical_ids":"","duration":0,"original_id":1374932,"number":"3","cases":[],"critical":null},{"id":1592480,"guid":"44698F34D64048E8B2050377891BF10A","previous_id":1592479,"previous_guid":"0572D3E1AAFD4A0FBF491C64F39406B1","section":"\u003cp\u003eSetting up Segmentation with Ilastik (optional) \u003c/p\u003e","section_color":"#84CE84","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"c93q5\",\"text\":\"Loading the data in Ilastik \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":0,\"length\":28}],\"entityRanges\":[],\"data\":[]},{\"key\":\"8l5q9\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"39ure\",\"text\":\"Generate a Pixel Classification workflow in Ilastik \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"6kiq3\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"36k3m\",\"text\":\"   \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"2r4c6\",\"text\":\"Load the hdf5 file via \\\"Add Single Image\\\", then select t0000/s00/1/cells to display the \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"6f9nk\",\"text\":\"  \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":1,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"68ar6\",\"text\":\"Copy the stack into the project file by right-clicking on the image -\\u003e \\\"Edit\\\", then selecting \\\"Copy into project file\\\". This results in larger Ilastik files, but is important for loading the same files in the docker environment (relative paths will not be preserved). \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"cbcn0\",\"text\":\" \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":2,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"81vsq\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"s3v4\",\"text\":\"If you want to adjust the brightness of the displayed images, you can do so by right-clicking on \\\"Raw Data\\\" in the left column -\\u003e \\\"Adjust Thresholds\\\". Then uncheck \\\"Automatic Range\\\" and set the maximum value so that your cells of interest are visible.  \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"6u02c\",\"text\":\"  \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":3,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"467fv\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"3BA2A1D08CC611ECB34AA97DEFE89C99\",\"height\":224.00000000000014,\"id\":340934,\"is_video\":false,\"legend\":\"\",\"mime\":\"image/png\",\"original_name\":\"image.png\",\"placeholder\":\"https://content.protocols.io/files/h4qebqtzx.jpg\",\"source\":\"https://content.protocols.io/files/kn8gbqtzx.jpg\",\"type\":1,\"webp_source\":\"https://content.protocols.io/files/kn8fbqtzx.webp\",\"width\":337.53424657534265}},\"1\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"C587FE408CC611ECB34AA97DEFE89C99\",\"height\":230.38546370072808,\"id\":340938,\"is_video\":false,\"legend\":\"\",\"mime\":\"image/png\",\"original_name\":\"image.png\",\"placeholder\":\"https://content.protocols.io/files/h4qgbqtzx.jpg\",\"source\":\"https://content.protocols.io/files/kn8kbqtzx.jpg\",\"type\":1,\"webp_source\":\"https://content.protocols.io/files/kn8jbqtzx.webp\",\"width\":344.326100639675}},\"2\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"CBD643008CC711ECB34AA97DEFE89C99\",\"height\":225.66181818181812,\"id\":340942,\"is_video\":false,\"legend\":\"\",\"mime\":\"image/png\",\"original_name\":\"image.png\",\"placeholder\":\"https://content.protocols.io/files/h4qibqtzx.jpg\",\"source\":\"https://content.protocols.io/files/kn8qbqtzx.jpg\",\"type\":1,\"webp_source\":\"https://content.protocols.io/files/kn8pbqtzx.webp\",\"width\":338.18528610354224}},\"3\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"BEAE13F08CC811ECB34AA97DEFE89C99\",\"height\":212.73636363636373,\"id\":340946,\"is_video\":false,\"legend\":\"\",\"mime\":\"image/png\",\"original_name\":\"image.png\",\"placeholder\":\"https://content.protocols.io/files/h4qkbqtzx.jpg\",\"source\":\"https://content.protocols.io/files/kn8ubqtzx.jpg\",\"type\":1,\"webp_source\":\"https://content.protocols.io/files/kn8tbqtzx.webp\",\"width\":320.5616438356167}}}}","data":null,"protocol_id":76700,"case_id":0,"critical_ids":"","duration":0,"original_id":1374933,"number":"4","cases":[],"critical":null},{"id":1592481,"guid":"7BA0BF7A1C234C99AAA8102715EBCBF9","previous_id":1592480,"previous_guid":"44698F34D64048E8B2050377891BF10A","section":"\u003cp\u003eSetting up Segmentation with Ilastik (optional) \u003c/p\u003e","section_color":"#84CE84","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"87j9a\",\"text\":\"Segmentation with Ilastik \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":0,\"length\":26}],\"entityRanges\":[],\"data\":[]},{\"key\":\"fiqul\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"7ot60\",\"text\":\"In the \\\"Select Features\\\" pane, add a 30 (pixels wide) filter by clicking to the right of the 10 column and entering 30. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"b09a0\",\"text\":\"Then, select the \\\"Edge\\\" and \\\"Texture\\\" boxes for all σ (filters). \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"7bmtq\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"40i8n\",\"text\":\"(Note that those are empirically determined settings. Adding a 30px filter approximately captures single neurons when imaged at 1.1x magnification on a 2160 x 2560 pixel camera. Different imaging conditions, notably with different magnifications, might require different-size filters. Also, skipping the intensity-based filters speeds up calculations without noticeable worse segmentation quality.) \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"dsd5d\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"192h5\",\"text\":\"  \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"4gg84\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"74i2d\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"a0rmt\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"21FB33408CDB11ECB34AA97DEFE89C99\",\"height\":239.00909090909084,\"id\":340950,\"is_video\":false,\"legend\":\"\",\"mime\":\"image/png\",\"original_name\":\"image.png\",\"placeholder\":\"https://content.protocols.io/files/h4qnbqtzx.jpg\",\"source\":\"https://content.protocols.io/files/kn8ybqtzx.jpg\",\"type\":1,\"webp_source\":\"https://content.protocols.io/files/kn8xbqtzx.webp\",\"width\":360.1506849315067}}}}","data":null,"protocol_id":76700,"case_id":0,"critical_ids":"","duration":0,"original_id":1374934,"number":"5","cases":[],"critical":null},{"id":1592482,"guid":"A4FEE40D4AE44264B80CA3BB40B4B3EB","previous_id":1592481,"previous_guid":"7BA0BF7A1C234C99AAA8102715EBCBF9","section":"\u003cp\u003eSetting up Segmentation with Ilastik (optional) \u003c/p\u003e","section_color":"#84CE84","section_duration":0,"is_substep":true,"step":"{\"blocks\":[{\"key\":\"e97bp\",\"text\":\"In the \\\"Training\\\" pane, define the background (Label 2) \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"di2rj\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"85pc\",\"text\":\"- Zoom out in the XY projection (Ctrl + mousehweel) until the entire brain is visible \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"4j4hn\",\"text\":\"- Select Label 2, set to max size (61) and draw along the empty space besides the brain. Take care not to draw over the edge of the image, as that can lead to problems down the road with some Ilastik versions. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"35qot\",\"text\":\"- Subsequently, draw single dots along the edges of the brain and in the neuropil where there are no labelled cells. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"30bne\",\"text\":\"  \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"1aml7\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"CDE010308CDC11ECB34AA97DEFE89C99\",\"height\":234.86363331187857,\"id\":340954,\"is_video\":false,\"legend\":\"\",\"mime\":\"image/png\",\"original_name\":\"image.png\",\"placeholder\":\"https://content.protocols.io/files/h4qqbqtzx.jpg\",\"source\":\"https://content.protocols.io/files/kn84bqtzx.jpg\",\"type\":1,\"webp_source\":\"https://content.protocols.io/files/kn83bqtzx.webp\",\"width\":353.9041049905022}}}}","data":null,"protocol_id":76700,"case_id":0,"critical_ids":"","duration":0,"original_id":1374935,"number":"5.1","cases":[],"critical":null},{"id":1592483,"guid":"31D1BC135EE54B94AD08E2858B2E894D","previous_id":1592482,"previous_guid":"A4FEE40D4AE44264B80CA3BB40B4B3EB","section":"\u003cp\u003eSetting up Segmentation with Ilastik (optional) \u003c/p\u003e","section_color":"#84CE84","section_duration":0,"is_substep":true,"step":"{\"blocks\":[{\"key\":\"fih7c\",\"text\":\"Subsequently, zoom in on your signal (Ctrl + Scroll wheel). To syncronze the view between the XY projection and the other two, double-leftclick on an object of interest, e.g. a cell. The voxel you clicked will then be centered in the other projections as well. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"2bvrh\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"d2gu6\",\"text\":\"1) Select a few cells as signal (Label 1, yellow). For our images, a size 5 brush covered most of the labelled cell bodies at their maximum extent. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"1gong\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"c8k08\",\"text\":\"2) Surround the selected cell with a thin circle of background (1-3 px wide). We found this to be especially helpful when marking cells close to each other, as otherwise Ilastik may wrongly mark the region in between also as signal. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"f5el6\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"e9qqn\",\"text\":\"3) Repeat for the same cells for the XZ and YZ projections. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"47s8t\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"7oe2i\",\"text\":\"4) We recommend marking ca. 100 cells in total, spread out over the stack. Take care to select regions that are representative of the entire brain, i.e. with different densities and background intensities. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"9rro0\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"clsd4\",\"text\":\"  \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"blbh0\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"9775C9708CDE11ECB34AA97DEFE89C99\",\"height\":319,\"id\":340958,\"is_video\":false,\"legend\":\"\",\"mime\":\"image/png\",\"original_name\":\"image.png\",\"placeholder\":\"https://content.protocols.io/files/h4qsbqtzx.jpg\",\"source\":\"https://content.protocols.io/files/kn88bqtzx.jpg\",\"type\":1,\"webp_source\":\"https://content.protocols.io/files/kn87bqtzx.webp\",\"width\":550}}}}","data":null,"protocol_id":76700,"case_id":0,"critical_ids":"","duration":0,"original_id":1374936,"number":"5.2","cases":[],"critical":null},{"id":1592484,"guid":"CE2AAA7329AB4F67BFA1E06581EB7DD6","previous_id":1592483,"previous_guid":"31D1BC135EE54B94AD08E2858B2E894D","section":"\u003cp\u003eSetting up Segmentation with Ilastik (optional) \u003c/p\u003e","section_color":"#84CE84","section_duration":0,"is_substep":true,"step":"{\"blocks\":[{\"key\":\"nko8\",\"text\":\"Once you have marked ca. 100 cells, zoom in on one region in all three projections and click \\\"Live Preview\\\" to trigger the training of the random forest algorithm with your input data. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"3h1hu\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"8ivpj\",\"text\":\"Note: Do not add new input data during training, as this will trigger a re-training from the start. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":0,\"length\":6},{\"style\":\"italic\",\"offset\":9,\"length\":3}],\"entityRanges\":[],\"data\":[]},{\"key\":\"8kk1v\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"8sum4\",\"text\":\"Depending on the number and speed of your CPU cores, this may take a long time (10-45 minutes) to complete. Once it is completed, the prediction will be overlaid over your field of view. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"95m0b\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"etnbb\",\"text\":\"Once the training has finished, verify that the segmentation is correct. If not and more training data needs to be added, turn off \\\"Live Preview\\\" before adding new data - otherwise, every new addition will trigger a fresh round of training, leading to long delays. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":122,\"length\":46}],\"entityRanges\":[],\"data\":[]},{\"key\":\"dsto1\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"973at\",\"text\":\"   \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":1,\"length\":1}],\"data\":[]},{\"key\":\"17r6q\",\"text\":\"  \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":1,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"92vc2\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"7F5088B08CE011ECB34AA97DEFE89C99\",\"height\":268.93999999999994,\"id\":340962,\"is_video\":false,\"legend\":{\"blocks\":[{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"co6f4\",\"text\":\"Training in progress. Note the progress bar in the bottom left corner. \",\"type\":\"unstyled\"}],\"entityMap\":[]},\"mime\":\"image/png\",\"original_name\":\"image.png\",\"placeholder\":\"https://content.protocols.io/files/h4qubqtzx.jpg\",\"source\":\"https://content.protocols.io/files/kn9cbqtzx.jpg\",\"type\":1,\"webp_source\":\"https://content.protocols.io/files/kn9bbqtzx.webp\",\"width\":463.6896551724137}},\"1\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"E7807E408CE511ECB34AA97DEFE89C99\",\"height\":319,\"id\":340966,\"is_video\":false,\"legend\":{\"blocks\":[{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"ga4u\",\"text\":\"Training finished. Note the cell in the center of the XZ projection is predicted to be background. However, scrolling through the XZ projection will reveal that the following plane is segmented as a cell. Therefore, no action is needed. \",\"type\":\"unstyled\"}],\"entityMap\":[]},\"mime\":\"image/png\",\"original_name\":\"image.png\",\"placeholder\":\"https://content.protocols.io/files/h4qwbqtzx.jpg\",\"source\":\"https://content.protocols.io/files/kn9gbqtzx.jpg\",\"type\":1,\"webp_source\":\"https://content.protocols.io/files/kn9fbqtzx.webp\",\"width\":550}}}}","data":null,"protocol_id":76700,"case_id":0,"critical_ids":"","duration":0,"original_id":1374937,"number":"5.3","cases":[],"critical":null},{"id":1592485,"guid":"F16EB3849F50409EA0BDA070B8500ED3","previous_id":1592484,"previous_guid":"CE2AAA7329AB4F67BFA1E06581EB7DD6","section":"\u003cp\u003eSetting up Segmentation with Ilastik (optional) \u003c/p\u003e","section_color":"#84CE84","section_duration":0,"is_substep":true,"step":"{\"blocks\":[{\"key\":\"1jepi\",\"text\":\"Auto-selecting the best features for training (optional)\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":0,\"length\":56}],\"entityRanges\":[],\"data\":[]},{\"key\":\"amd3o\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"4sfmp\",\"text\":\"Ilastik offers a \\\"Suggest Features\\\" option. After successful training, this option compares subsets of features to find which reduced subset still represents the training data. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"34hlu\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"82tjq\",\"text\":\"Doing so can take a long time (several hours), but once done, it reduces the set of required features from the 14 selected in Step 5 of this example to a smaller amount (default 7). \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"essps\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"dddk2\",\"text\":\"    \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1},{\"key\":1,\"offset\":1,\"length\":1}],\"data\":[]},{\"key\":\"3kbue\",\"text\":\"Finally, click \\\"Select Feature Set\\\" to confirm. Then, retrain the random forest algorithm with the new subset of parameters by clicking \\\"Live Preview\\\" once more. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"602B02308CEA11ECB34AA97DEFE89C99\",\"height\":239.7600061035156,\"id\":340971,\"is_video\":false,\"legend\":\"\",\"mime\":\"image/png\",\"original_name\":\"image.png\",\"placeholder\":\"https://content.protocols.io/files/h4qybqtzx.jpg\",\"source\":\"https://content.protocols.io/files/kn9mbqtzx.jpg\",\"type\":1,\"webp_source\":\"https://content.protocols.io/files/kn9kbqtzx.webp\",\"width\":410.8037487754933}},\"1\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"69B915608CFB11ECB34AA97DEFE89C99\",\"height\":239.18907259854413,\"id\":340975,\"is_video\":false,\"legend\":{\"blocks\":[{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"b4uvc\",\"text\":\"Compare the feature by clicking on the eye symbols in the left column. If you agree with the selected subset (\\\"7 features\\\"), change the features in the bottom right drop-down menu. There, you can also see the computation time as a comparison. In our example case, the auto-selected subset is approx. 40% faster than the full set of features. \",\"type\":\"unstyled\"}],\"entityMap\":[]},\"mime\":\"image/png\",\"original_name\":\"image.png\",\"placeholder\":\"https://content.protocols.io/files/h4q2bqtzx.jpg\",\"source\":\"https://content.protocols.io/files/kn9rbqtzx.jpg\",\"type\":1,\"webp_source\":\"https://content.protocols.io/files/kn9qbqtzx.webp\",\"width\":409.8255137981283}}}}","data":null,"protocol_id":76700,"case_id":0,"critical_ids":"","duration":0,"original_id":1374938,"number":"5.4","cases":[],"critical":null},{"id":1592486,"guid":"EFD521F79C894DD6916224242B2D9599","previous_id":1592485,"previous_guid":"F16EB3849F50409EA0BDA070B8500ED3","section":"\u003cp\u003eSetting up Segmentation with Ilastik (optional) \u003c/p\u003e","section_color":"#84CE84","section_duration":0,"is_substep":true,"step":"{\"blocks\":[{\"key\":\"c12ab\",\"text\":\"Setting the Ilastik Export settings correctly \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":0,\"length\":46}],\"entityRanges\":[],\"data\":[]},{\"key\":\"100dc\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"fv10o\",\"text\":\"Once the training is complete, proceed to the \\\"Prediction Export\\\" pane. There, click \\\"Choose Export Image Settings\\\", and set the following parameters: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"cmjmk\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"6dk4t\",\"text\":\"- Change \\\"Convert to data type\\\" to \\\"unsigned 8-bit\\\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"9vmio\",\"text\":\"- Check \\\"Renormalize [min,max] from 0.0 / 1.0 to 0 / 255\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"bvhov\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"dg8t0\",\"text\":\"The rest can be left at default. For the final settings, see below: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"4gpq4\",\"text\":\"  \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"e37g5\",\"text\":\"Confirm with OK. Then save (File -\\u003e Save), and close the project. It should now be ready for use in both Clearmap1 and Clearmap 2. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"016E12308D0011ECB34AA97DEFE89C99\",\"height\":436.74545454545466,\"id\":340978,\"is_video\":false,\"legend\":\"\",\"mime\":\"image/png\",\"original_name\":\"image.png\",\"placeholder\":\"https://content.protocols.io/files/h4q4bqtzx.jpg\",\"source\":\"https://content.protocols.io/files/kn9ubqtzx.jpg\",\"type\":1,\"webp_source\":\"https://content.protocols.io/files/kn9sbqtzx.webp\",\"width\":415.5882352941181}}}}","data":null,"protocol_id":76700,"case_id":0,"critical_ids":"","duration":0,"original_id":1374939,"number":"5.5","cases":[],"critical":null},{"id":1592487,"guid":"52DB0BEA81E245FBA674B5392129C1D3","previous_id":1592486,"previous_guid":"EFD521F79C894DD6916224242B2D9599","section":"\u003cp\u003eDocker Setup\u003c/p\u003e","section_color":"#FFED92","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"8i346\",\"text\":\"If you have an install of Arivis Vision4D with the Machine Learning Segmenter package, you can proceed as follows to generate a finished cell coordinate file. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{}}","data":null,"protocol_id":76700,"case_id":0,"critical_ids":"","duration":0,"original_id":1376235,"number":"6","cases":[],"critical":null},{"id":1592488,"guid":"9FFE39527B994905A59BC9D4FC84E4DC","previous_id":1592487,"previous_guid":"52DB0BEA81E245FBA674B5392129C1D3","section":"\u003cp\u003eDocker Setup\u003c/p\u003e","section_color":"#FFED92","section_duration":0,"is_substep":true,"step":"{\"blocks\":[{\"key\":\"4g4p3\",\"text\":\"Convert your dataset with the Arivis SIS converter \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"3plmr\",\"text\":\"  \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"6kfek\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"image\",\"mutability\":\"\",\"data\":{\"guid\":\"A98A8C14B3AD11ECAD1D0A58A9FEAC02\",\"height\":275.5199999999999,\"id\":340983,\"is_video\":false,\"legend\":{\"blocks\":[{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"bt60n\",\"text\":\"Load all files from the image stack as z-planes into SIS converter\",\"type\":\"unstyled\"}],\"entityMap\":[]},\"mime\":\"image/png\",\"original_name\":\"image.png\",\"placeholder\":\"https://content.protocols.io/files/h4snbqtzx.jpg\",\"source\":\"https://content.protocols.io/files/kn9zbqtzx.jpg\",\"type\":1,\"webp_source\":\"https://content.protocols.io/files/kn9ybqtzx.webp\",\"width\":444.38709677419354}}}}","data":null,"protocol_id":76700,"case_id":0,"critical_ids":"","duration":0,"original_id":1376234,"number":"6.1","cases":[],"critical":null},{"id":1592489,"guid":"39BC46B75BD14999B767DCAF6D54B736","previous_id":1592488,"previous_guid":"9FFE39527B994905A59BC9D4FC84E4DC","section":"\u003cp\u003eDocker Setup\u003c/p\u003e","section_color":"#FFED92","section_duration":0,"is_substep":true,"step":"{\"blocks\":[{\"key\":\"43slu\",\"text\":\"Then, load them into Arivis, and in the left Processing Pane, add a \\\"Machine Learning Segmenter\\\" processing step. No pre-processing should be necessary. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"438nk\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"e7bjo\",\"text\":\"  \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"fh3t3\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"AAC5A2F7B3AD11ECAD1D0A58A9FEAC02\",\"height\":297,\"id\":340987,\"is_video\":false,\"legend\":\"\",\"mime\":\"image/png\",\"original_name\":\"arivis 02 - MLSegmenter added.PNG\",\"placeholder\":\"https://content.protocols.io/files/kn99bqtzx.jpg\",\"source\":\"https://content.protocols.io/files/kn95bqtzx.jpg\",\"type\":1,\"webp_placeholder\":\"https://s3.amazonaws.com/protocols-files/files/kn98bqtzx.webp\",\"webp_source\":\"https://content.protocols.io/files/kn94bqtzx.webp\",\"width\":550}}}}","data":null,"protocol_id":76700,"case_id":0,"critical_ids":"","duration":0,"original_id":1376233,"number":"6.2","cases":[],"critical":null},{"id":1592490,"guid":"8999EDD699674BE39C1D52B2933D4F1C","previous_id":1592489,"previous_guid":"39BC46B75BD14999B767DCAF6D54B736","section":"\u003cp\u003eDocker Setup\u003c/p\u003e","section_color":"#FFED92","section_duration":0,"is_substep":true,"step":"{\"blocks\":[{\"key\":\"e33j0\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"bj2ap\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"ahgrl\",\"text\":\"Subsequently, open the \\\"Train Machine Learning Segmenter\\\" pane and start adding foreground and background labels. We recommend the following: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"fed7a\",\"text\":\"- Make sure to assign some background label to the blank space around the brain and the edges of the sample. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"d77c7\",\"text\":\"- Mark a representative subset of cells (we recommend 100 throughout the brain). \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"7pndq\",\"text\":\"- Mark a small circle of background around the marked cells. In our experience, this helps considerably with separation of dense cells. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"dbhnb\",\"text\":\"- Make sure to mark dense projections, fiber tracts, membranes, blood vessels, etc. as background. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"ft7a1\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"cid67\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"egijd\",\"text\":\"  \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"610q\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"305v9\",\"text\":\" \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":1,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"ffhiv\",\"text\":\"  \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":2,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"btcmq\",\"text\":\"  \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":3,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"2cs45\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"ag932\",\"text\":\"(If you already have a trained Ilastik file, you can also import it via the \\\"Import from Ilastik\\\" option). \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"9go7i\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"ejffj\",\"text\":\"Once trained, save the training so it can be reused. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"AFC5EDD3B3AD11ECAD1D0A58A9FEAC02\",\"height\":297,\"id\":340999,\"is_video\":false,\"legend\":\"\",\"mime\":\"image/png\",\"original_name\":\"arivis 03 - background.PNG\",\"placeholder\":\"https://content.protocols.io/files/kpambqtzx.jpg\",\"source\":\"https://content.protocols.io/files/kpahbqtzx.jpg\",\"type\":1,\"webp_placeholder\":\"https://s3.amazonaws.com/protocols-files/files/kpajbqtzx.webp\",\"webp_source\":\"https://content.protocols.io/files/kpagbqtzx.webp\",\"width\":550}},\"1\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"AFC5F014B3AD11ECAD1D0A58A9FEAC02\",\"height\":297,\"id\":341007,\"is_video\":false,\"legend\":\"\",\"mime\":\"image/png\",\"original_name\":\"arivis 04 - cells 01.PNG\",\"placeholder\":\"https://content.protocols.io/files/kpatbqtzx.jpg\",\"source\":\"https://content.protocols.io/files/kparbqtzx.jpg\",\"type\":1,\"webp_placeholder\":\"https://s3.amazonaws.com/protocols-files/files/kpasbqtzx.webp\",\"webp_source\":\"https://content.protocols.io/files/kpapbqtzx.webp\",\"width\":550}},\"2\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"AFC5F184B3AD11ECAD1D0A58A9FEAC02\",\"height\":297,\"id\":341013,\"is_video\":false,\"legend\":\"\",\"mime\":\"image/png\",\"original_name\":\"arivis 05 - cells 01 + bgr.PNG\",\"placeholder\":\"https://content.protocols.io/files/kpazbqtzx.jpg\",\"source\":\"https://content.protocols.io/files/kpaxbqtzx.jpg\",\"type\":1,\"webp_placeholder\":\"https://s3.amazonaws.com/protocols-files/files/kpaybqtzx.webp\",\"webp_source\":\"https://content.protocols.io/files/kpawbqtzx.webp\",\"width\":550}},\"3\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"AFC5EC37B3AD11ECAD1D0A58A9FEAC02\",\"height\":309,\"id\":340993,\"is_video\":false,\"legend\":\"\",\"mime\":\"image/png\",\"original_name\":\"arivis 07 - train.PNG\",\"placeholder\":\"https://content.protocols.io/files/kpafbqtzx.jpg\",\"source\":\"https://content.protocols.io/files/kpabbqtzx.jpg\",\"type\":1,\"webp_placeholder\":\"https://s3.amazonaws.com/protocols-files/files/kpadbqtzx.webp\",\"webp_source\":\"https://content.protocols.io/files/kpaabqtzx.webp\",\"width\":550}}}}","data":null,"protocol_id":76700,"case_id":0,"critical_ids":"","duration":0,"original_id":1376232,"number":"6.3","cases":[],"critical":null},{"id":1592491,"guid":"46C2D27086584263BBB18DA89F4A4516","previous_id":1592490,"previous_guid":"8999EDD699674BE39C1D52B2933D4F1C","section":"\u003cp\u003eDocker Setup\u003c/p\u003e","section_color":"#FFED92","section_duration":0,"is_substep":true,"step":"{\"blocks\":[{\"key\":\"cjjck\",\"text\":\"In the pipeline pane on the left, make sure to change the Input ROI to \\\"current image set\\\" (otherwise it will remain at the default \\\"current view\\\", i.e. the 2D cutout that you are viewing.\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"426q6\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"7qksh\",\"text\":\"  \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"18e0a\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"a2dcq\",\"text\":\"To export as a coordinate list, add a \\\"Export Objects Features\\\" step to the processing pipeline. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"5cmvh\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"av5d5\",\"text\":\"  \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":1,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"d4qd\",\"text\":\"Specify the output as an Excel file. Select the following Object Properties: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"41pq\",\"text\":\"- Deselect everything (defaults won't make much sense) \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"2mmpu\",\"text\":\"- Center of Gravity X / Y / Z (px) \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"2fc5o\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"4b08\",\"text\":\"  \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":2,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"2b3dn\",\"text\":\"  \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":3,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"65ill\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"B28A8F2CB3AD11ECAD1D0A58A9FEAC02\",\"height\":297,\"id\":341031,\"is_video\":false,\"legend\":\"\",\"mime\":\"image/png\",\"original_name\":\"arivis 09.5 - set current image set - run pipeline.PNG\",\"placeholder\":\"https://content.protocols.io/files/kpbmbqtzx.jpg\",\"source\":\"https://content.protocols.io/files/kpbhbqtzx.jpg\",\"type\":1,\"webp_placeholder\":\"https://s3.amazonaws.com/protocols-files/files/kpbkbqtzx.webp\",\"webp_source\":\"https://content.protocols.io/files/kpbebqtzx.webp\",\"width\":550}},\"1\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"B28A91B1B3AD11ECAD1D0A58A9FEAC02\",\"height\":297,\"id\":341041,\"is_video\":false,\"legend\":\"\",\"mime\":\"image/png\",\"original_name\":\"arivis 07 - export to pipeline.PNG\",\"placeholder\":\"https://content.protocols.io/files/kpbvbqtzx.jpg\",\"source\":\"https://content.protocols.io/files/kpbtbqtzx.jpg\",\"type\":1,\"webp_placeholder\":\"https://s3.amazonaws.com/protocols-files/files/kpbubqtzx.webp\",\"webp_source\":\"https://content.protocols.io/files/kpbsbqtzx.webp\",\"width\":550}},\"2\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"B28A931CB3AD11ECAD1D0A58A9FEAC02\",\"height\":594,\"id\":341017,\"is_video\":false,\"legend\":\"\",\"mime\":\"image/png\",\"original_name\":\"arivis 08 - set parameters.PNG\",\"placeholder\":\"https://content.protocols.io/files/kpa5bqtzx.jpg\",\"source\":\"https://content.protocols.io/files/kpa3bqtzx.jpg\",\"type\":1,\"webp_placeholder\":\"https://s3.amazonaws.com/protocols-files/files/kpa4bqtzx.webp\",\"webp_source\":\"https://content.protocols.io/files/kpa2bqtzx.webp\",\"width\":388}},\"3\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"B28A9487B3AD11ECAD1D0A58A9FEAC02\",\"height\":594,\"id\":341023,\"is_video\":false,\"legend\":\"\",\"mime\":\"image/png\",\"original_name\":\"arivis 09 - set parameters.PNG\",\"placeholder\":\"https://content.protocols.io/files/kpbbbqtzx.jpg\",\"source\":\"https://content.protocols.io/files/kpa9bqtzx.jpg\",\"type\":1,\"webp_placeholder\":\"https://s3.amazonaws.com/protocols-files/files/kpbabqtzx.webp\",\"webp_source\":\"https://content.protocols.io/files/kpa7bqtzx.webp\",\"width\":388}}}}","data":null,"protocol_id":76700,"case_id":0,"critical_ids":"","duration":0,"original_id":1376231,"number":"6.4","cases":[],"critical":null},{"id":1592492,"guid":"DD65F491E02D41BD83CFA58EBBD51B1B","previous_id":1592491,"previous_guid":"46C2D27086584263BBB18DA89F4A4516","section":"\u003cp\u003eDocker Setup\u003c/p\u003e","section_color":"#FFED92","section_duration":0,"is_substep":true,"step":"{\"blocks\":[{\"key\":\"7l58s\",\"text\":\"Save the pipeline. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"fnn05\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"dmfe8\",\"text\":\"Then, run it for the file at hand. The Machine Learning Segmenter plugin is CPU-heavy and will likely take approx. 24h for a 2160 x 2560 x 2000 pixel stack on a recent (14 core, 128GB RAM, fast NVMe SSD) workstation. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"cm69r\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"dnfd1\",\"text\":\"If you want to optimize Arivis' speed, make sure that the cache is written to a SSD. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"bumcj\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"589mf\",\"text\":\"Furthermore, the objects file is located in a SQL databse in the same folder as the SIS file. We found that with \\u003e100k cells, random read/write access to the database is slowing down processing, easily adding several days of processing time per file. We recommend to at least have the SIS file on a fast internal SSD. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"63fsc\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"6ub9g\",\"text\":\"If you have sufficient RAM to spare (total \\u003e64GB), you can create a Ramdisk (e.g. with ImDisk, https://sourceforge.net/projects/imdisk-toolkit/) and copy your SIS file there before starting processing. This should considerably speed up processing time for samples where you expect a large number (more than 100k) of segmented cells. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":95,\"length\":48}],\"data\":[]},{\"key\":\"dopbh\",\"text\":\"As Arivis Vision4D itself is very conservative with RAM use (never exceeded 15 GB with our Machine Learning Segmenter-based pipeline), you shold be able to set aside everything above 32GB as a Ramdisk. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"cii43\",\"text\":\"Note: Make sure to copy your files back onto a SSD or HDD before proceeding with the next stack. Ramdisks are volatile and their contents will disappear if the Ramdisk is unmounted or the workstation is shut off. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":0,\"length\":5}],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"link\",\"mutability\":\"\",\"data\":{\"guid\":\"B28AA079B3AD11ECAD1D0A58A9FEAC02\",\"url\":\"https://sourceforge.net/projects/imdisk-toolkit\"}}}}","data":null,"protocol_id":76700,"case_id":0,"critical_ids":"","duration":0,"original_id":1376230,"number":"6.5","cases":[],"critical":null},{"id":1592493,"guid":"B5BFD9CDE19E4086B4E42A8005C97B98","previous_id":1592492,"previous_guid":"DD65F491E02D41BD83CFA58EBBD51B1B","section":"\u003cp\u003eImporting externally generated (or manually generated)  cell coordinates (optional)\u003c/p\u003e","section_color":"#EA9F6C","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"754gd\",\"text\":\"If you have produced external cell annotations, e.g. via Arivis or as a list of manual coordinates, do the following: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"36krk\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"bctdl\",\"text\":\"- Make sure your coordinates are in an excel file with the only three columns corresponding to X, Y, and Z coordinates. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"7u7hv\",\"text\":\"- Run a python script like the following (not in the docker container, e.g. use Spyder via Anacona): \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"39ivr\",\"text\":\" \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"dbfot\",\"text\":\"Note that this assumes that the excel does not contain a header (x,y,z,... in the first line). If it does, then remove them from the file before proceeding.  \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"a07sd\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"239bq\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"8gftc\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"code_insert\",\"mutability\":\"IMMUTABLE\",\"data\":{\"blocks\":[{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"7e7md\",\"text\":\"# -*- coding: utf-8 -*-\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"2cum7\",\"text\":\"import pandas as pd\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"2pkp7\",\"text\":\"import numpy as np \",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"cn46d\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"4q5fr\",\"text\":\"#load the file \",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"dn80f\",\"text\":\"coordinates = pd.read_excel(\\\"path_to_excel_file\\\")\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"82tui\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"1pol9\",\"text\":\"#save as numpy \",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"6r74n\",\"text\":\"coordinates_np = coordinates.to_numpy()\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"f5hci\",\"text\":\"coordinates.astype(int)\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"7d3g4\",\"text\":\"np.save(coordinates_np,\\\"brain_folder_path/cells.npy)\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"76u2a\",\"text\":\"\",\"type\":\"unstyled\"}],\"entityMap\":{}}}}}","data":null,"protocol_id":76700,"case_id":0,"critical_ids":"","duration":0,"original_id":1374956,"number":"7","cases":[],"critical":null},{"id":1592494,"guid":"97A1C9A5F7094259A0A2C9BF0E9EC8D3","previous_id":1592493,"previous_guid":"B5BFD9CDE19E4086B4E42A8005C97B98","section":"\u003cp\u003eCell detection\u003c/p\u003e","section_color":"#E57785","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"4crif\",\"text\":\"First, set up your folder structure as follows: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"b04ka\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"dl5g6\",\"text\":\"1) One folder per sample \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"ag0bo\",\"text\":\"2) In this folder, have one subfolder per channel, containing only the image stack (one tiff image per z-plane) \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"b2999\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"bsodo\",\"text\":\"(Note: Make sure that there are no spaces in the path to this folder names, as this will trip up Elastix when running the alignment. If you need to fix the filenames, try Bulk Rename Utility (https://www.bulkrenameutility.co.uk/Download.php) on Windows. On Linux use command line or the Thunar file manager (standard in XFCE-based distributions such as Xubuntu)). \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":192,\"length\":48}],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"link\",\"mutability\":\"\",\"data\":{\"guid\":\"3545EEBA8D1511EC882D0A58A9FEAC02\",\"url\":\"https://www.bulkrenameutility.co.uk/Download.php\"}}}}","data":null,"protocol_id":76700,"case_id":0,"critical_ids":"","duration":0,"original_id":1375002,"number":"8","cases":[],"critical":null},{"id":1592495,"guid":"3B8BAE88A9A44525A9182FEC52AB6D77","previous_id":1592494,"previous_guid":"97A1C9A5F7094259A0A2C9BF0E9EC8D3","section":"\u003cp\u003eCell detection\u003c/p\u003e","section_color":"#E57785","section_duration":0,"is_substep":true,"step":"{\"blocks\":[{\"key\":\"56ols\",\"text\":\"Copy the process_Ilastik_run_this.py into the folder and adapt as follows: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"7570p\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"6qami\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"8j25n\",\"text\":\"In this case, the Z\\u003cZ,4\\u003e signals that there are four numbers after the Z , starting from 0000. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"e10ps\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"fifdn\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"5qvn6\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":1,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"8efhi\",\"text\":\"If only one channel is used (e.g. if you used a 94 fluorophore and have plenty of autofluorescent background), then set expression_auto = expression raw. Otherwise uncomment the next line with the file name of your signal (e.g. 647 channel) image tiffs. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"348ip\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"a098h\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"1lulu\",\"text\":\"Subsequently, adapt the atlas properties (line 78+)\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"6o0li\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":2,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"6ikvr\",\"text\":\"Leave this block uncommented if you want to use the built-in CCF3 atlas of clearmap2. Otherwise block-comment it ('''' at beginning and end). \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"9lbq4\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"7333v\",\"text\":\"In case you want to use your own atlas, uncomment the block and adapt the following: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"5trbu\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":3,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"5unuh\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"fopc1\",\"text\":\"Also, uncomment the and adapt custom annotations in line 414:\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"ctj4k\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"dk99v\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":4,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"4ti1u\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"esntv\",\"text\":\"Note  this means the atlas folder needs to be placed in the atlas folder (which in the Docker container will be represented as /CloudMap/Data/) \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":0,\"length\":4}],\"entityRanges\":[],\"data\":[]},{\"key\":\"57auf\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"db7d6\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"88uld\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"aftb1\",\"text\":\"Then adapt the follwing parameters (line 139+)     \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"9pgpl\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":5,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"7hqk7\",\"text\":\"Adapt this to the dimensions of your scan. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"6r1j5\",\"text\":\"In the case of LaVision / Miltenyi Ultramicroscopes, the tiff headers should contain a large amount of information. You can find this information by loading the first tiff file in FIJI and clicking Image -\\u003e Show Info.  In that case, save the content of the \\\"File Info\\\" window (File -\\u003e Save As, then choose a name and save as .txt). \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"atpdj\",\"text\":\"Then re-open the resulting .txt file with a text editor such as Notepad++ (https://notepad-plus-plus.org/downloads/) on Windows or gedit on Linux. Search for \\\"PhysicalDimension\\\" and note the X, Y, and Z values. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":6,\"offset\":75,\"length\":40}],\"data\":[]},{\"key\":\"39hg1\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"4fr54\",\"text\":\"If you are using a custom reference atlas with a different resolution (e.g. 10 x 10 x 10 µm/voxel) , adapt the sink_resolution values. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"flp33\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"dcdha\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"5tvh2\",\"text\":\"Finally, set the action you want to take (line 58):\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"foqkl\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":7,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"5lp7c\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"bbjuk\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"code_insert\",\"mutability\":\"IMMUTABLE\",\"data\":{\"blocks\":[{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"fcar6\",\"text\":\"expression_raw = 'name_of_your_autofluo_tif_file Z\\u003cZ,4\\u003e.ome.tif'           \",\"type\":\"unstyled\"}],\"entityMap\":{}}},\"1\":{\"type\":\"code_insert\",\"mutability\":\"IMMUTABLE\",\"data\":{\"blocks\":[{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"5vll4\",\"text\":\"expression_auto = expression_raw #if only one channel is present \",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"69ium\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"3pjgc\",\"text\":\"#expression_auto = 'name_of_your_signal_tif_file Z\\u003cZ,4\\u003e.ome.tif'\",\"type\":\"unstyled\"}],\"entityMap\":{}}},\"2\":{\"type\":\"code_insert\",\"mutability\":\"IMMUTABLE\",\"data\":{\"blocks\":[{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"dvsh3\",\"text\":\"  #init atlas and reference files\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"d1qv4\",\"text\":\"  \",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"8vr8s\",\"text\":\"  annotation_file, reference_file, distance_file=ano.prepare_annotation_files(\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"gm4\",\"text\":\"      slicing=(slice(None),slice(None),slice(0,256)), \",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"4anvj\",\"text\":\"      orientation=(1,-2,3),\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"fo05p\",\"text\":\"      overwrite=False, verbose=True);\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"fldas\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"c4gvv\",\"text\":\"  #alignment parameter files    \",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"4fdn8\",\"text\":\"  align_channels_affine_file   = io.join(resources_directory, 'Alignment/align_affine.txt')\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"bqe04\",\"text\":\"  align_reference_affine_file  = io.join(resources_directory, 'Alignment/align_affine.txt')\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"3i1bt\",\"text\":\"  align_reference_bspline_file = io.join(resources_directory, 'Alignment/align_bspline.txt')\",\"type\":\"unstyled\"}],\"entityMap\":{}}},\"3\":{\"type\":\"code_insert\",\"mutability\":\"IMMUTABLE\",\"data\":{\"blocks\":[{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"aii0h\",\"text\":\"  #in case you want to use your own atlas:\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"cerlm\",\"text\":\"  atlas_dir = '/CloudMap/Data/atlas/P56_CCF2/'\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"4u60m\",\"text\":\"  atlas_file = io.join(atlas_dir, 'template_25.tif')\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"etbgd\",\"text\":\"  atlas_annotation_file = io.join(atlas_dir,'annotation_25_full.nrrd')\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"5v2d1\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"50q3t\",\"text\":\"  #custom atlas\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"eh7s1\",\"text\":\"  annotation_file, reference_file, distance_file = ano.prepare_annotation_files(\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"cp4eg\",\"text\":\"      slicing = None,\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"brt6n\",\"text\":\"      directory = atlas_dir,\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"3g40g\",\"text\":\"      annotation_file = atlas_annotation_file,\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"779db\",\"text\":\"      reference_file = atlas_file,\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"14qa4\",\"text\":\"      distance_to_surface_file = None,\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"11ilc\",\"text\":\"      orientation = (1,2,3),\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"6ljqk\",\"text\":\"      overwrite=False,\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"bepfb\",\"text\":\"      verbose=True)\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"5kdaj\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"aooo2\",\"text\":\"  align_channels_affine_file   = io.join(atlas_dir,'Par0000affine_acquisition.txt')\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"3g2p7\",\"text\":\"  align_reference_affine_file  = io.join(atlas_dir,'Par0000affine_acquisition.txt')\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"3t0i3\",\"text\":\"  align_reference_bspline_file = io.join(atlas_dir,'Par0000bspline.txt')\",\"type\":\"unstyled\"}],\"entityMap\":{}}},\"4\":{\"type\":\"code_insert\",\"mutability\":\"IMMUTABLE\",\"data\":{\"blocks\":[{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"6b9o0\",\"text\":\"# only for atlases other than standard atlas \",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"m1v1\",\"text\":\"  custom_label_csv = pandas.read_csv('/CloudMap/Data/atlas/P56_CCF2/regions_IDs.csv')\",\"type\":\"unstyled\"}],\"entityMap\":{}}},\"5\":{\"type\":\"code_insert\",\"mutability\":\"IMMUTABLE\",\"data\":{\"blocks\":[{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"a0pj2\",\"text\":\"#%% Resample \",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"9hr6o\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"2hct9\",\"text\":\"  resample_parameter = {\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"5hi4h\",\"text\":\"      \\\"source_resolution\\\" : (3.25, 3.25, 3),\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"a6tct\",\"text\":\"      \\\"sink_resolution\\\"   : (25,25,25),\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"4n4a7\",\"text\":\"      \\\"processes\\\" : None,\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"9dum4\",\"text\":\"      \\\"verbose\\\" : False,\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"cpj9a\",\"text\":\"      \\\"orientation\\\" : (1,2,3)\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"4qujm\",\"text\":\"      };\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"68um3\",\"text\":\"\",\"type\":\"unstyled\"}],\"entityMap\":{}}},\"6\":{\"type\":\"link\",\"mutability\":\"\",\"data\":{\"guid\":\"460958398D2211EC882D0A58A9FEAC02\",\"url\":\"https://notepad-plus-plus.org/downloads\"}},\"7\":{\"type\":\"code_insert\",\"mutability\":\"IMMUTABLE\",\"data\":{\"blocks\":[{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"401qe\",\"text\":\"#TODO: Specifiy which action you want to take. Uncomment what you want to do\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"ecuq5\",\"text\":\"  Action = 'Preprocess' #only generate scaled-down resamples of expression + autoflu, if you want to manually align to the atlas \",\"type\":\"unstyled\"}],\"entityMap\":{}}}}}","data":null,"protocol_id":76700,"case_id":0,"critical_ids":"","duration":0,"original_id":1375001,"number":"8.1","cases":[],"critical":null},{"id":1592496,"guid":"85E397F616F943E2B2332DAB711D40D7","previous_id":1592495,"previous_guid":"3B8BAE88A9A44525A9182FEC52AB6D77","section":"\u003cp\u003eAtlas alignment with Dockerized Clearmap pipelines \u003c/p\u003e","section_color":"#EA94FF","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"fp7i6\",\"text\":\"Subsequently, run the Docker container for the first time. If everything goes according to plan, this will generate three additional tiffstacks downsampled to 25µm/voxel, suitable for alignment to the Allen Brain Atlas. The Docker container should finish after running. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"6dlqr\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"66mlm\",\"text\":\"On Windows, open power shell, navigate to the folder with the process_Ilastik_run_this.py script and adapt the following code: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":0,\"length\":10}],\"entityRanges\":[],\"data\":{}},{\"key\":\"b3tf7\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"9ncok\",\"text\":\" Note that file paths must not end on a trailing backslash. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"fkkiv\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"2qaiq\",\"text\":\"On Linux, open a terminal, then navigate to the folder with the process_Ilastik_run_this.py script and run the following command: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":0,\"length\":8}],\"entityRanges\":[],\"data\":{}},{\"key\":\"fpd0u\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":1,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"36c1h\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"eig9k\",\"text\":\"On MacOS, open a terminal (Spotlight -\\u003e press Space -\\u003e type \\\" Terminal\\\"), then navigate to the folder with the process_Ilastik_run_this.py script and type the folllwing command:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":0,\"length\":8}],\"entityRanges\":[],\"data\":{}},{\"key\":\"6h3gd\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":2,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"fueqk\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"2u2vf\",\"text\":\"By default, the container will execute the process_Ilastik_run_this.py script. If you want to run a different script, you can add the option \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"1qv8p\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":3,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"3q94e\",\"text\":\" prior to the friendlyclearmap:4.2 argument. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"5eik\",\"text\":\"Note that in this case the script needs to be in the folder that is mapped to /CloudMap/Data with the first -v command (i.e. the folder containing all image data). \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{\"0\":{\"type\":\"code_insert\",\"mutability\":\"IMMUTABLE\",\"data\":{\"blocks\":[{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"7c6g3\",\"text\":\"docker run -it --rm -v C:\\\\path\\\\to\\\\brain:/CloudMap/Data \",\"type\":\"unstyled\"},{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"dnso1\",\"text\":\"-v C:\\\\path\\\\to\\\\custom\\\\Ilastik\\\\file:/CloudMap/classifiers\",\"type\":\"unstyled\"},{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"cc2sa\",\"text\":\"friendlyclearmap:4.2 ;\",\"type\":\"unstyled\"}],\"entityMap\":{}}},\"1\":{\"type\":\"code_insert\",\"mutability\":\"IMMUTABLE\",\"data\":{\"blocks\":[{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"c70uq\",\"text\":\"docker run -it --rm -v /path/to/brain/:/CloudMap/Data \",\"type\":\"unstyled\"},{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"eesgg\",\"text\":\"-v /path/to/custom/Iastik/file/:/CloudMap/classifiers friendlyclearmap:4.2\",\"type\":\"unstyled\"}],\"entityMap\":{}}},\"2\":{\"type\":\"code_insert\",\"mutability\":\"IMMUTABLE\",\"data\":{\"blocks\":[{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"c70uq\",\"text\":\"docker run -it --rm -v /path/to/brain/:/CloudMap/Data \",\"type\":\"unstyled\"},{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"eesgg\",\"text\":\"-v /path/to/custom/Iastik/file/:/CloudMap/classifiers friendlyclearmap:4.2\",\"type\":\"unstyled\"}],\"entityMap\":{}}},\"3\":{\"type\":\"code_insert\",\"mutability\":\"IMMUTABLE\",\"data\":{\"blocks\":[{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"2ib7r\",\"text\":\"--entrypoint \\\"conda -n cm2 /bin/bash python3 /CloudMap/Data/your_custom_script.py\\\"\",\"type\":\"unstyled\"}],\"entityMap\":{}}}}}","data":null,"protocol_id":76700,"case_id":0,"critical_ids":"","duration":0,"original_id":1374950,"number":"9","cases":[],"critical":null},{"id":1592497,"guid":"3406CA85564F48E3ACF4842C083AD7AF","previous_id":1592496,"previous_guid":"85E397F616F943E2B2332DAB711D40D7","section":"\u003cp\u003eAtlas alignment with Dockerized Clearmap pipelines \u003c/p\u003e","section_color":"#EA94FF","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"foeut\",\"text\":\"Atlas alignment using BigWarp\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":0,\"length\":29}],\"entityRanges\":[],\"data\":{}},{\"key\":\"4ucqt\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"4u48p\",\"text\":\"(In Windows/Linux, the Docker container should have finished) \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"j9f0\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"8aeai\",\"text\":\"1. In FIJI/Imagej. open both the atlas stack (e.g. template_25.tif) and the autofluo_resampled.tif files. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"c3l0l\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"3o602\",\"text\":\"2. Open BigWarp (Plugins -\\u003e BigDataViewer -\\u003e BigWarp) \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"9s3pi\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"7rpg9\",\"text\":\"3. With BigWarp, open the atlas template as moving image, and autofluo_resampled as target image: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"b6iit\",\"text\":\"  \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"aulua\",\"text\":\"4. You should now see your autofluo_resampled on the left, and the atlas template on the right. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"fsbe9\",\"text\":\"  \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":1,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"fm0hc\",\"text\":\"5. Go to the sagittal plane in both: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"fm29t\",\"text\":\"- Ctrl+A should change to a ZX projection \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"fercp\",\"text\":\"- Press Z to fix rotation around the Z (originally Y) axis\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"bl2cl\",\"text\":\"- Use the arrow keys to rotate around the axis until the orientations are roughly similar \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"6t8k\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"7p0jl\",\"text\":\"6. Use the mosue wheel to scroll to a similar location in both images. Suggested: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"dauln\",\"text\":\"    - Frontal Pole\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"2raq1\",\"text\":\"    - Anterior Commissure crossing over \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"bqp3p\",\"text\":\"    - Maximum extent of the Somatosensory Cortex Barrel Field\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"d1li1\",\"text\":\"    - Hippocampal landmarks, e.g. just before Fornix projects entirely ventrally\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"ber66\",\"text\":\"    - Posterior pole of V1 \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"6vjf7\",\"text\":\"    - Cerbellar regions (if applicable) \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"dqg62\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"81j2q\",\"text\":\"7. Fine-tune the autofluo_resampled projection to match the coronal plane of the atlas template: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"8c25f\",\"text\":\"- Left-click on the point in the autofluo_resampled image that you would like to use as center of rotation\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"1ok8c\",\"text\":\"- Carefully move the mouse to rotate the cutting plane in 3D space. Repeat until it matches\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"6gop7\",\"text\":\"- To reset, press Ctrl+A, then repeat step 5. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"2a6kv\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"f0e2l\",\"text\":\"8. Generate landmarks: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"ejnn0\",\"text\":\"- Press spacebar to start landmark mode. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"73ucs\",\"text\":\"- Identify corresponding points.\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"52sof\",\"text\":\"- Mark one point in autofluo_resampled, then immediately mark the corresponding point in the atlas template. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"italic\",\"offset\":40,\"length\":17}],\"entityRanges\":[],\"data\":{}},{\"key\":\"aff5h\",\"text\":\"(Note that clicking several points in the same image will lead to non-matched point sets, which will not work for alignment later). \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"d22os\",\"text\":\"- Mark between 5 and 20 point pairs per location. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"700or\",\"text\":\"- Take care to mark a diversity of matched locations (e.g. pial surface, white matter, layer 4, hippcoampal landmarks) \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"44mui\",\"text\":\"- To change perspective (or undo landmarks), disengage landmark mode by pressing spacebar again. Re-engage once you are happy with the result. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"42vu7\",\"text\":\"  \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":2,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"f4bch\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"epoc0\",\"text\":\"9. Repeat for at least all the locations mentioned under 6)\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"8eg67\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"1me5m\",\"text\":\"10. Save file and transform: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"blg4e\",\"text\":\"- Save the landmarks by clicking File -\\u003e Export Landmarks in the landmarks table on the right. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"3qocj\",\"text\":\"- Open the landmarks.csv file with an editor (e.g. LibreOffice Calc or use the provided python script. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":3,\"offset\":51,\"length\":16}],\"data\":{}},{\"key\":\"3e9ce\",\"text\":\"- The first three columns are the point coordinates for the autofluo_resampled, those should be in  pixel coordinates and generally not be larger than 400 (depending on stack dimensions). Open a new file, write as follows:\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"4o3nt\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"6tvvh\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":4,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"ktca\",\"text\":\"- Save as csv with the title \\\"autofluo_landmarks.txt.csv\\\". Importantly, save with spaces as separators instead of commas. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"fs4m7\",\"text\":\"- Close the Calc window, then remove the .csv ending from the file. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"f2so8\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"8jgc6\",\"text\":\"- Repeat for the atlas template values, saving in a separate file as \\\"atlas_landmarks.txt.csv\\\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"9ben2\",\"text\":\"(Note: If the values are much higher (e.g. \\u003e 1000), then this is due to ImageJ representing them in micrometers and not in pixel values. To arrive at the correct pixel values, divide by 25 (in case of a 25 µm/voxel template). \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"49si0\",\"text\":\"- Again, close the Calc window, then remove the .csv ending from the file. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"4ffrm\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"9ho0d\",\"text\":\"- If you haven't, move both atlas_landmarks.txt and autofluo_landmarks.txt into the brain folder. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"2jus9\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{\"0\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"8B58D6A0937311ECB9824159AED59960\",\"height\":134.97358490566037,\"id\":341045,\"is_video\":false,\"legend\":\"\",\"mime\":\"image/png\",\"original_name\":\"image.png\",\"placeholder\":\"https://content.protocols.io/files/kpbzbqtzx.jpg\",\"source\":\"https://content.protocols.io/files/kpbxbqtzx.jpg\",\"type\":1,\"webp_placeholder\":\"https://s3.amazonaws.com/protocols-files/files/kpbybqtzx.webp\",\"webp_source\":\"https://content.protocols.io/files/kpbwbqtzx.webp\",\"width\":194.3913043478261}},\"1\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"62476BE0937411ECB9824159AED59960\",\"height\":231.01818181818186,\"id\":341051,\"is_video\":false,\"legend\":\"\",\"mime\":\"image/png\",\"original_name\":\"image.png\",\"placeholder\":\"https://content.protocols.io/files/kpb7bqtzx.jpg\",\"source\":\"https://content.protocols.io/files/kpb5bqtzx.jpg\",\"type\":1,\"webp_placeholder\":\"https://s3.amazonaws.com/protocols-files/files/kpb6bqtzx.webp\",\"webp_source\":\"https://content.protocols.io/files/kpb4bqtzx.webp\",\"width\":397.0625000000001}},\"2\":{\"type\":\"image\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"975356F0937911ECB9824159AED59960\",\"height\":320,\"id\":341055,\"is_video\":false,\"legend\":\"\",\"mime\":\"image/png\",\"original_name\":\"image.png\",\"placeholder\":\"https://content.protocols.io/files/kpcbbqtzx.jpg\",\"source\":\"https://content.protocols.io/files/kpb9bqtzx.jpg\",\"type\":1,\"webp_placeholder\":\"https://s3.amazonaws.com/protocols-files/files/kpcabqtzx.webp\",\"webp_source\":\"https://content.protocols.io/files/kpb8bqtzx.webp\",\"width\":550}},\"3\":{\"type\":\"link\",\"mutability\":\"MUTABLE\",\"data\":{\"guid\":\"09FF87B0937911ECB9824159AED59960\",\"url\":\"https://www.libreoffice.org/download/download/\"}},\"4\":{\"type\":\"tables\",\"mutability\":\"IMMUTABLE\",\"data\":{\"cellsMeta\":[],\"colTitles\":[\"\",\"\",\"\"],\"colWidths\":[100,100,100],\"data\":[[\"point\",\"\",\"\"],[\"(number of points, e.g. 70)\",\"\",\"\"],[\"(x values)\",\"(y values)\",\"(z values)\"]],\"guid\":\"CF3BD1E0937A11ECB9824159AED59960\",\"isJexcelDataFormat\":true,\"legend\":\"\",\"mergeCells\":[],\"printData\":[[\"point\",\"\",\"\"],[\"(number of points, e.g. 70)\",\"\",\"\"],[\"(x values)\",\"(y values)\",\"(z values)\"]],\"rowHeights\":[23,23,23]}}}}","data":null,"protocol_id":76700,"case_id":0,"critical_ids":"","duration":0,"original_id":1374951,"number":"10","cases":[],"critical":null},{"id":1592498,"guid":"5DF244CCCD7E4EF0911F7F536E93AEC8","previous_id":1592497,"previous_guid":"3406CA85564F48E3ACF4842C083AD7AF","section":"\u003cp\u003eCell detection\u003c/p\u003e","section_color":"#A492FF","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"1c2n3\",\"text\":\"Adapt the process_Ilastik_run_this.py file as follows: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"mgm2\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"505ml\",\"text\":\"Firstly, comment out the previous action (line 58):\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"dd4vj\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"fvar2\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"jkmq\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"11t2r\",\"text\":\"Then, select (uncomment) one of the three following options: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"a63vr\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"f44ae\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":1,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"ai9be\",\"text\":\"Default is the first Action = 'Find_Cells_With_Ilastik'. If you choose this, make sure to also adapt the name of your Ilastik classifier to match. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"cdit6\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"cfmpg\",\"text\":\"Note: make sure you have sufficient amounts of RAM (or Swap under Linux) present. By default the Ilastik segmentation will run on as many cores as possible and consume \\u003e200 GB of memory. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":0,\"length\":4}],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"code_insert\",\"mutability\":\"IMMUTABLE\",\"data\":{\"blocks\":[{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"34c1d\",\"text\":\"#TODO: Specifiy which action you want to take. Uncomment what you want to do\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"187bt\",\"text\":\"  #Action = 'Preprocess' #only generate scaled-down resamples of expression + autoflu, if you want to manually align to the atlas \",\"type\":\"unstyled\"}],\"entityMap\":{}}},\"1\":{\"type\":\"code_insert\",\"mutability\":\"IMMUTABLE\",\"data\":{\"blocks\":[{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"e9r93\",\"text\":\"  #Action = 'Find_Cells_With_Ilastik' #find cells with Ilastik. If so, you will need to specify the Ilastik process file below \",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"54nkv\",\"text\":\"  #Ilastik_Classifier = \\\"/CloudMap/Data/Classifiers/name_to_your_Ilastik_project.ilp\\\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"ajsr5\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"6rscd\",\"text\":\"  #Action = 'Import_cells_csv' #Import external cell counts from e.g. Arivis (needs to be csv with only x/y/z coordinates, no header. You'll need to specify the file below. \",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"d1usi\",\"text\":\"  #Cells_csv = \\\"/CloudMap/Data/cells.csv\\\" \",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"b3k6c\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"11qc0\",\"text\":\"  #Action = 'ClearMap_2_detection' #Choose this if you want to run the standard ClearMap2 cell detection. \",\"type\":\"unstyled\"}],\"entityMap\":{}}}}}","data":null,"protocol_id":76700,"case_id":0,"critical_ids":"","duration":0,"original_id":1374952,"number":"11","cases":[],"critical":null},{"id":1592499,"guid":"BEC17F43CE2549DEBF963FE83BD5F706","previous_id":1592498,"previous_guid":"5DF244CCCD7E4EF0911F7F536E93AEC8","section":"\u003cp\u003eCell detection\u003c/p\u003e","section_color":"#A492FF","section_duration":0,"is_substep":true,"step":"{\"blocks\":[{\"key\":\"3habp\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"9p3ca\",\"text\":\"Then, Elastix will be used to transform the points, first for the inter-channel correction alignment, and then for the atlas registration. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"685ag\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"d1ngu\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"819v6\",\"text\":\"Next, the overview tables are generated. This function will generate both a CM2-style table as well as a CM1-style table. If you only need one or the other, block-quote the relevan block. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"fb1u0\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"bptdl\",\"text\":\"Note that the intensities-adjusted table is mostly relevant for the CM2 built-in cell segmentation, and is deactivated by default. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"769st\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"c83nc\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":1,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"fqmke\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"colp7\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"97jcu\",\"text\":\"Subsequently, generate heatmaps. The intensity heatmaps are mostly interesting if you are using the built-in Clearmap2 built-in processing. If using Ilastik (default) or external coordinates, then it is commented out. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"11dhg\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"40hb1\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":2,\"offset\":0,\"length\":1}],\"data\":[]},{\"key\":\"dmteb\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"44sgq\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{\"0\":{\"type\":\"code_insert\",\"mutability\":\"IMMUTABLE\",\"data\":{\"blocks\":[{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"5b42q\",\"text\":\"#%% Cell alignment\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"d78jj\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"ag55r\",\"text\":\"  #source = ws.source('cells', postfix='filtered')\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"97a7n\",\"text\":\"  source = ws.source('cells', postfix='filtered')\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"9fkl5\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"16ocm\",\"text\":\"  def transformation(coordinates):\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"34tfr\",\"text\":\"    #debug\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"akphv\",\"text\":\"    print (\\\"starting resampling points, coords: \\\",coordinates[0])\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"i74h\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"dg6ok\",\"text\":\"    coordinates = res.resample_points(\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"hmn5\",\"text\":\"                    coordinates, sink=None, orientation=None, \",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"3v3bf\",\"text\":\"                    source_shape=io.shape(ws.filename('stitched')), \",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"1lt5g\",\"text\":\"                    sink_shape=io.shape(ws.filename('resampled')),\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"fk9g3\",\"text\":\"                    );\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"cjeu0\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"97ttb\",\"text\":\"    #debug\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"aaka5\",\"text\":\"    print (\\\"starting transforming points resamnpled -\\u003e auto, coords: \\\",coordinates[0])\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"4oguu\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"9770o\",\"text\":\"    coordinates = elx.transform_points(\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"e6dq4\",\"text\":\"                    coordinates, sink=None, \",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"1lgle\",\"text\":\"                    transform_directory=ws.filename('resampled_to_auto'), \",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"d15pg\",\"text\":\"                    binary=False, indices=False);\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"18lvk\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"5h20a\",\"text\":\"    #debug\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"bd3it\",\"text\":\"    print (\\\"starting transforming points auto -\\u003e reference, coords: \\\",coordinates[0])\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"5sv0h\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"a4kpg\",\"text\":\"    coordinates = elx.transform_points(\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"do2di\",\"text\":\"                    coordinates, sink=None, \",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"aad4t\",\"text\":\"                    transform_directory=ws.filename('auto_to_reference'),\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"d3vgt\",\"text\":\"                    binary=False, indices=False);\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"2k5q\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"1sahd\",\"text\":\"    return coordinates;\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"2ik6c\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"6omf0\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"fbpgr\",\"text\":\"  coordinates = np.array([source[c] for c in 'xyz']).T;\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"6lkqn\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"5egkl\",\"text\":\"  coordinates_transformed = transformation(coordinates);\",\"type\":\"unstyled\"}],\"entityMap\":{}}},\"1\":{\"type\":\"code_insert\",\"mutability\":\"IMMUTABLE\",\"data\":{\"blocks\":[{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"ed11d\",\"text\":\"#%%############################################################################\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"3nukl\",\"text\":\"  ### Cell csv generation for external analysis\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"1d8o5\",\"text\":\"  ###############################################################################\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"8rr87\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"2bdj\",\"text\":\"  #%% CSV export\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"db0bs\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"4rs01\",\"text\":\"  source = ws.source('cells');\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"1q3dh\",\"text\":\"  header = ', '.join([h[0] for h in source.dtype.names]);\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"648aq\",\"text\":\"  np.savetxt(ws.filename('cells', extension='csv'), source[:], header=header, delimiter=',', fmt='%s')\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"dumm5\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"cul06\",\"text\":\"  #%% ClearMap 1.0 export\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"15hcp\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"79qs3\",\"text\":\"  source = ws.source('cells');\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"5okge\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"c4cms\",\"text\":\"  clearmap1_format = {'points' : ['x', 'y', 'z'], \",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"f5chk\",\"text\":\"                      'points_transformed' : ['xt', 'yt', 'zt'],\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"arb4v\",\"text\":\"                      'intensities' : ['source', 'dog', 'background', 'size']}\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"238g0\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"e02q0\",\"text\":\"  for filename, names in clearmap1_format.items():\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"432d7\",\"text\":\"    sink = ws.filename('cells', postfix=['ClearMap1', filename]);\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"1f0mv\",\"text\":\"    data = np.array([source[name] if name in source.dtype.names else np.full(source.shape[0], np.nan) for name in names]);\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"43fds\",\"text\":\"    io.write(sink, data);\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"bambb\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"26v31\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"8p9fu\",\"text\":\"  #CM1-style table export\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"7ci4h\",\"text\":\"  #TODO: add extra label \",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"60vkt\",\"text\":\"  counts = ano.count_label(label['order'],weights=None,key='order', hierarchical=True)\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"bncf3\",\"text\":\"  ids_list = ano.get_list('id')\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"5eshd\",\"text\":\"  name_list = ano.get_list('name')\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"dhmla\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"76iut\",\"text\":\"  #additional info \",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"7ko07\",\"text\":\"  acronym_list = ano.get_list('acronym')\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"7f6ei\",\"text\":\"  order_list = ano.get_list('graph_order')\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"ejp9f\",\"text\":\"  parent_list = ano.get_list('parent_structure_id')\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"7gd1b\",\"text\":\"  level_list = ano.get_list('level')\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"d2g6g\",\"text\":\"  color_list = ano.get_list('color_hex_triplet')\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"f2oc0\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"1n9e4\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"8lc6a\",\"text\":\"  table = np.zeros(counts.shape, dtype=[('id','int64'),('counts','f8'),('name', 'U256'),('acronym', 'U256'),('order','U256'),('parent_structure_id','U256'),('level','U256'),('color_hex_triplet','U256')])\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"4ntf7\",\"text\":\"  table['id'] = ids_list\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"94juq\",\"text\":\"  table['counts'] = counts\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"av996\",\"text\":\"  table['name'] = name_list\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"br4q3\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"6jcll\",\"text\":\"  #additional info \",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"etsdn\",\"text\":\"  table['acronym'] = acronym_list\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"e82d6\",\"text\":\"  table['order'] = order_list\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"5t2rm\",\"text\":\"  table['parent_structure_id'] = parent_list\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"abqn8\",\"text\":\"  table['level'] = level_list\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"8rd9q\",\"text\":\"  table['color_hex_triplet'] = color_list\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"6bf3a\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"da5i6\",\"text\":\"  #export to csv file \",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"8rjci\",\"text\":\"  np.savetxt(io.join(directory, 'Annotated_counts_ClearMap_1.csv'), table, delimiter=';', fmt='%s',\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"e5sot\",\"text\":\"             header=\\\"id; counts;name;acronym;order;parent_structure_id;level;color_hex_triplet\\\")  \",\"type\":\"unstyled\"}],\"entityMap\":{}}},\"2\":{\"type\":\"code_insert\",\"mutability\":\"IMMUTABLE\",\"data\":{\"blocks\":[{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"7g7ht\",\"text\":\"#%%############################################################################\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"ejagb\",\"text\":\"  ### Voxelization - cell density\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"4ies2\",\"text\":\"  ###############################################################################\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"1dmdt\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"c8pn3\",\"text\":\"  source = ws.source('cells')\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"3flph\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"cuvbi\",\"text\":\"  coordinates = np.array([source[n] for n in ['xt','yt','zt']]).T;\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"570tr\",\"text\":\"  #intensities = source['source'];\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"evj5s\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"bjpiq\",\"text\":\"  #%% Unweighted \",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"dkcab\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"ctnbv\",\"text\":\"  voxelization_parameter = dict(\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"btj49\",\"text\":\"        shape = io.shape(annotation_file), \",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"b4ejt\",\"text\":\"        dtype = None, \",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"6flh6\",\"text\":\"        weights = None,\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"acp2r\",\"text\":\"        method = 'sphere', \",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"8rvn6\",\"text\":\"        radius = (7,7,7), \",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"75kss\",\"text\":\"        kernel = None, \",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"271oh\",\"text\":\"        processes = None, \",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"fgdad\",\"text\":\"        verbose = True\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"6jt97\",\"text\":\"      )\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"4ovob\",\"text\":\"\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"2mur2\",\"text\":\"  vox.voxelize(coordinates, sink=ws.filename('density', postfix='counts'), **voxelization_parameter);\",\"type\":\"unstyled\"},{\"data\":[],\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"2rbs8\",\"text\":\"\",\"type\":\"unstyled\"}],\"entityMap\":{}}}}}","data":null,"protocol_id":76700,"case_id":0,"critical_ids":"","duration":0,"original_id":1374954,"number":"11.1","cases":[],"critical":null},{"id":1592500,"guid":"FBD9E8FD92AF4AB8BDA0FA50C4732FE2","previous_id":1592499,"previous_guid":"BEC17F43CE2549DEBF963FE83BD5F706","section":"\u003cp\u003eAtlas alignment with Dockerized Clearmap pipelines \u003c/p\u003e","section_color":"#94EBFF","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"fp7i6\",\"text\":\"Subsequently, run the Docker container for the second time. If everything goes according to plan, this should generate a table for the cells per region.  The Docker container should finish after running. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"9nk18\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"dcbgt\",\"text\":\"On Windows, open power shell, navigate to the folder with the process_Ilastik_run_this.py script and adapt the following code: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":0,\"length\":10}],\"entityRanges\":[],\"data\":{}},{\"key\":\"5d9nq\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"967ma\",\"text\":\" Note that file paths must not end on a trailing backslash. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"8t0ju\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"eklh3\",\"text\":\"On Linux, open a terminal, then navigate to the folder with the process_Ilastik_run_this.py script and run the following command: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":0,\"length\":8}],\"entityRanges\":[],\"data\":{}},{\"key\":\"mt4k\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":1,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"35f4v\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"eji03\",\"text\":\"On MacOS, open a terminal (Spotlight -\\u003e press Space -\\u003e type \\\" Terminal\\\"), then navigate to the folder with the process_Ilastik_run_this.py script and type the folllwing command:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[{\"style\":\"bold\",\"offset\":0,\"length\":8}],\"entityRanges\":[],\"data\":{}},{\"key\":\"dsoos\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":2,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"mkac\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"bl1ec\",\"text\":\"By default, the container will execute the process_Ilastik_run_this.py script. If you want to run a different script, you can add the option \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"carqa\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":3,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"3rtmh\",\"text\":\" prior to the friendlyclearmap:4.2 argument. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"9r2ac\",\"text\":\"Note that in this case the script needs to be in the folder that is mapped to /CloudMap/Data with the first -v command (i.e. the folder containing all image data). \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{\"0\":{\"type\":\"code_insert\",\"mutability\":\"IMMUTABLE\",\"data\":{\"blocks\":[{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"7c6g3\",\"text\":\"docker run -it --rm -v C:\\\\path\\\\to\\\\brain:/CloudMap/Data \",\"type\":\"unstyled\"},{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"dnso1\",\"text\":\"-v C:\\\\path\\\\to\\\\custom\\\\Ilastik\\\\file:/CloudMap/classifiers\",\"type\":\"unstyled\"},{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"cc2sa\",\"text\":\"friendlyclearmap:4.2 ;\",\"type\":\"unstyled\"}],\"entityMap\":{}}},\"1\":{\"type\":\"code_insert\",\"mutability\":\"IMMUTABLE\",\"data\":{\"blocks\":[{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"c70uq\",\"text\":\"docker run -it --rm -v /path/to/brain/:/CloudMap/Data \",\"type\":\"unstyled\"},{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"eesgg\",\"text\":\"-v /path/to/custom/Iastik/file/:/CloudMap/classifiers friendlyclearmap:4.2\",\"type\":\"unstyled\"}],\"entityMap\":{}}},\"2\":{\"type\":\"code_insert\",\"mutability\":\"IMMUTABLE\",\"data\":{\"blocks\":[{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"c70uq\",\"text\":\"docker run -it --rm -v /path/to/brain/:/CloudMap/Data \",\"type\":\"unstyled\"},{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"eesgg\",\"text\":\"-v /path/to/custom/Iastik/file/:/CloudMap/classifiers friendlyclearmap:4.2\",\"type\":\"unstyled\"}],\"entityMap\":{}}},\"3\":{\"type\":\"code_insert\",\"mutability\":\"IMMUTABLE\",\"data\":{\"blocks\":[{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"2ib7r\",\"text\":\"--entrypoint \\\"conda -n cm2 /bin/bash python3 /CloudMap/Data/your_custom_script.py\\\"\",\"type\":\"unstyled\"}],\"entityMap\":{}}}}}","data":null,"protocol_id":76700,"case_id":0,"critical_ids":"","duration":0,"original_id":1374955,"number":"12","cases":[],"critical":null},{"id":1592501,"guid":"BF4B1035557F479194E15742238BAD73","previous_id":1592500,"previous_guid":"FBD9E8FD92AF4AB8BDA0FA50C4732FE2","section":"\u003cp\u003eAtlas alignment with Dockerized Clearmap pipelines \u003c/p\u003e","section_color":"#94EBFF","section_duration":0,"is_substep":true,"step":"{\"blocks\":[{\"key\":\"93hmo\",\"text\":\"Hooray! If everything worked, you should have: \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"1bo\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"86orm\",\"text\":\"- an atlas-aligned set of points, both in .npy form (cells_aligned.npy) \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"cu0ci\",\"text\":\"- a region table (Annotated_counts.csv) with cell counts per region. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]},{\"key\":\"a8a07\",\"text\":\"- A heatmap with cell densities in the same space as your atlas. \",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":[]}],\"entityMap\":{}}","data":null,"protocol_id":76700,"case_id":0,"critical_ids":"","duration":0,"original_id":1374957,"number":"12.1","cases":[],"critical":null}],"template_id":5,"title":"Run Clearmap 2 docker","title_html":"Run Clearmap 2 docker","type_id":1,"units":[{"id":1,"type_id":3,"name":"µL","can_manage":0,"read_only":0},{"id":2,"type_id":3,"name":"mL","can_manage":0,"read_only":0},{"id":3,"type_id":3,"name":"L","can_manage":0,"read_only":0},{"id":4,"type_id":3,"name":"µg","can_manage":0,"read_only":0},{"id":5,"type_id":3,"name":"mg","can_manage":0,"read_only":0},{"id":6,"type_id":3,"name":"g","can_manage":0,"read_only":0},{"id":7,"type_id":3,"name":"kg","can_manage":0,"read_only":0},{"id":8,"type_id":3,"name":"ng","can_manage":0,"read_only":0},{"id":9,"type_id":3,"name":"Hz","can_manage":0,"read_only":0},{"id":10,"type_id":24,"name":"°C","can_manage":0,"read_only":0},{"id":11,"type_id":24,"name":"°К","can_manage":0,"read_only":0},{"id":12,"type_id":24,"name":"°F","can_manage":0,"read_only":0},{"id":13,"type_id":25,"name":"Mass Percent","can_manage":0,"read_only":0},{"id":14,"type_id":25,"name":"% volume","can_manage":0,"read_only":0},{"id":15,"type_id":25,"name":"Mass / % volume","can_manage":0,"read_only":0},{"id":16,"type_id":25,"name":"Parts per Million (PPM)","can_manage":0,"read_only":0},{"id":17,"type_id":25,"name":"Parts per Billion (PPB)","can_manage":0,"read_only":0},{"id":18,"type_id":25,"name":"Parts per Trillion (PPT)","can_manage":0,"read_only":0},{"id":19,"type_id":25,"name":"Mole Fraction","can_manage":0,"read_only":0},{"id":20,"type_id":25,"name":"Mole Percent","can_manage":0,"read_only":0},{"id":21,"type_id":25,"name":"Molarity (M)","can_manage":0,"read_only":1},{"id":22,"type_id":25,"name":"Molarity (m)","can_manage":0,"read_only":0},{"id":23,"type_id":25,"name":"Genome copies per ml","can_manage":0,"read_only":0},{"id":24,"type_id":3,"name":"μV","can_manage":0,"read_only":0},{"id":25,"type_id":3,"name":"ms","can_manage":0,"read_only":0},{"id":26,"type_id":3,"name":"pg","can_manage":0,"read_only":0},{"id":27,"type_id":25,"name":"Molarity dilutions","can_manage":0,"read_only":0},{"id":28,"type_id":25,"name":"millimolar (mM)","can_manage":0,"read_only":0},{"id":29,"type_id":25,"name":"micromolar (µM)","can_manage":0,"read_only":0},{"id":30,"type_id":25,"name":"nanomolar (nM)","can_manage":0,"read_only":0},{"id":31,"type_id":25,"name":"picomolar (pM)","can_manage":0,"read_only":0},{"id":32,"type_id":24,"name":"Room temperature","can_manage":0,"read_only":0},{"id":33,"type_id":30,"name":"rpm","can_manage":0,"read_only":0},{"id":34,"type_id":30,"name":"x g","can_manage":0,"read_only":0},{"id":165,"type_id":24,"name":"On ice","can_manage":0,"read_only":0},{"id":200,"type_id":32,"name":"cm","can_manage":0,"read_only":0},{"id":201,"type_id":32,"name":"mm","can_manage":0,"read_only":0},{"id":202,"type_id":32,"name":"µm","can_manage":0,"read_only":0},{"id":203,"type_id":32,"name":"nm","can_manage":0,"read_only":0},{"id":204,"type_id":25,"name":"mg/mL","can_manage":0,"read_only":0},{"id":205,"type_id":25,"name":"µg/µL","can_manage":0,"read_only":0},{"id":206,"type_id":25,"name":"% (v/v)","can_manage":0,"read_only":0},{"id":1324,"type_id":30,"name":"rcf","can_manage":0,"read_only":0},{"id":1359,"type_id":35,"name":"Bar","can_manage":0,"read_only":0},{"id":1360,"type_id":35,"name":"Pa","can_manage":0,"read_only":0}],"uri":"run-clearmap-2-docker-cn54vg8w","url":"https://www.protocols.io/view/run-clearmap-2-docker-cn54vg8w","version_class":60160,"version_data":{"id":1,"code":"cn54vg8w","version_class":60160,"parent_id":60160,"parent_uri":"run-clearmap-2-docker-b6y8rfzw","is_same_owner":true,"is_parent_public":false,"has_pending_merge_request":false,"has_approved_merge_request":true,"merge_request":{"id":1742,"creator":{"name":"Moritz Negwer","affiliation":null,"affiliation_url":null,"username":"m4yle1w1w105vle1","link":null,"image":{"source":"https://lh3.googleusercontent.com/a/AATXAJyZGXwviv2oKW7mkTn6EzbKqzw5BX8ZA7sromcA=s96-c","placeholder":"https://lh3.googleusercontent.com/a/AATXAJyZGXwviv2oKW7mkTn6EzbKqzw5BX8ZA7sromcA=s96-c","webp_source":""}},"created_on":1676423387,"can_manage":true}},"version_id":1,"version_uri":"run-clearmap-2-docker-yxmvmn9pbg3p/v2","versions":[{"id":60160,"title":"Run Clearmap 2 docker","title_html":"Run Clearmap 2 docker","image":{"source":"https://www.protocols.io/img/default_protocol.png","webp_source":null,"placeholder":"https://www.protocols.io/img/default_protocol.png","webp_placeholder":null},"doi":"dx.doi.org/10.17504/protocols.io.yxmvmn9pbg3p/v1","uri":"run-clearmap-2-docker-b6y8rfzw","published_on":1655470459,"modified_on":1649032008,"version_class":60160,"version_id":0,"version_code":"b6y8rfzw","version_uri":"run-clearmap-2-docker-yxmvmn9pbg3p/v1","created_on":1648762510,"categories":null,"creator":{"name":"Moritz Negwer","affiliation":null,"affiliation_url":null,"username":"m4yle1w1w105vle1","link":null,"image":{"source":"https://lh3.googleusercontent.com/a/AATXAJyZGXwviv2oKW7mkTn6EzbKqzw5BX8ZA7sromcA=s96-c","placeholder":"https://lh3.googleusercontent.com/a/AATXAJyZGXwviv2oKW7mkTn6EzbKqzw5BX8ZA7sromcA=s96-c","webp_source":""}},"stats":{"number_of_comments":0,"last_comment_time":0}},{"id":76700,"title":"Run Clearmap 2 docker","title_html":"Run Clearmap 2 docker","image":{"source":"https://www.protocols.io/img/default_protocol.png","webp_source":null,"placeholder":"https://www.protocols.io/img/default_protocol.png","webp_placeholder":null},"doi":null,"uri":"run-clearmap-2-docker-cn54vg8w","published_on":1676454984,"modified_on":1676454984,"version_class":60160,"version_id":1,"version_code":"cn54vg8w","version_uri":"run-clearmap-2-docker-yxmvmn9pbg3p/v2","created_on":1675908407,"categories":null,"creator":{"name":"Moritz Negwer","affiliation":null,"affiliation_url":null,"username":"m4yle1w1w105vle1","link":null,"image":{"source":"https://lh3.googleusercontent.com/a/AATXAJyZGXwviv2oKW7mkTn6EzbKqzw5BX8ZA7sromcA=s96-c","placeholder":"https://lh3.googleusercontent.com/a/AATXAJyZGXwviv2oKW7mkTn6EzbKqzw5BX8ZA7sromcA=s96-c","webp_source":""}},"stats":{"number_of_comments":0,"last_comment_time":0}}],"warning":""}