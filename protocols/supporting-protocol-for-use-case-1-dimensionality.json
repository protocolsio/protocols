{"id":51939,"title":"Supporting protocol for use-case 1: Dimensionality reduction in \"M2aia - Interactive, fast and memory efficient analysis of 2D and 3D multi-modal mass spectrometry imaging data\"","title_html":"<p>Supporting protocol for use-case 1: Dimensionality reduction in &quot;M2aia - Interactive, fast and memory efficient analysis of 2D and 3D multi-modal mass spectrometry imaging data&quot;<\/p>","image":{"source":"https:\/\/s3.amazonaws.com\/protocols-files\/files\/ds3jbigsp.gif","placeholder":"https:\/\/s3.amazonaws.com\/protocols-files\/files\/ds3jbigsp.gif"},"doi":"dx.doi.org\/10.17504\/protocols.io.bwybpfsn","doi_status":2,"uri":"supporting-protocol-for-use-case-1-dimensionality-bwybpfsn","type_id":1,"template_id":5,"published_on":1628835687,"parent_protocols":[],"parent_collections":[],"cited_protocols":[],"version_id":1,"version_data":{"id":1,"code":"bwybpfsn","parent_id":46780,"parent_uri":"supporting-protocol-for-use-case-1-dimensionality-brw4m7gw","has_pending_merge_request":0,"has_approved_merge_request":1},"created_on":1627456662,"modified_on":null,"categories":null,"public":1,"is_unlisted":0,"creator":{"name":" ","affiliation":null,"affiliations":[],"username":null,"note":null,"link":null,"image":{"source":null,"placeholder":null},"badges":[],"verified":0,"is_verified_user":false,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false},"journal":null,"journal_name":null,"journal_link":null,"article_citation":null,"has_versions":0,"link":"https:\/\/jtfcordes.github.io\/M2aia","total_collections":0,"number_of_steps":4,"authors":[{"name":"Jonas Cordes","affiliation":"Mannheim University of Applied Sciences","affiliations":[],"username":"jonas-cordes","note":null,"link":null,"image":{"source":"https:\/\/s3.amazonaws.com\/protocols-files\/files\/dsxubigsp.jpg","placeholder":"https:\/\/s3.amazonaws.com\/protocols-files\/files\/dsxubigsp.jpg"},"badges":[],"verified":1,"is_verified_user":true,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false}],"versions":[],"groups":[],"is_owner":1,"has_subprotocols":0,"is_subprotocol":0,"is_bookmarked":0,"can_claim_authorship":0,"can_accept_authorship":0,"can_be_copied":1,"can_remove_fork":1,"fork_id":null,"url":"https:\/\/www.protocols.io\/view\/supporting-protocol-for-use-case-1-dimensionality-bwybpfsn","forks_count":{"private":0,"public":0},"access":{"can_view":1,"can_remove":0,"can_add":0,"can_edit":0,"can_publish":0,"can_get_doi":0,"can_share":1,"can_move":1,"can_move_outside":1,"can_transfer":1,"can_download":1,"is_locked":0},"guid":"2354E3327DE64AD4A38A828336877D2F","state_version_id":1182,"steps":[{"id":1222961,"guid":"C8E5F48B298C45EF9CD921ACD9353DED","previous_id":null,"previous_guid":null,"modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"2EFE3F71455743B0A6C4CD1410B6D6F6","order_id":1,"type_id":6,"title":"Section","source":{"title":"Load Data into M\u00b2aia"}},{"id":1054724,"guid":"5EC437693CD24CAAA9BAF8B31A3A2903","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\"><span>Open the <\/span><span style = \"font-style:italic;\">Data<\/span><span> view and define the signal processing:<\/span><\/div><div class = \"text-block\"><ul style = \"list-style-type:disc;\"><li style = \"counter-reset:ol0;list-style-type:disc;\">set your normalization strategy (e.g. TIC)<\/li><li style = \"counter-reset:ol0;list-style-type:disc;\">set your smoothing strategy (e.g. Gaussian)<\/li><li style = \"counter-reset:ol0;list-style-type:disc;\">set your baseline correction strategy (e.g. Median)<\/li><\/ul><\/div><br\/><div class = \"text-block\"><span>Load at least one continuous profile *.imzML image file into M\u00b2aia: <\/span><span style = \"font-style:italic;\">File > Open File <\/span><span> or <\/span><span style = \"font-style:italic;\">Ctrl + O.<\/span><span style = \"font-style:italic;\"><\/span><\/div><div class = \"text-block\">Ensure, that the corresponding *.ibd file is available at the same directory level.<\/div><br\/><br\/><div style = \"text-align :; float : ;\"><img style = \"\" src = \"https:\/\/s3.amazonaws.com\/protocols-files\/files\/d7icbigsp.jpg\" \/><\/div><br\/><br\/><\/div>"}},{"id":1054725,"guid":"5310799F0BFE4CB984C1B22BD032EF5B","order_id":2,"type_id":1,"title":"description","source":{"description":"<div style = \"text-align :; float : ;\"><img style = \"\" src = \"https:\/\/s3.amazonaws.com\/protocols-files\/files\/d7icbigsp.jpg\" \/><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#A492FF","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1222964,"guid":"83E8CD4776DA4DDC8B3146DDAC87203F","previous_id":1222961,"previous_guid":"C8E5F48B298C45EF9CD921ACD9353DED","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"87645F3D525742FAB4C4B771BED82A70","order_id":1,"type_id":6,"title":"Section","source":{"title":"Peak picking"}},{"id":1054724,"guid":"95E8A32182CB4FEAA4EB7B0F9AD32966","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\"><span>Open the <\/span><span style = \"font-style:italic;\">Peak Picking <\/span><span>view, e.g.<\/span><span style = \"font-style:italic;\"> <\/span><span>from the menu: <\/span><span style = \"font-style:italic;\">Window > Show View > Peak Picking<\/span><span style = \"font-style:italic;\">.<\/span><\/div><br\/><br\/><div class = \"text-block\">Select an overview spectrum type in the drop-down menu (e.g. Mean).<\/div><br\/><br\/><div class = \"text-block\">Set the peak picking parameters (example):<\/div><div class = \"text-block\"><ul style = \"list-style-type:disc;\"><li style = \"counter-reset:ol0;list-style-type:disc;\">set the SNR to 2<\/li><li style = \"counter-reset:ol0;list-style-type:disc;\">enable monoisotopic peak harvesting<\/li><li style = \"counter-reset:ol0;list-style-type:disc;\">set the min correlation to 0.6<\/li><\/ul><\/div><br\/><div class = \"text-block\">Start the peak picking.<\/div><br\/><br\/><br\/><div style = \"text-align :; float : ;\"><img style = \"\" src = \"https:\/\/s3.amazonaws.com\/protocols-files\/files\/d7igbigsp.jpg\" \/><\/div><br\/><br\/><\/div>"}},{"id":1054725,"guid":"2CF5FCAFA21A462EABAFC4099B04B925","order_id":2,"type_id":26,"title":"notes","source":{"id":0,"parent_id":0,"uri":"","title":"","body":"<div class = \"text-blocks\"><div class = \"text-block\"><span>The peak picking utilities of the <\/span><span style = \"font-style:italic;\">Peak Picking<\/span><span> view are designed for handling overview spectra. Pixel-wise peak picking is not realized within the graphical user interface of M\u00b2aia.<\/span><\/div><\/div>","created_on":0,"changed_on":0,"creator":{"name":"","affiliation":null,"affiliations":[],"username":"","note":null,"link":null,"image":{"source":"","placeholder":""},"badges":[],"verified":0,"is_verified_user":false,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false},"comments":[]}},{"id":1054726,"guid":"2AA47211B2FE4E6BAEA85FCD91FB039E","order_id":3,"type_id":26,"title":"notes","source":{"id":0,"parent_id":0,"uri":"","title":"","body":"<div class = \"text-blocks\"><div class = \"text-block\"><span>The drop-down menu selection is not synced to the overview spectrum shown in the <\/span><span style = \"font-style:italic;\">Spectrum <\/span><span>view. You can change the overview spectrum shown in the <\/span><span style = \"font-style:italic;\">Spectrum <\/span><span>view using the right click context menu while hovering the overview spectrum.<\/span><\/div><\/div>","created_on":0,"changed_on":0,"creator":{"name":"","affiliation":null,"affiliations":[],"username":"","note":null,"link":null,"image":{"source":"","placeholder":""},"badges":[],"verified":0,"is_verified_user":false,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false},"comments":[]}},{"id":1054727,"guid":"42DC962F14DB4D51BC94C47599ECEA43","order_id":4,"type_id":1,"title":"description","source":{"description":"<div style = \"text-align :; float : ;\"><img style = \"\" src = \"https:\/\/s3.amazonaws.com\/protocols-files\/files\/d7igbigsp.jpg\" \/><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#94EBFF","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1222983,"guid":"8FB475C0EF7611EB8E818D7BF4181FFD","previous_id":1222964,"previous_guid":"83E8CD4776DA4DDC8B3146DDAC87203F","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"ECC8BA6C129D476191D7BABFA7CE701F","order_id":1,"type_id":6,"title":"Section","source":{"title":"Peak selection and PCA"}},{"id":1054724,"guid":"FB5B044C8D114305A932CB1CA808C172","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">Select peaks of interest (red annotations).<\/div><br\/><div class = \"text-block\">Select the target dimensionality and start the PCA (blue annotation).<\/div><br\/><br\/><div style = \"text-align :; float : ;\"><img style = \"\" src = \"https:\/\/s3.amazonaws.com\/protocols-files\/files\/d7iqbigsp.jpg\" \/><\/div><br\/><div class = \"text-block\"><span>The result image is now available in the <\/span><span style = \"font-style:italic;\">Data Manager<\/span><span> view. You can change the currently displayed projected image by using the right click menu of the \"PCA\"-datanode and the <\/span><span style = \"font-style:italic;\">Component<\/span><span> slider.<\/span><\/div><br\/><div style = \"text-align :; float : ;\"><img style = \"\" src = \"https:\/\/s3.amazonaws.com\/protocols-files\/files\/d7ikbigsp.jpg\" \/><\/div><br\/><br\/><\/div>"}},{"id":1054725,"guid":"FC38F5A231FB4AC1814BEE8D20E7E280","order_id":2,"type_id":26,"title":"notes","source":{"id":0,"parent_id":0,"uri":"","title":"","body":"<div class = \"text-blocks\"><div class = \"text-block\"><span>You can select\/deselect all peaks by clicking on the upper left corner button (red arrow). Double click on individual rows will perform an imaging request according to the given <\/span><span style = \"font-style:italic;\">m\/z<\/span><span> value of this row and tolerance specified in the <\/span><span style = \"font-style:italic;\">Imaging<\/span><span> tab of the <\/span><span style = \"font-style:italic;\">Data<\/span><span> view.<\/span><\/div><\/div>","created_on":0,"changed_on":0,"creator":{"name":"","affiliation":null,"affiliations":[],"username":"","note":null,"link":null,"image":{"source":"","placeholder":""},"badges":[],"verified":0,"is_verified_user":false,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false},"comments":[]}},{"id":1054726,"guid":"338953DD0A9F4F22B3E01CE76A241F58","order_id":3,"type_id":26,"title":"notes","source":{"id":0,"parent_id":0,"uri":"","title":"","body":"<div class = \"text-blocks\"><div class = \"text-block\">The image generated by the PCA serves as the input for the t-SNE.<\/div><\/div>","created_on":0,"changed_on":0,"creator":{"name":"","affiliation":null,"affiliations":[],"username":"","note":null,"link":null,"image":{"source":"","placeholder":""},"badges":[],"verified":0,"is_verified_user":false,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false},"comments":[]}},{"id":1054727,"guid":"B7DCB5C4C2834627864BD0E3F4A54166","order_id":4,"type_id":1,"title":"description","source":{"description":"<div style = \"text-align :; float : ;\"><img style = \"\" src = \"https:\/\/s3.amazonaws.com\/protocols-files\/files\/d7iqbigsp.jpg\" \/><\/div>"}},{"id":1054728,"guid":"2B7F7D93F4CA4451A1F2FD7533CFED4F","order_id":5,"type_id":1,"title":"description","source":{"description":"<div style = \"text-align :; float : ;\"><img style = \"\" src = \"https:\/\/s3.amazonaws.com\/protocols-files\/files\/d7ikbigsp.jpg\" \/><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#84CE84","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1222984,"guid":"D6E94930EF7F11EB8D6E71B0F4194EC9","previous_id":1222983,"previous_guid":"8FB475C0EF7611EB8E818D7BF4181FFD","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"DB54A9ED359A4101A1B4C9492A89A0B6","order_id":1,"type_id":6,"title":"Section","source":{"title":"t-SNE"}},{"id":1054724,"guid":"6A8439CC4C974C84923C68748E2C3EE2","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">Set the t-SNE parameters (example):<\/div><div class = \"text-block\"><ul style = \"list-style-type:disc;\"><li style = \"counter-reset:ol0;list-style-type:disc;\">set iterations to 200<\/li><li style = \"counter-reset:ol0;list-style-type:disc;\">set perplexity to 10<\/li><li style = \"counter-reset:ol0;list-style-type:disc;\">set shrink factor to 2<\/li><\/ul><\/div><br\/><div class = \"text-block\">Make sure that a \"PCA\" named datanode is available as derived node of the MSI datanode. Start the t-SNE.<\/div><br\/><br\/><div style = \"text-align :; float : ;\"><img style = \"\" src = \"https:\/\/s3.amazonaws.com\/protocols-files\/files\/d7iubigsp.jpg\" \/><\/div><br\/><br\/><br\/><\/div>"}},{"id":1054725,"guid":"4CCC5C4A14804E2EB7D8A375FC7147BE","order_id":2,"type_id":26,"title":"notes","source":{"id":0,"parent_id":0,"uri":"","title":"","body":"<div class = \"text-blocks\"><div class = \"text-block\"><span>To find good parameters for the t-SNE please check the <\/span><a href=\"https:\/\/lvdmaaten.github.io\/tsne\/\" style = \"text-decoration:underline;color:blue;cursor:pointer;\"><span style = \":;\">FQA of Laurens van der Maaten's github.io page<\/span><\/a><span style = \":;\">.<\/span><\/div><\/div>","created_on":0,"changed_on":0,"creator":{"name":"","affiliation":null,"affiliations":[],"username":"","note":null,"link":null,"image":{"source":"","placeholder":""},"badges":[],"verified":0,"is_verified_user":false,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false},"comments":[]}},{"id":1054726,"guid":"40EE02DB3DD14DCDAFD5C255D9CC2DF3","order_id":3,"type_id":26,"title":"notes","source":{"id":0,"parent_id":0,"uri":"","title":"","body":"<div class = \"text-blocks\"><div class = \"text-block\">The calculation of the t-SNE may take some time. The status can be tracked within the console window of M\u00b2aia.<\/div><\/div>","created_on":0,"changed_on":0,"creator":{"name":"","affiliation":null,"affiliations":[],"username":"","note":null,"link":null,"image":{"source":"","placeholder":""},"badges":[],"verified":0,"is_verified_user":false,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false},"comments":[]}},{"id":1054727,"guid":"15F37AC705084277B7F282B3194619BD","order_id":4,"type_id":26,"title":"notes","source":{"id":0,"parent_id":0,"uri":"","title":"","body":"<div class = \"text-blocks\"><div class = \"text-block\">If the image has many pixels (as in the example shown >140k pixels), the calculation time can be very long. This can be reduced e.g. by decreasing the lateral resolution. For this purpose the shrinkage factor can be adjusted. The image is reduced in resolution by dividing the lateral dimensions by the specified factor. This reduces the t-SNE calculation time. After successful application of the t-SNE, the image is resampled to restore the original image geometry.<\/div><\/div>","created_on":0,"changed_on":0,"creator":{"name":"","affiliation":null,"affiliations":[],"username":"","note":null,"link":null,"image":{"source":"","placeholder":""},"badges":[],"verified":0,"is_verified_user":false,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false},"comments":[]}},{"id":1054728,"guid":"EA487F9982994524B93282FC2AC0E2F1","order_id":5,"type_id":1,"title":"description","source":{"description":"<div style = \"text-align :; float : ;\"><img style = \"\" src = \"https:\/\/s3.amazonaws.com\/protocols-files\/files\/d7iubigsp.jpg\" \/><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#FFED92","section_duration":0,"critical":null,"critical_id":null,"duration":0}],"document":"","materials":[],"description":"<div class = \"text-blocks\"><div class = \"text-block\"><a href=\"https:\/\/jtfcordes.github.io\/M2aia\" style = \"text-decoration:underline;color:blue;cursor:pointer;\"><span style = \":;\">M\u00b2aia<\/span><\/a><span> is able to apply dimensionality reduction methods to 2D\/3D MSI images. To demonstrate the DR methods we load a single peptide brain slice MS image, select multiple peaks from a peak list and start a PCA and t-SNE.<\/span><\/div><br\/><\/div>","changed_on":1628835687}