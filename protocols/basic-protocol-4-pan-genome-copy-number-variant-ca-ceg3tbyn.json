{"access":{"can_view":true,"can_edit":false,"can_remove":false,"can_add":false,"can_publish":false,"can_get_doi":false,"can_share":true,"can_move":true,"can_move_outside":true,"can_transfer":true,"can_download":true,"is_locked":false},"authors":[{"name":"miriam.goldman  ","affiliation":"Data Science and Biotechnology, Gladstone Institutes, San Francisco, CA, USA, ; Biomedical Informatics, University of California San Francisco, San Francisco, CA","affiliation_url":null,"username":"n4qle1y1r1x4tle1","link":null,"image":{"source":"/img/avatars/006.png","placeholder":"/img/avatars/006.png","webp_source":""},"note":"","is_verified_user":true},{"name":"chunyu.zhao  ","affiliation":"Data Science, Chan Zuckerberg Biohub, San Francisco, CA, USA, ; Data Science and Biotechnology, Gladstone Institutes, San Francisco, CA, USA","affiliation_url":null,"username":"n4qle1w1s115sle1","link":null,"image":{"source":"/img/avatars/008.png","placeholder":"/img/avatars/008.png","webp_source":""},"note":"","is_verified_user":true}],"before_start":"","book_chapter":null,"can_accept_authorship":false,"can_be_copied":true,"can_claim_authorship":false,"can_remove_fork":false,"can_sign":false,"child_steps":{"67273":[{"id":1444632,"guid":"518C1240091911ED9720ED3D9BC281C6","previous_id":0,"previous_guid":null,"section":"","section_color":"","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"ff20e\",\"text\":\"Install MIDAS2 (See Support Protocol 1)\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"assnl\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{}}","data":null,"protocol_id":67273,"case_id":0,"critical_ids":"","duration":0,"original_id":0,"number":"1","cases":[],"critical":null},{"id":1444633,"guid":"ECDAAD60091911ED9720ED3D9BC281C6","previous_id":1444632,"previous_guid":"518C1240091911ED9720ED3D9BC281C6","section":"","section_color":"","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"fj3tp\",\"text\":\"Create a work folder containing the FASTQ files (here example input files are downloaded from Zenodo)\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"cvo2j\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"ajpuf\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{\"0\":{\"type\":\"notes\",\"mutability\":\"IMMUTABLE\",\"data\":{\"blocks\":[{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"8chc1\",\"text\":\"mkdir midas2_protocol\",\"type\":\"unstyled\"},{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"cnv7\",\"text\":\"cd midas2_protocol\",\"type\":\"unstyled\"},{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"7mq5m\",\"text\":\"wget https://zenodo.org/record/6774633/files/reads.zip\",\"type\":\"unstyled\"},{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"34gqg\",\"text\":\"unzip reads.zip\",\"type\":\"unstyled\"}],\"entityMap\":{}}}}}","data":null,"protocol_id":67273,"case_id":0,"critical_ids":"","duration":0,"original_id":0,"number":"2","cases":[],"critical":null},{"id":1444634,"guid":"0529D260091A11ED9720ED3D9BC281C6","previous_id":1444633,"previous_guid":"ECDAAD60091911ED9720ED3D9BC281C6","section":"","section_color":"","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"76pfn\",\"text\":\"Initialize a local copy of a MIDAS Reference Database (MIDASDB). Here the SCG data from the UHGG MIDASDB is downloaded:\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"gjki\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"bd8ka\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"fg8bd\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"4svpo\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"6qpmb\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"7oueq\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"1s58e\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"f028i\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{\"0\":{\"type\":\"command\",\"mutability\":\"IMMUTABLE\",\"data\":{\"can_edit\":1,\"command_name\":\"\",\"description\":null,\"guid\":\"31642600091A11ED9720ED3D9BC281C6\",\"id\":10613,\"name\":\"midas2 database --init –-midasdb_name uhgg \\\\\\n--midasdb_dir midasdb_uhgg\",\"os_name\":\"\",\"os_version\":null}}}}","data":null,"protocol_id":67273,"case_id":0,"critical_ids":"","duration":0,"original_id":0,"number":"3","cases":[],"critical":null},{"id":1444635,"guid":"33216660091A11ED9720ED3D9BC281C6","previous_id":1444634,"previous_guid":"0529D260091A11ED9720ED3D9BC281C6","section":"","section_color":"","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"2mb9j\",\"text\":\"Run the single-sample species analysis to identify confidently detectable (i.e., relatively abundant) species in each sample, looping through samples. The output file is created automatically under the directories midas2_output/SRR172902/species and midas2_output/SRR172903/species\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"bn8v2\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"9ehke\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"8u4l3\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"202sj\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"7gnoc\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"e61p4\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{\"0\":{\"type\":\"command\",\"mutability\":\"IMMUTABLE\",\"data\":{\"can_edit\":1,\"command_name\":\"\",\"description\":null,\"guid\":\"783321D0091A11ED9720ED3D9BC281C6\",\"id\":10614,\"name\":\"for sample_name in SRR172902 SRR172903\\ndo\\n    midas2 run_species --sample_name ${sample_name} \\\\\\n    -1 reads/${sample_name}.fastq.gz \\\\\\n    --midasdb_name uhgg --midasdb_dir midasdb_uhgg \\\\\\n    --num_cores 4 midas2_output\\nDone\",\"os_name\":\"\",\"os_version\":null}}}}","data":null,"protocol_id":67273,"case_id":0,"critical_ids":"","duration":0,"original_id":0,"number":"4","cases":[],"critical":null},{"id":1444636,"guid":"D4218680091A11ED9720ED3D9BC281C6","previous_id":1444635,"previous_guid":"33216660091A11ED9720ED3D9BC281C6","section":"","section_color":"","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"47ukn\",\"text\":\"Prepare the sample manifest file for the purpose of merging metagenotyping results across samples in the SNV and CNV modules. Generate the desired sample manifest file for SRR172902 and SRR172903.\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"6i43r\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"54vos\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"99nnf\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"cqo7u\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{\"0\":{\"type\":\"command\",\"mutability\":\"IMMUTABLE\",\"data\":{\"can_edit\":1,\"command_name\":\"\",\"description\":\"\",\"guid\":\"E4C005B0091B11ED9720ED3D9BC281C6\",\"id\":10615,\"name\":\"echo -e \\\"sample_name\\\\tmidas_outdir\\\" \\u003e list_of_samples.tsv\\nls reads | awk -F '.' '{print $1}' | awk -v OFS='\\\\t' '{print $1, \\\"midas2_output\\\"}' \\u003e\\u003e list_of_samples.tsv\",\"os_name\":\"\",\"os_version\":null}}}}","data":null,"protocol_id":67273,"case_id":0,"critical_ids":"","duration":0,"original_id":0,"number":"5","cases":[],"critical":null},{"id":1444641,"guid":"EFC167B0091B11ED9720ED3D9BC281C6","previous_id":1444636,"previous_guid":"D4218680091A11ED9720ED3D9BC281C6","section":"","section_color":"","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"7thug\",\"text\":\"Merge species profiling results for the samples listed in the list_of_samples.tsv. The --min_cov flag defines the minimum median_marker_coverage for estimating species prevalence. The output files are created automatically under the directory midas2_output/merge/species.\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"cjhpk\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"ajj56\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"eo3k\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"6il3g\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"f4qh6\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"9f97o\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{\"0\":{\"type\":\"command\",\"mutability\":\"IMMUTABLE\",\"data\":{\"can_edit\":1,\"command_name\":\"\",\"description\":null,\"guid\":\"040C6990091C11ED9720ED3D9BC281C6\",\"id\":10616,\"name\":\"midas2 merge_species --samples_list list_of_samples.tsv --min_cov 0.01 midas2_output/merge\",\"os_name\":\"\",\"os_version\":null}}}}","data":null,"protocol_id":67273,"case_id":0,"critical_ids":"","duration":0,"original_id":0,"number":"6","cases":[],"critical":null}],"67832":[{"id":1449168,"guid":"A4B9EAB00E9F11ED9400E5FB638601B7","previous_id":0,"previous_guid":null,"section":"","section_color":"","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"63ajp\",\"text\":\"Initialize a local copy of MIDASDB-UHGG\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"10pt2\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"ck5q3\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"e2116\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"fom2f\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":1,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"2kbuf\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"7lkv5\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{\"0\":{\"type\":\"command\",\"mutability\":\"IMMUTABLE\",\"data\":{\"can_edit\":1,\"command_name\":\"\",\"description\":null,\"guid\":\"AEB224A00EA011ED980BB107C5B6FBD2\",\"id\":10638,\"name\":\"midas2 database --init --midasdb_name uhgg --midasdb_dir midasdb_uhgg\",\"os_name\":null,\"os_version\":null}},\"1\":{\"type\":\"notes\",\"mutability\":\"IMMUTABLE\",\"data\":{\"blocks\":[{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"5qg80\",\"text\":\"This command creates the local directory midasdb_uhgg/ if it doesn’t exist, and downloads the following files/directories:\",\"type\":\"unstyled\"},{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"bhar6\",\"text\":\"genomes.tsv: the table-of-contents file assigning genomes to species and denoting the representative genome for each species.\",\"type\":\"unordered-list-item\"},{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"5uuoh\",\"text\":\"metadata.tsv: tab-deliminated table specifying the six-digit numeric species identifiers (species_id) with taxonomic assignments.\",\"type\":\"unordered-list-item\"},{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"5qaav\",\"text\":\"md5sum.json: md5sum cache for database files; used internally by MIDAS2 during downloading.\",\"type\":\"unordered-list-item\"},{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"7njtg\",\"text\":\"markers/: SCG data needed for species prescreening.\",\"type\":\"unordered-list-item\"},{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"3voek\",\"text\":\"markers_models/: SCG profile hidden Markov model.\",\"type\":\"unordered-list-item\"},{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"as9kt\",\"text\":\"chunks/: design cache for parallelizing the SNV module over partitions of the representative genome (“chunks”).\",\"type\":\"unordered-list-item\"}],\"entityMap\":{}}}}}","data":null,"protocol_id":67832,"case_id":0,"critical_ids":"","duration":0,"original_id":0,"number":"1","cases":[],"critical":null},{"id":1449173,"guid":"7CBB01600EA011ED980BB107C5B6FBD2","previous_id":1449168,"previous_guid":"A4B9EAB00E9F11ED9400E5FB638601B7","section":"","section_color":"","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"22g88\",\"text\":\"Customize the MIDASDB download. In Basic Protocol 1, 22 species were present in at least one sample list_of_species.tsv). Now those will be downloaded in the database components (both rep-genome and pan-genome) only for these 22 species.\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"9hdqq\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"ab87r\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{\"0\":{\"type\":\"command\",\"mutability\":\"IMMUTABLE\",\"data\":{\"can_edit\":1,\"command_name\":\"\",\"description\":null,\"guid\":\"FF8732800EA011ED980BB107C5B6FBD2\",\"id\":10639,\"name\":\"midas2 database --download --midasdb_name uhgg --midasdb_dir midasdb_uhgg --species_list list_of_species.tsv\",\"os_name\":null,\"os_version\":null}}}}","data":null,"protocol_id":67832,"case_id":0,"critical_ids":"","duration":0,"original_id":0,"number":"2","cases":[],"critical":null},{"id":1449174,"guid":"81161E200EA011ED980BB107C5B6FBD2","previous_id":1449173,"previous_guid":"7CBB01600EA011ED980BB107C5B6FBD2","section":"","section_color":"","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"6te2h\",\"text\":\"The download has completed successfully when the command midas2 database --download finishes and no error is reported.\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{}}","data":null,"protocol_id":67832,"case_id":0,"critical_ids":"","duration":0,"original_id":0,"number":"3","cases":[],"critical":null}]},"cited_protocols":[],"collection_items":[],"created_on":1659032255,"creator":{"name":"miriam.goldman ","affiliation":"","affiliation_url":null,"username":"n4qle1y1r1x4tle1","link":null,"image":{"source":"/img/avatars/006.png","placeholder":"/img/avatars/006.png","webp_source":""},"badges":[{"id":3,"name":"Power author!","image":{"source":"/img/badges/silver.svg","placeholder":"/img/badges/silver.svg"}},{"id":6,"name":"Science accelerator","image":{"source":"/img/badges/accelerator.svg","placeholder":"/img/badges/accelerator.svg"}}],"affiliations":[]},"description":"{\"blocks\":[{\"key\":\"f8k45\",\"text\":\"This protocol describes the CNV module of MIDAS2, which takes as input metagenomic sequencing reads from a set of samples and generates files with CNV genotypes for each sample for all detected species. There are two steps for population CNV calling: (1) single-sample quantification of copy number for each gene in the pangenome of each species with the midas2 run_genes command and (2) population CNV calling with the midas2 merge_genes command. Basic Protocols 1 (Species) and 2 (MIDASDB) should be run before this protocol.\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{}}","disclaimer":"","document":"","documents":[],"doi":"dx.doi.org/10.17504/protocols.io.n92ldzke7v5b/v1","doi_status":2,"fork_id":null,"fork_info":null,"forks":[],"funders":[],"groups":[],"guid":"8CBE2AF00EA111EDABD91995A37B547B","guidelines":"","has_references":false,"has_versions":false,"id":67835,"image":{"source":"https://www.protocols.io/img/default_protocol.png","webp_source":null,"placeholder":"https://www.protocols.io/img/default_protocol.png","webp_placeholder":null},"image_attribution":"","in_trash":false,"is_bookmarked":false,"is_contact_suspended":false,"is_content_confidential":false,"is_content_warning":false,"is_doi_reserved":false,"is_in_pending_publishing":false,"is_in_transfer":false,"is_owner":true,"is_research":false,"is_retracted":false,"is_shared_directly":false,"is_subprotocol":null,"is_unlisted":false,"item_id":978259,"journal":null,"journals":[],"keywords":null,"last_modified":1659119274,"link":"","location":null,"manuscript_citation":"","materials":[],"materials_text":"","ownership_history":null,"parent_collections":[{"id":67834,"title":"MIDAS 2 Protocol","title_html":null,"image":{"source":"https://www.protocols.io/img/default_protocol.png","webp_source":null,"placeholder":"https://www.protocols.io/img/default_protocol.png","webp_placeholder":null},"doi":"dx.doi.org/10.17504/protocols.io.6qpvr6jzpvmk/v1","uri":"midas-2-protocol-ceg2tbye","published_on":1659119272,"modified_on":0,"version_class":0,"version_id":0,"version_code":"","version_uri":"","created_on":1659032164,"categories":null,"creator":{"name":"miriam.goldman ","affiliation":null,"affiliation_url":null,"username":"n4qle1y1r1x4tle1","link":null,"image":{"source":"/img/avatars/006.png","placeholder":"/img/avatars/006.png","webp_source":""}},"stats":null}],"parent_protocols":[],"peer_reviewed":false,"public":true,"public_fork_note":"","published_on":1659119274,"references":[],"related_equipments":[],"reserved_doi":"","retraction_reason":null,"shared_access_id":16,"show_comparison":false,"sign_info":null,"state_version_id":27,"stats":{"is_voted":false,"number_of_views":1,"number_of_steps":6,"number_of_bookmarks":0,"number_of_comments":0,"number_of_bookmarked_comments":0,"number_of_steps_comments":0,"number_of_protocol_comments":0,"number_of_exports":0,"number_of_runs":0,"number_of_votes":0,"number_of_reagents":0,"number_of_equipments":0,"number_of_collections":1,"number_of_forks":{"private":0,"public":0},"number_of_accessible_forks":0},"status":{"id":1,"info":""},"steps":[{"id":1449187,"guid":"25AE95500EA311ED8DC387E7E59E50EE","previous_id":0,"previous_guid":null,"section":"","section_color":"","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"bp96i\",\"text\":\"Perform species prescreening as described in Basic Protocol 1.\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"79dck\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"6jk03\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{\"0\":{\"type\":\"protocols\",\"mutability\":\"IMMUTABLE\",\"data\":{\"id\":67273,\"title\":\"BASIC PROTOCOL 1: Species Prescreening\",\"title_html\":\"BASIC PROTOCOL 1: Species Prescreening\",\"load_collapsed\":true,\"uri\":\"basic-protocol-1-species-prescreening-cdxhs7j6\",\"image\":{\"source\":\"https://www.protocols.io/img/default_protocol.png\",\"webp_source\":null,\"placeholder\":\"https://www.protocols.io/img/default_protocol.png\",\"webp_placeholder\":null},\"creator\":{\"name\":\"miriam.goldman \",\"affiliation\":null,\"affiliation_url\":null,\"username\":\"n4qle1y1r1x4tle1\",\"link\":null,\"image\":{\"source\":\"/img/avatars/006.png\",\"placeholder\":\"/img/avatars/006.png\",\"webp_source\":\"\"}},\"stats\":{\"number_of_steps\":12},\"type_id\":1,\"guid\":\"2AAA37D00EA311ED8DC387E7E59E50EE\"}}}}","data":null,"protocol_id":67835,"case_id":0,"critical_ids":"","duration":0,"original_id":0,"number":"1","cases":[],"critical":null},{"id":1449188,"guid":"2B6300800EA311ED8DC387E7E59E50EE","previous_id":1449187,"previous_guid":"25AE95500EA311ED8DC387E7E59E50EE","section":"","section_color":"","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"81i0b\",\"text\":\"Download MIDASDB as described in Basic Protocol 2.\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"67apv\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"8s8kg\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{\"0\":{\"type\":\"protocols\",\"mutability\":\"IMMUTABLE\",\"data\":{\"id\":67832,\"title\":\"BASIC PROTOCOL 2: Download MIDAS Reference Database\",\"title_html\":\"BASIC PROTOCOL 2: Download MIDAS Reference Database\",\"load_collapsed\":true,\"uri\":\"basic-protocol-2-download-midas-reference-database-cegytbxw\",\"image\":{\"source\":\"https://www.protocols.io/img/default_protocol.png\",\"webp_source\":null,\"placeholder\":\"https://www.protocols.io/img/default_protocol.png\",\"webp_placeholder\":null},\"creator\":{\"name\":\"miriam.goldman \",\"affiliation\":null,\"affiliation_url\":null,\"username\":\"n4qle1y1r1x4tle1\",\"link\":null,\"image\":{\"source\":\"/img/avatars/006.png\",\"placeholder\":\"/img/avatars/006.png\",\"webp_source\":\"\"}},\"stats\":{\"number_of_steps\":3},\"type_id\":1,\"guid\":\"31E4F4E00EA311ED8DC387E7E59E50EE\"}}}}","data":null,"protocol_id":67835,"case_id":0,"critical_ids":"","duration":0,"original_id":0,"number":"2","cases":[],"critical":null},{"id":1449189,"guid":"3277BF000EA311ED8DC387E7E59E50EE","previous_id":1449188,"previous_guid":"2B6300800EA311ED8DC387E7E59E50EE","section":"","section_color":"","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"2dbk5\",\"text\":\"Execute the run_genes command for each sample\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"a4e7q\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"c495d\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"djvhv\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":1,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"c487j\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"4bp1m\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":2,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"fc398\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{\"0\":{\"type\":\"notes\",\"mutability\":\"IMMUTABLE\",\"data\":{\"blocks\":[{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"7b0g4\",\"text\":\"Conceptually, a typical invocation of the run_genes command proceeds by four steps:\",\"type\":\"ordered-list-item\"},{\"data\":{},\"depth\":1,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"a81sl\",\"text\":\"Select the list of species abundant enough for accurate metagenotyping based on the species profiling results and user-defined species selection criterion. Taking SRR172902 as an example, run_genes expect to find the species profiling results at midas2_output/SRR172902/species/species_profile.tsv.\",\"type\":\"ordered-list-item\"},{\"data\":{},\"depth\":1,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"2r71g\",\"text\":\"Compile the pangenomes for these species and build a sample-customized pan-genome bowtie2 index.\",\"type\":\"ordered-list-item\"},{\"data\":{},\"depth\":1,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"ovlp\",\"text\":\"Align reads to this index with bowtie2.\",\"type\":\"ordered-list-item\"},{\"data\":{},\"depth\":1,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"4knk\",\"text\":\"For each gene in the pan-genome, normalize gene coverage by the mean coverage of all that species’ SCGs to estimate copy number per cell [11].\",\"type\":\"ordered-list-item\"},{\"data\":{},\"depth\":1,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"bd7nn\",\"text\":\"Output a read mapping summary and CNV estimates for each species.\",\"type\":\"ordered-list-item\"}],\"entityMap\":{}}},\"1\":{\"type\":\"command\",\"mutability\":\"IMMUTABLE\",\"data\":{\"id\":10643,\"name\":\"for sample_name in SRR172902 SRR172903\\ndo\\n    midas2 run_genes \\\\\\n    --sample_name ${sample_name} \\\\\\n    -1 reads/${sample_name}.fastq.gz \\\\ \\n    --midasdb_name uhgg --midasdb_dir midasdb_uhgg \\\\\\n    --species_list 100122,100277 \\\\\\n    --select_by median_marker_coverage,unique_fraction_covered \\\\\\n    --select_threshold=0,0.6 \\\\\\n    --num_cores 8 midas2_output\\ndone\",\"os_name\":null,\"os_version\":null,\"command_name\":\"midas2 run_genes\",\"description\":null,\"can_edit\":1,\"guid\":\"4C89C9B00EA311ED8DC387E7E59E50EE\"}},\"2\":{\"type\":\"notes\",\"mutability\":\"IMMUTABLE\",\"data\":{\"blocks\":[{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"dtm4c\",\"text\":\"The number of CPUs used is specified via --num_cores 8.\",\"type\":\"unstyled\"}],\"entityMap\":{}}}}}","data":null,"protocol_id":67835,"case_id":0,"critical_ids":"","duration":0,"original_id":0,"number":"3","cases":[],"critical":null},{"id":1449190,"guid":"53C71ED00EA311ED8DC387E7E59E50EE","previous_id":1449189,"previous_guid":"3277BF000EA311ED8DC387E7E59E50EE","section":"","section_color":"","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"5j77s\",\"text\":\"Prepare sample manifest file for merging purpose. We can use the same list_of_samples.tsv generated by step 6 in Basic Protocol 1.\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"fsbci\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"1v2hh\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{\"0\":{\"type\":\"protocols\",\"mutability\":\"IMMUTABLE\",\"data\":{\"id\":67273,\"title\":\"BASIC PROTOCOL 1: Species Prescreening\",\"title_html\":\"BASIC PROTOCOL 1: Species Prescreening\",\"load_collapsed\":true,\"uri\":\"basic-protocol-1-species-prescreening-cdxhs7j6\",\"image\":{\"source\":\"https://www.protocols.io/img/default_protocol.png\",\"webp_source\":null,\"placeholder\":\"https://www.protocols.io/img/default_protocol.png\",\"webp_placeholder\":null},\"creator\":{\"name\":\"miriam.goldman \",\"affiliation\":null,\"affiliation_url\":null,\"username\":\"n4qle1y1r1x4tle1\",\"link\":null,\"image\":{\"source\":\"/img/avatars/006.png\",\"placeholder\":\"/img/avatars/006.png\",\"webp_source\":\"\"}},\"stats\":{\"number_of_steps\":12},\"type_id\":1,\"guid\":\"5F34D7300EA311ED8DC387E7E59E50EE\"}}}}","data":null,"protocol_id":67835,"case_id":0,"critical_ids":"","duration":0,"original_id":0,"number":"4","cases":[],"critical":null},{"id":1449192,"guid":"601B3F900EA311ED8DC387E7E59E50EE","previous_id":1449190,"previous_guid":"53C71ED00EA311ED8DC387E7E59E50EE","section":"","section_color":"","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"6a9t\",\"text\":\"Upon the completion of run_genes for all the samples listed in the list_of_samples.tsv, MIDAS2 merges the CNV profiles across samples with the merge_genes command.\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"ddckj\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"e00fq\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{\"0\":{\"type\":\"command\",\"mutability\":\"IMMUTABLE\",\"data\":{\"id\":10644,\"name\":\"midas2 merge_genes --samples_list list_of_samples.tsv \\\\\\n--midasdb_name uhgg --midasdb_dir midasdb_uhgg \\\\\\n--min_copy 0.5 \\\\\\n--num_cores 2 midas2_output/merge\",\"os_name\":null,\"os_version\":null,\"command_name\":\"\",\"description\":null,\"can_edit\":1,\"guid\":\"74B60F200EA311ED8DC387E7E59E50EE\"}}}}","data":null,"protocol_id":67835,"case_id":0,"critical_ids":"","duration":0,"original_id":0,"number":"5","cases":[],"critical":null},{"id":1449194,"guid":"812272D00EA311ED8DC387E7E59E50EE","previous_id":1449192,"previous_guid":"601B3F900EA311ED8DC387E7E59E50EE","section":"","section_color":"","section_duration":0,"is_substep":false,"step":"{\"blocks\":[{\"key\":\"8vchi\",\"text\":\"Population pangenome CNV analysis has finished successfully when all the following output files are created under the directory midas2_output/merge/genes/ without any error message\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"bd7sk\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"key\":0,\"offset\":0,\"length\":1}],\"data\":{}},{\"key\":\"519ud\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{\"0\":{\"type\":\"notes\",\"mutability\":\"IMMUTABLE\",\"data\":{\"blocks\":[{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"eahip\",\"text\":\"genes_summary.tsv: merged single-sample CNV summary containing information such as mean_coverage.\",\"type\":\"unordered-list-item\"},{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"3odfr\",\"text\":\"\\u003cspecies_id\\u003e/\\u003cspecies_id\\u003e.genes_copynum.tsv.lz4: gene-by-sample matrix of copy-number estimates\",\"type\":\"unordered-list-item\"},{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"e58bc\",\"text\":\"\\u003cspecies_id\\u003e/\\u003cspecies_id\\u003e.genes_preabs q.tsv.lz4: gene-by-sample matrix of gene presence / absence\",\"type\":\"unordered-list-item\"},{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"a146q\",\"text\":\"\\u003cspecies_id\\u003e/\\u003cspecies_id\\u003e.genes_depth.tsv.lz4: gene-by-sample read coverage matrix\",\"type\":\"unordered-list-item\"},{\"data\":{},\"depth\":0,\"entityRanges\":[],\"inlineStyleRanges\":[],\"key\":\"2uj8k\",\"text\":\"\\u003cspecies_id\\u003e/\\u003cspecies_id\\u003e.genes_reads.tsv.lz4: gene-by-sample read counts matrix\",\"type\":\"unordered-list-item\"}],\"entityMap\":{}}}}}","data":null,"protocol_id":67835,"case_id":0,"critical_ids":"","duration":0,"original_id":0,"number":"6","cases":[],"critical":null}],"template_id":5,"title":"BASIC PROTOCOL 4: Pan-genome Copy Number Variant Calling","title_html":"BASIC PROTOCOL 4: Pan-genome Copy Number Variant Calling","type_id":1,"units":[{"id":1,"type_id":3,"name":"µL","can_manage":0},{"id":2,"type_id":3,"name":"mL","can_manage":0},{"id":3,"type_id":3,"name":"L","can_manage":0},{"id":4,"type_id":3,"name":"µg","can_manage":0},{"id":5,"type_id":3,"name":"mg","can_manage":0},{"id":6,"type_id":3,"name":"g","can_manage":0},{"id":7,"type_id":3,"name":"kg","can_manage":0},{"id":8,"type_id":3,"name":"ng","can_manage":0},{"id":9,"type_id":3,"name":"Hz","can_manage":0},{"id":10,"type_id":24,"name":"°C","can_manage":0},{"id":11,"type_id":24,"name":"°К","can_manage":0},{"id":12,"type_id":24,"name":"°F","can_manage":0},{"id":13,"type_id":25,"name":"Mass Percent","can_manage":0},{"id":14,"type_id":25,"name":"% volume","can_manage":0},{"id":15,"type_id":25,"name":"Mass / % volume","can_manage":0},{"id":16,"type_id":25,"name":"Parts per Million (PPM)","can_manage":0},{"id":17,"type_id":25,"name":"Parts per Billion (PPB)","can_manage":0},{"id":18,"type_id":25,"name":"Parts per Trillion (PPT)","can_manage":0},{"id":19,"type_id":25,"name":"Mole Fraction","can_manage":0},{"id":20,"type_id":25,"name":"Mole Percent","can_manage":0},{"id":21,"type_id":25,"name":"Molarity (M)","can_manage":0},{"id":22,"type_id":25,"name":"Molarity (m)","can_manage":0},{"id":23,"type_id":25,"name":"Genome copies per ml","can_manage":0},{"id":24,"type_id":3,"name":"μV","can_manage":0},{"id":25,"type_id":3,"name":"ms","can_manage":0},{"id":26,"type_id":3,"name":"pg","can_manage":0},{"id":27,"type_id":25,"name":"Molarity dilutions","can_manage":0},{"id":28,"type_id":25,"name":"millimolar (mM)","can_manage":0},{"id":29,"type_id":25,"name":"micromolar (µM)","can_manage":0},{"id":30,"type_id":25,"name":"nanomolar (nM)","can_manage":0},{"id":31,"type_id":25,"name":"picomolar (pM)","can_manage":0},{"id":32,"type_id":24,"name":"Room temperature","can_manage":0},{"id":33,"type_id":30,"name":"rpm","can_manage":0},{"id":34,"type_id":30,"name":"x g","can_manage":0},{"id":165,"type_id":24,"name":"On ice","can_manage":0},{"id":200,"type_id":32,"name":"cm","can_manage":0},{"id":201,"type_id":32,"name":"mm","can_manage":0},{"id":202,"type_id":32,"name":"µm","can_manage":0},{"id":203,"type_id":32,"name":"nm","can_manage":0},{"id":204,"type_id":25,"name":"mg/mL","can_manage":0},{"id":205,"type_id":25,"name":"µg/µL","can_manage":0},{"id":206,"type_id":25,"name":"% (v/v)","can_manage":0},{"id":1324,"type_id":30,"name":"rcf","can_manage":0},{"id":1359,"type_id":35,"name":"Bar","can_manage":0},{"id":1360,"type_id":35,"name":"Pa","can_manage":0}],"uri":"basic-protocol-4-pan-genome-copy-number-variant-ca-ceg3tbyn","url":"https://www.protocols.io/view/basic-protocol-4-pan-genome-copy-number-variant-ca-ceg3tbyn","version_class":67835,"version_data":{"id":0,"code":"ceg3tbyn","version_class":67835,"parent_id":null,"parent_uri":null,"is_same_owner":false,"is_parent_public":false,"has_pending_merge_request":false,"has_approved_merge_request":false,"merge_request":null},"version_id":0,"version_uri":"basic-protocol-4-pan-genome-copy-number-variant-ca-n92ldzke7v5b/v1","versions":[{"id":67835,"title":"BASIC PROTOCOL 4: Pan-genome Copy Number Variant Calling","title_html":"BASIC PROTOCOL 4: Pan-genome Copy Number Variant Calling","image":{"source":"https://www.protocols.io/img/default_protocol.png","webp_source":null,"placeholder":"https://www.protocols.io/img/default_protocol.png","webp_placeholder":null},"doi":"dx.doi.org/10.17504/protocols.io.n92ldzke7v5b/v1","uri":"basic-protocol-4-pan-genome-copy-number-variant-ca-ceg3tbyn","published_on":1659119274,"modified_on":1659119274,"version_class":67835,"version_id":0,"version_code":"ceg3tbyn","version_uri":"basic-protocol-4-pan-genome-copy-number-variant-ca-n92ldzke7v5b/v1","created_on":1659032255,"categories":null,"creator":{"name":"miriam.goldman ","affiliation":null,"affiliation_url":null,"username":"n4qle1y1r1x4tle1","link":null,"image":{"source":"/img/avatars/006.png","placeholder":"/img/avatars/006.png","webp_source":""}},"stats":{"number_of_comments":0,"last_comment_time":0}}],"warning":""}