{"id":50570,"title":"Parsing of OAI_DC metadata in OpenRefine from OJS articles","title_html":"<p>Parsing of OAI_DC metadata in OpenRefine from OJS articles<\/p>","image":{"source":"https:\/\/www.protocols.io\/img\/default_protocol.png","placeholder":"https:\/\/www.protocols.io\/img\/default_protocol.png"},"doi":"dx.doi.org\/10.17504\/protocols.io.bvmin44e","doi_status":2,"uri":"parsing-of-oai-dc-metadata-in-openrefine-from-ojs-bvmin44e","type_id":1,"template_id":1,"published_on":1623780277,"parent_protocols":[],"parent_collections":[],"cited_protocols":[],"version_id":0,"version_data":{"id":"0","code":"bvmin44e","parent_id":0,"parent_uri":null,"is_same_owner":false,"has_pending_merge_request":false,"has_approved_merge_request":false},"created_on":1623162722,"modified_on":null,"categories":null,"public":1,"is_unlisted":0,"creator":{"name":"Alessandra  Moi","affiliation":"ATCULT","affiliations":[{"affiliation":"ATCULT","url":"","is_default":1}],"username":"alessandra--moi","note":null,"link":null,"image":{"source":"\/img\/avatars\/012.png","placeholder":"\/img\/avatars\/012.png"},"badges":[{"id":2,"image":{"source":"\/img\/badges\/bronze.svg","placeholder":"\/img\/badges\/bronze.svg"},"name":"Author"}],"verified":0,"is_verified_user":false,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false},"journal":null,"journal_name":null,"journal_link":null,"article_citation":null,"has_versions":0,"link":null,"total_collections":0,"number_of_steps":13,"authors":[{"name":"Alessandra  Moi","affiliation":"ATCULT","affiliations":[],"username":"alessandra--moi","note":"","link":null,"image":{"source":"\/img\/avatars\/012.png","placeholder":"\/img\/avatars\/012.png"},"badges":[],"verified":1,"is_verified_user":true,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false},{"name":"carlo.bianchini","affiliation":"ATCULT","affiliations":[],"username":null,"note":"","link":null,"image":{"source":null,"placeholder":null},"badges":[],"verified":0,"is_verified_user":false,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false},{"name":"Andrea   Marchitelli","affiliation":"ATCULT","affiliations":[],"username":"andrea---marchitelli","note":"","link":null,"image":{"source":"\/img\/avatars\/018.png","placeholder":"\/img\/avatars\/018.png"},"badges":[],"verified":1,"is_verified_user":true,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false}],"versions":[],"groups":[{"id":16595,"uri":"wikidata","title":"wikidata and libraries","image":{"source":"https:\/\/s3.amazonaws.com\/protocols-files\/files\/cuizbabrp.png","placeholder":"https:\/\/s3.amazonaws.com\/protocols-files\/files\/cuizbabrp.png"},"tech_support":{"email":null,"phone":null,"hide_contact":0,"use_email":0,"url":null},"is_member":1,"request":{"id":16595,"uri":"wikidata","title":"wikidata and libraries","image":{"source":"https:\/\/s3.amazonaws.com\/protocols-files\/files\/cuizbabrp.png","placeholder":"https:\/\/s3.amazonaws.com\/protocols-files\/files\/cuizbabrp.png"},"tech_support":{"email":null,"phone":null,"hide_contact":0,"use_email":0,"url":null},"is_member":1,"description":null,"research_interests":null,"website":null,"location":null,"affiliation":null,"status":{"is_visible":true,"access_level":0},"stats":{"files":[],"total_members":0,"total_followers":0,"total_child_groups":0,"total_parent_groups":0,"has_collaborations":0},"user_status":{"is_member":true,"is_confirmed":true,"is_invited":false,"is_owner":false,"is_admin":false,"is_following":false},"join_link":null,"token":null,"owner":{"name":" ","affiliation":null,"affiliations":[],"username":null,"note":null,"link":null,"image":{"source":null,"placeholder":null},"badges":[],"verified":0,"is_verified_user":false,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false},"is_protocol_requested":0,"is_group_requested":0,"is_my":false,"is_request":false,"is_confirmed":1,"is_declined":0,"requester":{"name":" ","affiliation":null,"affiliation_url":null,"username":null,"link":null},"protocol":{"id":0,"title":"Parsing of OAI_DC metadata in OpenRefine from OJS articles","title_html":"Parsing of OAI_DC metadata in OpenRefine from OJS articles","image":{"source":null,"placeholder":null},"doi":null,"doi_status":0,"uri":"parsing-of-oai-dc-metadata-in-openrefine-from-ojs-bvmin44e","type_id":1,"template_id":0,"published_on":null,"stats":{"number_of_views":0,"number_of_steps":0,"number_of_bookmarks":0,"number_of_comments":0,"number_of_exports":0,"number_of_runs":0,"number_of_votes":0,"is_voted":0},"parent_protocols":[],"parent_collections":[],"cited_protocols":[]},"created_on":1623780278,"resolve_on":0,"resolved_user":{"name":" ","affiliation":null,"affiliations":[],"username":null,"note":null,"link":null,"image":{"source":null,"placeholder":null},"badges":[],"verified":0,"is_verified_user":false,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false},"shared":false}}],"is_owner":1,"has_subprotocols":0,"is_subprotocol":0,"is_bookmarked":0,"can_claim_authorship":0,"can_accept_authorship":0,"can_be_copied":1,"can_remove_fork":1,"fork_id":null,"url":"https:\/\/www.protocols.io\/view\/parsing-of-oai-dc-metadata-in-openrefine-from-ojs-bvmin44e","forks_count":{"private":0,"public":0},"access":{"can_view":1,"can_remove":0,"can_add":0,"can_edit":0,"can_publish":0,"can_get_doi":0,"can_share":1,"can_move":1,"can_move_outside":1,"can_transfer":1,"can_download":1,"is_locked":0},"guid":"491626E0C86611EBA17663395C55A9B0","state_version_id":1097,"steps":[{"id":1193369,"guid":"60902190C86611EBA17663395C55A9B0","previous_id":null,"previous_guid":null,"modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"1BB8338EF6D245B6AD725FADF017B144","order_id":1,"type_id":6,"title":"Section","source":{"title":"Attivit\u00e0 preliminari"}},{"id":1054724,"guid":"3BBDBBB51418498E937A42407137BA1F","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">Import the OAI identifiers and generate the baseurl list:<\/div><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#A492FF","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1193372,"guid":"5BF59560C86711EBA17663395C55A9B0","previous_id":1193369,"previous_guid":"60902190C86611EBA17663395C55A9B0","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"8FB6E80F280A4756B8DDC51D1EDBD351","order_id":1,"type_id":6,"title":"Section","source":{"title":"Attivit\u00e0 preliminari"}},{"id":1054724,"guid":"856B1EB209D0430888B2B6989F8B7674","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">Import the identifiers following the instructions in the protocol<\/div><div class = \"text-block\"><a href=\"https:\/\/www.protocols.io\/view\/come-importare-identificatori-oai-pmh-in-openrefin-bp7mmrk6\" style = \"text-decoration:underline;color:blue;cursor:pointer;\"><span style = \":;\">https:\/\/www.protocols.io\/view\/come-importare-identificatori-oai-pmh-in-openrefin-bp7mmrk6<\/span><\/a><\/div><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#A492FF","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1193427,"guid":"22800210C87711EBA17663395C55A9B0","previous_id":null,"previous_guid":null,"modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"6582413FB1F14188BE0FC610266D243C","order_id":1,"type_id":6,"title":"Section","source":{"title":""}},{"id":1054724,"guid":"CA4F99923DCC4DACBC2CE6019B0E5A6E","order_id":1,"type_id":1,"title":"Description","source":{"description":""}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1193429,"guid":"D1859C70C87711EBA17663395C55A9B0","previous_id":1193372,"previous_guid":"5BF59560C86711EBA17663395C55A9B0","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"AF5DFB3982444F38894E9A51DFF2FA0A","order_id":1,"type_id":6,"title":"Section","source":{"title":"Attivit\u00e0 preliminari"}},{"id":1054724,"guid":"BFB2130CE18640B1B18B6D45ED4069B2","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">From the list of imported identifiers, generate the list of baseurl for harvesting the metadata of each item according to the indications given in the protocol \"<\/div><div class = \"text-block\"><a href=\"https:\/\/www.protocols.io\/view\/creare-baseurl-per-harvesting-di-repository-oai-co-bp7pmrmn\" style = \"text-decoration:underline;color:blue;cursor:pointer;\"><span style = \":;\">Creare  baseurl per harvesting di repository OAI con OpenRefine<\/span><\/a><\/div><div class = \"text-block\">\"<\/div><\/div>"}},{"id":1054725,"guid":"C1882E868480449A99E03802CD57ADE1","order_id":2,"type_id":26,"title":"notes","source":{"id":0,"parent_id":0,"uri":"","title":"","body":"<div class = \"text-blocks\"><div class = \"text-block\">N.B. For OAI_DC metadata collection, the metadataPrefix in the url must be=oai_dc<\/div><\/div>","created_on":0,"changed_on":0,"creator":{"name":" ","affiliation":null,"affiliations":[],"username":"","note":null,"link":null,"image":{"source":"","placeholder":""},"badges":[],"verified":0,"is_verified_user":false,"research_interests":null,"blocked_by_you":false,"blocked_you":false,"hide_following":false},"comments":[]}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#A492FF","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1193430,"guid":"006175F0C87811EBA17663395C55A9B0","previous_id":1193429,"previous_guid":"D1859C70C87711EBA17663395C55A9B0","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"E2FE327FE6A94F548154F45692AABD74","order_id":1,"type_id":6,"title":"Section","source":{"title":"Attivit\u00e0 preliminari"}},{"id":1054724,"guid":"1B7577EA7A4E4120A87CF9E39C3789AB","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">Test the operation of one of the generated URLs by clicking on the link and verifying that it opens a page with OAI_CD metadata in XML format.<\/div><div class = \"text-block\">Es. <\/div><div class = \"text-block\"><a href=\"https:\/\/aibstudi.aib.it\/oai?verb=GetRecord&metadataPrefix=oai_dc&identifier=oai:ojs.riviste.aib.it:article\/11366\" style = \"text-decoration:underline;color:blue;cursor:pointer;\"><span style = \":;\">https:\/\/aibstudi.aib.it\/oai?verb=GetRecord&metadataPrefix=oai_dc&identifier=oai:ojs.riviste.aib.it:article\/11366<\/span><\/a><\/div><\/div>"}},{"id":1054725,"guid":"497C2909E98D4DB985EE89FF90A63013","order_id":2,"type_id":17,"title":"result","source":{"body":"<div class = \"text-blocks\"><div class = \"text-block\">OpenRefine will create a column containing XML text with the OAI_DC metadata of the article<\/div><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#A492FF","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1193431,"guid":"1DD681C0C87811EBA17663395C55A9B0","previous_id":1193430,"previous_guid":"006175F0C87811EBA17663395C55A9B0","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"424F1B0BCC0748F6BF4325DE44EDEB93","order_id":1,"type_id":6,"title":"Section","source":{"title":"Harvesting dei metadati"}},{"id":1054724,"guid":"6793FB2D8977480985E3C0F1A9DC724E","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">Click on the metadataURL column , select Edit Column > Add Column by retrieving from URLs, calling the new column metadata_oai.<\/div><div class = \"text-block\">Once you have the metadata value for all items, you can move on to parsing<\/div><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#94EBFF","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1193432,"guid":"2D858D50C87811EBA17663395C55A9B0","previous_id":1193431,"previous_guid":"1DD681C0C87811EBA17663395C55A9B0","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"27E9034597AC4A89B1E549526D4E6859","order_id":1,"type_id":6,"title":"Section","source":{"title":"Parsing dei dati"}},{"id":1054724,"guid":"6E6D6FEC3EB34AD3BBEE04D7BDB04FE1","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">Metadata Parsing <\/div><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#84CE84","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1193434,"guid":"4483A140C87811EBA17663395C55A9B0","previous_id":1193432,"previous_guid":"2D858D50C87811EBA17663395C55A9B0","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"875B495FF9EE4248B14F8567EF8A3A80","order_id":1,"type_id":6,"title":"Section","source":{"title":"Parsing dei dati"}},{"id":1054724,"guid":"69BC294B2CD944288E33E26F65FB57F5","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\"><span style = \"font-weight:bold;\">Publishing data<\/span><\/div><div class = \"text-block\">value.parseXml().select('record')[0].select('metadata')[0].select('oai_dc|dc')[0].select('dc|source')[0].ownText()<\/div><div class = \"text-block\">The values exctracted with the previuos grel command usually contain the Journal title (P1433), the Volume, Issue & publication date (P478, P433, P577) and the Pages from\/to (P304) in a unique string<\/div><div class = \"text-block\">To extract these single values, divide using the command Edit Column > Split and choosing the appropriate separator (e.g.: ';')<\/div><div class = \"text-block\"><span style = \"font-style:italic;\">Total number of pages (P1104)<\/span><\/div><div class = \"text-block\">From the column obtained by the command Split, derive two more columns (PagStr and PagFin) with the value of the starting page and the value of the ending page.<\/div><div class = \"text-block\">Create a new colonn \"NumTotPag (P1104)\" based on the PagFin column with the grel command:<\/div><div class = \"text-block\">toNumber(value-cells['PagStr'].value) + 1<\/div><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#84CE84","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1193438,"guid":"53C963B0C87811EBA17663395C55A9B0","previous_id":1193434,"previous_guid":"4483A140C87811EBA17663395C55A9B0","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"1B85DE69655D4B03975A3A3DF1AA1F54","order_id":1,"type_id":6,"title":"Section","source":{"title":"Parsing dei dati"}},{"id":1054724,"guid":"DADD3622F742480AB50F686F920C1D3F","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\"><span style = \"font-weight:bold;\">DOI (P356)<\/span><\/div><div class = \"text-block\">value.parseXml().select('record')[0].select('metadata')[0].select('oai_dc|dc')[0].select('dc|identifier')[1].ownText()<\/div><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#84CE84","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1193439,"guid":"59310E70C87811EBA17663395C55A9B0","previous_id":1193438,"previous_guid":"53C963B0C87811EBA17663395C55A9B0","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"67EF4B3237084C41B89C9DD824DFE138","order_id":1,"type_id":6,"title":"Section","source":{"title":"Parsing dei dati"}},{"id":1054724,"guid":"E8FBF175635148F795FBB70285641E01","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\"><span style = \"font-weight:bold;\">Title (P1476)<\/span><\/div><div class = \"text-block\">value.parseXml().select('record')[0].select('metadata')[0].select('oai_dc|dc')[0].select('dc|title')[0].ownText()<\/div><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#84CE84","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1193440,"guid":"5D8EC340C87811EBA17663395C55A9B0","previous_id":1193439,"previous_guid":"59310E70C87811EBA17663395C55A9B0","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"A93EEC3128A34136AF5F353F27661744","order_id":1,"type_id":6,"title":"Section","source":{"title":"Parsing dei dati"}},{"id":1054724,"guid":"5634F58AEAD7416FA969323A2AF528BD","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\"><span style = \"font-weight:bold;\">Authors name and related info<\/span><\/div><div class = \"text-block\"><span style = \"font-style:italic;\">Authors data<\/span><\/div><div class = \"text-block\">forEach(value.parseXml().select('record')[0].select('metadata')[0].select('oai_dc|dc')[0].select('dc|creator') ,v,v.ownText()).join(\"|\")<\/div><div class = \"text-block\"><span style = \"font-style:italic;\">Author# inverted form <\/span><\/div><div class = \"text-block\">Once you have the values of all authors in the column \"Authors data\", derive one column for each name author (\"Author#1 inverted form\", \"Author#2 inverted form\", etc...) using the command Edit Column > Split and choosing the separator |<\/div><div class = \"text-block\"><span style = \"font-style:italic;\">First name Author# (P735)  - Surname Author# (P734)<\/span><\/div><div class = \"text-block\"><span>Once you have the values in the column \"Author# inverted form\", derive the two columns \"First name Author# (P735)\" and \"Surname Author# (P734)\"<\/span><span style = \"font-style:italic;\"> <\/span><span>using the command Edit Column > Split and choosing the separator ,<\/span><\/div><div class = \"text-block\"><span style = \"font-style:italic;\">Author# (P50) direct form<\/span><\/div><div class = \"text-block\">Create the new column with the grel command:<\/div><div class = \"text-block\">cells['First name Author# (P735)'].value + ' ' + cells['Surname Author# (P734)'].value<\/div><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#84CE84","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1193443,"guid":"AB4D6960C87811EBA17663395C55A9B0","previous_id":1193440,"previous_guid":"5D8EC340C87811EBA17663395C55A9B0","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"D5FD497AEEBC49C0B9DC1D0383DCB655","order_id":1,"type_id":6,"title":"Section","source":{"title":"Parsing dei dati"}},{"id":1054724,"guid":"BEABA3402FA64ED58CDC6C59E9FEEA00","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\"><span style = \"font-weight:bold;\">Link<\/span><\/div><div class = \"text-block\"><span style = \"font-style:italic;\">URL (P2699)<\/span><\/div><div class = \"text-block\">value.parseXml().select('record')[0].select('metadata')[0].select('oai_dc|dc')[0].select('dc|identifier')[0].ownText()<\/div><div class = \"text-block\"><span style = \"font-style:italic;\">PDF Full text (P953)<\/span><\/div><div class = \"text-block\">value.parseXml().select('record')[0].select('metadata')[0].select('oai_dc|dc')[0].select('dc|relation')[0].ownText()<\/div><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#84CE84","section_duration":0,"critical":null,"critical_id":null,"duration":0},{"id":1193444,"guid":"B8412580C87811EBA17663395C55A9B0","previous_id":1193443,"previous_guid":"AB4D6960C87811EBA17663395C55A9B0","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"4625BBF275504F76BA25745C8C05341B","order_id":1,"type_id":6,"title":"Section","source":{"title":"Parsing dei dati"}},{"id":1054724,"guid":"754FC0112DD04079876FC4BD88373DDB","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\"><span style = \"font-weight:bold;\">Keyword, per language<\/span><\/div><div class = \"text-block\">Once you have the values in a single cell, divide using the command Edit Column > Split and choosing the appropriate separator (e.g.: '|')<\/div><div class = \"text-block\"><span style = \"font-style:italic;\">KW ita (P921)<\/span><\/div><div class = \"text-block\">value.parseXml().select('record')[0].select('metadata')[0].select('oai_dc|dc')[0].select('dc|subject[xml:lang=\"it-IT\"]')[0].ownText()<\/div><div class = \"text-block\"><span style = \"font-style:italic;\">KW eng (P921)<\/span><\/div><div class = \"text-block\">value.parseXml().select('record')[0].select('metadata')[0].select('oai_dc|dc')[0].select('dc|subject[xml:lang=\"en-US\"]')[0].ownText()<\/div><\/div>"}}],"cases":[],"data":null,"html":null,"section":null,"section_color":"#84CE84","section_duration":0,"critical":null,"critical_id":null,"duration":0}],"document":"","materials":[],"description":"<div class = \"text-blocks\"><div class = \"text-block\">Abstract<\/div><div class = \"text-block\">Protocols for parsing metadata in OAI_DC format of articles harvested from Open Journal Systems (OJS) in order to create entities in WikiData<\/div><\/div>","changed_on":1623780277}